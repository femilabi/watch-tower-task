var wu=Object.defineProperty;var xu=(n,t,e)=>t in n?wu(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Hn=(n,t,e)=>xu(n,typeof t!="symbol"?t+"":t,e);import"../root.js";import{A as Cu,t as ku,f as Eu,b as ci,i as $s,g as Su,a as Tl,d as me,c as G,m as Wn,S as zo,M as Tu}from"../index2.js";import"../common4.js";/* empty css              *//* empty css          *//* empty css      *//* empty css               */var Lu=Object.defineProperty,Au=(n,t,e)=>t in n?Lu(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,et=(n,t,e)=>Au(n,typeof t!="symbol"?t+"":t,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mu={exports:{}};(function(n){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
* Prism: Lightweight, robust, elegant syntax highlighting
*
* @license MIT <https://opensource.org/licenses/MIT>
* @author Lea Verou <https://lea.verou.me>
* @namespace
* @public
*/var e=function(i){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,r={},a={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function f(m){return m instanceof l?new l(m.type,f(m.content),m.alias):Array.isArray(m)?m.map(f):m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(f){return Object.prototype.toString.call(f).slice(8,-1)},objId:function(f){return f.__id||Object.defineProperty(f,"__id",{value:++s}),f.__id},clone:function f(m,b){b=b||{};var v,x;switch(a.util.type(m)){case"Object":if(x=a.util.objId(m),b[x])return b[x];v={},b[x]=v;for(var k in m)m.hasOwnProperty(k)&&(v[k]=f(m[k],b));return v;case"Array":return x=a.util.objId(m),b[x]?b[x]:(v=[],b[x]=v,m.forEach(function(E,L){v[L]=f(E,b)}),v);default:return m}},getLanguage:function(f){for(;f;){var m=o.exec(f.className);if(m)return m[1].toLowerCase();f=f.parentElement}return"none"},setLanguage:function(f,m){f.className=f.className.replace(RegExp(o,"gi"),""),f.classList.add("language-"+m)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(v){var f=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(v.stack)||[])[1];if(f){var m=document.getElementsByTagName("script");for(var b in m)if(m[b].src==f)return m[b]}return null}},isActive:function(f,m,b){for(var v="no-"+m;f;){var x=f.classList;if(x.contains(m))return!0;if(x.contains(v))return!1;f=f.parentElement}return!!b}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(f,m){var b=a.util.clone(a.languages[f]);for(var v in m)b[v]=m[v];return b},insertBefore:function(f,m,b,v){v=v||a.languages;var x=v[f],k={};for(var E in x)if(x.hasOwnProperty(E)){if(E==m)for(var L in b)b.hasOwnProperty(L)&&(k[L]=b[L]);b.hasOwnProperty(E)||(k[E]=x[E])}var I=v[f];return v[f]=k,a.languages.DFS(a.languages,function(H,j){j===I&&H!=f&&(this[H]=k)}),k},DFS:function f(m,b,v,x){x=x||{};var k=a.util.objId;for(var E in m)if(m.hasOwnProperty(E)){b.call(m,E,m[E],v||E);var L=m[E],I=a.util.type(L);I==="Object"&&!x[k(L)]?(x[k(L)]=!0,f(L,b,null,x)):I==="Array"&&!x[k(L)]&&(x[k(L)]=!0,f(L,b,E,x))}}},plugins:{},highlightAll:function(f,m){a.highlightAllUnder(document,f,m)},highlightAllUnder:function(f,m,b){var v={callback:b,container:f,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",v),v.elements=Array.prototype.slice.apply(v.container.querySelectorAll(v.selector)),a.hooks.run("before-all-elements-highlight",v);for(var x=0,k;k=v.elements[x++];)a.highlightElement(k,m===!0,v.callback)},highlightElement:function(f,m,b){var v=a.util.getLanguage(f),x=a.languages[v];a.util.setLanguage(f,v);var k=f.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(k,v);var E=f.textContent,L={element:f,language:v,grammar:x,code:E};function I(j){L.highlightedCode=j,a.hooks.run("before-insert",L),L.element.innerHTML=L.highlightedCode,a.hooks.run("after-highlight",L),a.hooks.run("complete",L),b&&b.call(L.element)}if(a.hooks.run("before-sanity-check",L),k=L.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!L.code){a.hooks.run("complete",L),b&&b.call(L.element);return}if(a.hooks.run("before-highlight",L),!L.grammar){I(a.util.encode(L.code));return}if(m&&i.Worker){var H=new Worker(a.filename);H.onmessage=function(j){I(j.data)},H.postMessage(JSON.stringify({language:L.language,code:L.code,immediateClose:!0}))}else I(a.highlight(L.code,L.grammar,L.language))},highlight:function(f,m,b){var v={code:f,grammar:m,language:b};if(a.hooks.run("before-tokenize",v),!v.grammar)throw new Error('The language "'+v.language+'" has no grammar.');return v.tokens=a.tokenize(v.code,v.grammar),a.hooks.run("after-tokenize",v),l.stringify(a.util.encode(v.tokens),v.language)},tokenize:function(f,m){var b=m.rest;if(b){for(var v in b)m[v]=b[v];delete m.rest}var x=new d;return h(x,x.head,f),u(f,x,m,x.head,0),g(x)},hooks:{all:{},add:function(f,m){var b=a.hooks.all;b[f]=b[f]||[],b[f].push(m)},run:function(f,m){var b=a.hooks.all[f];if(!(!b||!b.length))for(var v=0,x;x=b[v++];)x(m)}},Token:l};i.Prism=a;function l(f,m,b,v){this.type=f,this.content=m,this.alias=b,this.length=(v||"").length|0}l.stringify=function f(m,b){if(typeof m=="string")return m;if(Array.isArray(m)){var v="";return m.forEach(function(I){v+=f(I,b)}),v}var x={type:m.type,content:f(m.content,b),tag:"span",classes:["token",m.type],attributes:{},language:b},k=m.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(x.classes,k):x.classes.push(k)),a.hooks.run("wrap",x);var E="";for(var L in x.attributes)E+=" "+L+'="'+(x.attributes[L]||"").replace(/"/g,"&quot;")+'"';return"<"+x.tag+' class="'+x.classes.join(" ")+'"'+E+">"+x.content+"</"+x.tag+">"};function c(f,m,b,v){f.lastIndex=m;var x=f.exec(b);if(x&&v&&x[1]){var k=x[1].length;x.index+=k,x[0]=x[0].slice(k)}return x}function u(f,m,b,v,x,k){for(var E in b)if(!(!b.hasOwnProperty(E)||!b[E])){var L=b[E];L=Array.isArray(L)?L:[L];for(var I=0;I<L.length;++I){if(k&&k.cause==E+","+I)return;var H=L[I],j=H.inside,Z=!!H.lookbehind,$=!!H.greedy,Y=H.alias;if($&&!H.pattern.global){var P=H.pattern.toString().match(/[imsuy]*$/)[0];H.pattern=RegExp(H.pattern.source,P+"g")}for(var C=H.pattern||H,S=v.next,A=x;S!==m.tail&&!(k&&A>=k.reach);A+=S.value.length,S=S.next){var O=S.value;if(m.length>f.length)return;if(!(O instanceof l)){var T=1,N;if($){if(N=c(C,A,f,Z),!N||N.index>=f.length)break;var U=N.index,F=N.index+N[0].length,M=A;for(M+=S.value.length;U>=M;)S=S.next,M+=S.value.length;if(M-=S.value.length,A=M,S.value instanceof l)continue;for(var z=S;z!==m.tail&&(M<F||typeof z.value=="string");z=z.next)T++,M+=z.value.length;T--,O=f.slice(A,M),N.index-=A}else if(N=c(C,0,O,Z),!N)continue;var U=N.index,q=N[0],X=O.slice(0,U),J=O.slice(U+q.length),Q=A+O.length;k&&Q>k.reach&&(k.reach=Q);var at=S.prev;X&&(at=h(m,at,X),A+=X.length),p(m,at,T);var st=new l(E,j?a.tokenize(q,j):q,Y,q);if(S=h(m,at,st),J&&h(m,S,J),T>1){var ht={cause:E+","+I,reach:Q};u(f,m,b,S.prev,A,ht),k&&ht.reach>k.reach&&(k.reach=ht.reach)}}}}}}function d(){var f={value:null,prev:null,next:null},m={value:null,prev:f,next:null};f.next=m,this.head=f,this.tail=m,this.length=0}function h(f,m,b){var v=m.next,x={value:b,prev:m,next:v};return m.next=x,v.prev=x,f.length++,x}function p(f,m,b){for(var v=m.next,x=0;x<b&&v!==f.tail;x++)v=v.next;m.next=v,v.prev=m,f.length-=x}function g(f){for(var m=[],b=f.head.next;b!==f.tail;)m.push(b.value),b=b.next;return m}if(!i.document)return i.addEventListener&&(a.disableWorkerMessageHandler||i.addEventListener("message",function(f){var m=JSON.parse(f.data),b=m.language,v=m.code,x=m.immediateClose;i.postMessage(a.highlight(v,a.languages[b],b)),x&&i.close()},!1)),a;var y=a.util.currentScript();y&&(a.filename=y.src,y.hasAttribute("data-manual")&&(a.manual=!0));function _(){a.manual||a.highlightAll()}if(!a.manual){var w=document.readyState;w==="loading"||w==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",_):window.requestAnimationFrame?window.requestAnimationFrame(_):window.setTimeout(_,16)}return a}(t);n.exports&&(n.exports=e),typeof Mr<"u"&&(Mr.Prism=e),e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(i,o){var s={};s["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[o]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};r["language-"+o]={pattern:/[\s\S]+/,inside:e.languages[o]};var a={};a[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:r},e.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(i,o){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:e.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml,function(i){var o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var s=i.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript,function(){if(typeof e>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading…",o=function(y,_){return"✖ Error "+y+" while fetching file: "+_},s="✖ Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",c="loaded",u="failed",d="pre[data-src]:not(["+a+'="'+c+'"]):not(['+a+'="'+l+'"])';function h(y,_,w){var f=new XMLHttpRequest;f.open("GET",y,!0),f.onreadystatechange=function(){f.readyState==4&&(f.status<400&&f.responseText?_(f.responseText):f.status>=400?w(o(f.status,f.statusText)):w(s))},f.send(null)}function p(y){var _=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(y||"");if(_){var w=Number(_[1]),f=_[2],m=_[3];return f?m?[w,Number(m)]:[w,void 0]:[w,w]}}e.hooks.add("before-highlightall",function(y){y.selector+=", "+d}),e.hooks.add("before-sanity-check",function(y){var _=y.element;if(_.matches(d)){y.code="",_.setAttribute(a,l);var w=_.appendChild(document.createElement("CODE"));w.textContent=i;var f=_.getAttribute("data-src"),m=y.language;if(m==="none"){var b=(/\.(\w+)$/.exec(f)||[,"none"])[1];m=r[b]||b}e.util.setLanguage(w,m),e.util.setLanguage(_,m);var v=e.plugins.autoloader;v&&v.loadLanguages(m),h(f,function(x){_.setAttribute(a,c);var k=p(_.getAttribute("data-range"));if(k){var E=x.split(/\r\n?|\n/g),L=k[0],I=k[1]==null?E.length:k[1];L<0&&(L+=E.length),L=Math.max(0,Math.min(L-1,E.length)),I<0&&(I+=E.length),I=Math.max(0,Math.min(I,E.length)),x=E.slice(L,I).join(`
`),_.hasAttribute("data-start")||_.setAttribute("data-start",String(L+1))}w.textContent=x,e.highlightElement(w)},function(x){_.setAttribute(a,u),w.textContent=x})}}),e.plugins.fileHighlight={highlight:function(y){for(var _=(y||document).querySelectorAll(d),w=0,f;f=_[w++];)e.highlightElement(f)}};var g=!1;e.fileHighlight=function(){g||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),g=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Mu);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(n,t){var e={};e["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},e.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:e}};i["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function e(u){return u=u.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+u+")")}var i=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return i}),s=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+s+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+s+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(i),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+s+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(i),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:e(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:e(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:e(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:e(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(u){["url","bold","italic","strike","code-snippet"].forEach(function(d){u!==d&&(n.languages.markdown[u].inside.content.inside[d]=n.languages.markdown[d])})}),n.hooks.add("after-tokenize",function(u){if(u.language!=="markdown"&&u.language!=="md")return;function d(h){if(!(!h||typeof h=="string"))for(var p=0,g=h.length;p<g;p++){var y=h[p];if(y.type!=="code"){d(y.content);continue}var _=y.content[1],w=y.content[3];if(_&&w&&_.type==="code-language"&&w.type==="code-block"&&typeof _.content=="string"){var f=_.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");f=(/[a-z][\w-]*/i.exec(f)||[""])[0].toLowerCase();var m="language-"+f;w.alias?typeof w.alias=="string"?w.alias=[w.alias,m]:w.alias.push(m):w.alias=[m]}}}d(u.tokens)}),n.hooks.add("wrap",function(u){if(u.type==="code-block"){for(var d="",h=0,p=u.classes.length;h<p;h++){var g=u.classes[h],y=/language-(.+)/.exec(g);if(y){d=y[1];break}}var _=n.languages[d];if(_)u.content=n.highlight(c(u.content),_,d);else if(d&&d!=="none"&&n.plugins.autoloader){var w="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);u.attributes.id=w,n.plugins.autoloader.loadLanguages(d,function(){var f=document.getElementById(w);f&&(f.innerHTML=n.highlight(f.textContent,n.languages[d],d))})}}});var r=RegExp(n.languages.markup.tag.pattern.source,"gi"),a={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;function c(u){var d=u.replace(r,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(h,p){if(p=p.toLowerCase(),p[0]==="#"){var g;return p[1]==="x"?g=parseInt(p.slice(2),16):g=Number(p.slice(1)),l(g)}else{var y=a[p];return y||h}}),d}n.languages.md=n.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var e=n.languages.markup;e&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(n){var t=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};t.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}})(Prism);Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(n){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,e=0;e<2;e++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var t=n.languages.extend("typescript",{});delete t["class-name"],n.languages.typescript["class-name"].inside=t,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),n.languages.ts=n.languages.typescript})(Prism);(function(n){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,e=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:i.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+e+/[A-Z]\w*\b/.source),lookbehind:!0,inside:i.inside}],keyword:t,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+e+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:i.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+e+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:i.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(n){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,e=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return e})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])})(Prism);function Ce(n){return{}}const _o={},Du={},Ll={},Ze={},bn={},qi={},vn={},Us={},ls={},ui={},di={},be={},bo={},vo={},Ou={},Al={},Pu={},Nl={},Fu={},Ml={},Dl={},Yi={},Iu={},Xi={},Ol={},Vs={},Ru={},Bu={},Pl={},cs={},Fl={},Il={},Rl={},Bl={},Hu={},wo={},js={},us={},Wu={},zu={},Gn={},Qn={},$u={},Uu={},Vu={},ie=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ju=ie&&"documentMode"in document?document.documentMode:null,Xt=ie&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Pe=ie&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ji=!(!ie||!("InputEvent"in window)||ju)&&"getTargetRanges"in new window.InputEvent("input"),Ks=ie&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),xo=ie&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ku=ie&&/Android/.test(navigator.userAgent),Hl=ie&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Zu=ie&&Ku&&Hl,Zs=ie&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Hl,bi=1,Be=3,Xe=0,Wl=1,kn=2,qu=0,Yu=1,Xu=2,Gi=4,Qi=8,qs=128,Ju=112|(3|Gi|Qi)|qs,Ys=1,Xs=2,Js=3,Gs=4,Qs=5,tr=6,Co=Ks||xo||Zs?" ":"​",ve=`

`,Gu=Pe?" ":Co,zl="֑-߿יִ-﷽ﹰ-ﻼ",$l="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Qu=new RegExp("^[^"+$l+"]*["+zl+"]"),td=new RegExp("^[^"+zl+"]*["+$l+"]"),Je={bold:1,code:16,highlight:qs,italic:2,strikethrough:Gi,subscript:32,superscript:64,underline:Qi},ed={directionless:1,unmergeable:2},Dr={center:Xs,end:tr,justify:Gs,left:Ys,right:Js,start:Qs},nd={[Xs]:"center",[tr]:"end",[Gs]:"justify",[Ys]:"left",[Js]:"right",[Qs]:"start"},id={normal:0,segmented:2,token:1},od={[qu]:"normal",[Xu]:"segmented",[Yu]:"token"};function sd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var V=sd(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function to(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[i]of e.matchAll(/\S+/g))t.push(i);return t}const rd=100;let ds=!1,er=0;function ad(n){er=n.timeStamp}function $o(n,t,e){return t.__lexicalLineBreak===n||n[`__lexicalKey_${e._key}`]!==void 0}function ld(n,t,e){const i=ue(e._window);let o=null,s=null;i!==null&&i.anchorNode===n&&(o=i.anchorOffset,s=i.focusOffset);const r=n.nodeValue;r!==null&&rr(t,r,o,s,!1)}function cd(n,t,e){if(R(n)){const i=n.anchor.getNode();if(i.is(e)&&n.format!==i.getFormat())return!1}return t.nodeType===Be&&e.isAttached()}function Ul(n,t,e){ds=!0;const i=performance.now()-er>rd;try{Vt(n,()=>{const o=W()||function(h){return h.getEditorState().read(()=>{const p=W();return p!==null?p.clone():null})}(n),s=new Map,r=n.getRootElement(),a=n._editorState,l=n._blockCursorElement;let c=!1,u="";for(let h=0;h<t.length;h++){const p=t[h],g=p.type,y=p.target;let _=we(y,a);if(!(_===null&&y!==r||pt(_))){if(g==="characterData")i&&B(_)&&cd(o,y,_)&&ld(y,_,n);else if(g==="childList"){c=!0;const w=p.addedNodes;for(let b=0;b<w.length;b++){const v=w[b],x=ql(v),k=v.parentNode;if(k!=null&&v!==l&&x===null&&(v.nodeName!=="BR"||!$o(v,k,n))){if(Pe){const E=v.innerText||v.nodeValue;E&&(u+=E)}k.removeChild(v)}}const f=p.removedNodes,m=f.length;if(m>0){let b=0;for(let v=0;v<m;v++){const x=f[v];(x.nodeName==="BR"&&$o(x,y,n)||l===x)&&(y.appendChild(x),b++)}m!==b&&(y===r&&(_=Xl(a)),s.set(y,_))}}}}if(s.size>0)for(const[h,p]of s)if(D(p)){const g=p.getChildrenKeys();let y=h.firstChild;for(let _=0;_<g.length;_++){const w=g[_],f=n.getElementByKey(w);f!==null&&(y==null?(h.appendChild(f),y=f):y!==f&&h.replaceChild(f,y),y=y.nextSibling)}}else B(p)&&p.markDirty();const d=e.takeRecords();if(d.length>0){for(let h=0;h<d.length;h++){const p=d[h],g=p.addedNodes,y=p.target;for(let _=0;_<g.length;_++){const w=g[_],f=w.parentNode;f==null||w.nodeName!=="BR"||$o(w,y,n)||f.removeChild(w)}}e.takeRecords()}o!==null&&(c&&(o.dirty=!0,le(o)),Pe&&tc(n)&&o.insertRawText(u))})}finally{ds=!1}}function Vl(n){const t=n._observer;t!==null&&Ul(n,t.takeRecords(),t)}function jl(n){(function(t){er===0&&So(t).addEventListener("textInput",ad,!0)})(n),n._observer=new MutationObserver((t,e)=>{Ul(n,t,e)})}function Or(n,t){const e=n.__mode,i=n.__format,o=n.__style,s=t.__mode,r=t.__format,a=t.__style;return!(e!==null&&e!==s||i!==null&&i!==r||o!==null&&o!==a)}function Pr(n,t){const e=n.mergeWithSibling(t),i=vt()._normalizedNodes;return i.add(n.__key),i.add(t.__key),e}function Fr(n){let t,e,i=n;if(i.__text!==""||!i.isSimpleText()||i.isUnmergeable()){for(;(t=i.getPreviousSibling())!==null&&B(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(Or(t,i)){i=Pr(t,i);break}break}t.remove()}for(;(e=i.getNextSibling())!==null&&B(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Or(i,e)){i=Pr(i,e);break}break}e.remove()}}else i.remove()}function nr(n){return Ir(n.anchor),Ir(n.focus),n}function Ir(n){for(;n.type==="element";){const t=n.getNode(),e=n.offset;let i,o;if(e===t.getChildrenSize()?(i=t.getChildAtIndex(e-1),o=!0):(i=t.getChildAtIndex(e),o=!1),B(i)){n.set(i.__key,o?i.getTextContentSize():0,"text");break}if(!D(i))break;n.set(i.__key,o?i.getChildrenSize():0,"element")}}let ud=1;const dd=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function ir(n){const t=document.activeElement;if(t===null)return!1;const e=t.nodeName;return pt(we(n))&&(e==="INPUT"||e==="TEXTAREA"||t.contentEditable==="true"&&t.__lexicalEditor==null)}function vi(n,t,e){const i=n.getRootElement();try{return i!==null&&i.contains(t)&&i.contains(e)&&t!==null&&!ir(t)&&Kl(t)===n}catch{return!1}}function Kl(n){let t=n;for(;t!=null;){const e=t.__lexicalEditor;if(e!=null)return e;t=Eo(t)}return null}function dn(n){return n.isToken()||n.isSegmented()}function hd(n){return n.nodeType===Be}function eo(n){let t=n;for(;t!=null;){if(hd(t))return t;t=t.firstChild}return null}function hs(n,t,e){const i=Je[t];if(e!==null&&(n&i)==(e&i))return n;let o=n^i;return t==="subscript"?o&=-65:t==="superscript"&&(o&=-33),o}function Zl(n){return B(n)||Fe(n)||pt(n)}function pd(n,t){if(t!=null)return void(n.__key=t);zt(),vc();const e=vt(),i=ke(),o=""+ud++;i._nodeMap.set(o,n),D(n)?e._dirtyElements.set(o,!0):e._dirtyLeaves.add(o),e._cloneNotNeeded.add(o),e._dirtyType=Wl,n.__key=o}function qe(n){const t=n.getParent();if(t!==null){const e=n.getWritable(),i=t.getWritable(),o=n.getPreviousSibling(),s=n.getNextSibling();if(o===null)if(s!==null){const r=s.getWritable();i.__first=s.__key,r.__prev=null}else i.__first=null;else{const r=o.getWritable();if(s!==null){const a=s.getWritable();a.__prev=r.__key,r.__next=a.__key}else r.__next=null;e.__prev=null}if(s===null)if(o!==null){const r=o.getWritable();i.__last=o.__key,r.__next=null}else i.__last=null;else{const r=s.getWritable();if(o!==null){const a=o.getWritable();a.__next=r.__key,r.__prev=a.__key}else r.__prev=null;e.__next=null}i.__size--,e.__parent=null}}function no(n){vc();const t=n.getLatest(),e=t.__parent,i=ke(),o=vt(),s=i._nodeMap,r=o._dirtyElements;e!==null&&function(l,c,u){let d=l;for(;d!==null;){if(u.has(d))return;const h=c.get(d);if(h===void 0)break;u.set(d,!1),d=h.__parent}}(e,s,r);const a=t.__key;o._dirtyType=Wl,D(n)?r.set(a,!0):o._dirtyLeaves.add(a)}function Dt(n){zt();const t=vt(),e=t._compositionKey;if(n!==e){if(t._compositionKey=n,e!==null){const i=ct(e);i!==null&&i.getWritable()}if(n!==null){const i=ct(n);i!==null&&i.getWritable()}}}function Ne(){return An()?null:vt()._compositionKey}function ct(n,t){const e=(t||ke())._nodeMap.get(n);return e===void 0?null:e}function ql(n,t){const e=n[`__lexicalKey_${vt()._key}`];return e!==void 0?ct(e,t):null}function we(n,t){let e=n;for(;e!=null;){const i=ql(e,t);if(i!==null)return i;e=Eo(e)}return null}function Yl(n){const t=n._decorators,e=Object.assign({},t);return n._pendingDecorators=e,e}function Rr(n){return n.read(()=>xt().getTextContent())}function xt(){return Xl(ke())}function Xl(n){return n._nodeMap.get("root")}function le(n){zt();const t=ke();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),t._selection=n}function gn(n){const t=vt(),e=function(i,o){let s=i;for(;s!=null;){const r=s[`__lexicalKey_${o._key}`];if(r!==void 0)return r;s=Eo(s)}return null}(n,t);return e===null?n===t.getRootElement()?ct("root"):null:ct(e)}function Br(n,t){return t?n.getTextContentSize():0}function Jl(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function or(n){const t=[];let e=n;for(;e!==null;)t.push(e),e=e._parentEditor;return t}function Gl(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Ql(n){return n.nodeType===Be?n.nodeValue:null}function sr(n,t,e){const i=ue(t._window);if(i===null)return;const o=i.anchorNode;let{anchorOffset:s,focusOffset:r}=i;if(o!==null){let a=Ql(o);const l=we(o);if(a!==null&&B(l)){if(a===Co&&e){const c=e.length;a=e,s=c,r=c}a!==null&&rr(l,a,s,r,n)}}}function rr(n,t,e,i,o){let s=n;if(s.isAttached()&&(o||!s.isDirty())){const r=s.isComposing();let a=t;(r||o)&&t[t.length-1]===Co&&(a=t.slice(0,-1));const l=s.getTextContent();if(o||a!==l){if(a===""){if(Dt(null),Ks||xo||Zs)s.remove();else{const y=vt();setTimeout(()=>{y.update(()=>{s.isAttached()&&s.remove()})},20)}return}const c=s.getParent(),u=Ci(),d=s.getTextContentSize(),h=Ne(),p=s.getKey();if(s.isToken()||h!==null&&p===h&&!r||R(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===n.__key&&u.anchor.offset===0&&!s.canInsertTextBefore()&&!r||u.focus.key===n.__key&&u.focus.offset===d&&!s.canInsertTextAfter()&&!r))return void s.markDirty();const g=W();if(!R(g)||e===null||i===null)return void s.setTextContent(a);if(g.setTextNodeRange(s,e,s,i),s.isSegmented()){const y=Ct(s.getTextContent());s.replace(y),s=y}s.setTextContent(a)}}}function gd(n,t){if(t.isSegmented())return!0;if(!n.isCollapsed())return!1;const e=n.anchor.offset,i=t.getParentOrThrow(),o=t.isToken();return e===0?!t.canInsertTextBefore()||!i.canInsertTextBefore()&&!t.isComposing()||o||function(s){const r=s.getPreviousSibling();return(B(r)||D(r)&&r.isInline())&&!r.canInsertTextAfter()}(t):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!i.canInsertTextAfter()&&!t.isComposing()||o)}function Hr(n){return n==="ArrowLeft"}function Wr(n){return n==="ArrowRight"}function ti(n,t){return Xt?n:t}function zr(n){return n==="Enter"}function zn(n){return n==="Backspace"}function $n(n){return n==="Delete"}function $r(n,t,e){return n.toLowerCase()==="a"&&ti(t,e)}function fd(){const n=xt();le(nr(n.select(0,n.getChildrenSize())))}function oi(n,t){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const e=n.__lexicalClassNameCache,i=e[t];if(i!==void 0)return i;const o=n[t];if(typeof o=="string"){const s=to(o);return e[t]=s,s}return o}function ar(n,t,e,i,o){if(e.size===0)return;const s=i.__type,r=i.__key,a=t.get(s);a===void 0&&V(33,s);const l=a.klass;let c=n.get(l);c===void 0&&(c=new Map,n.set(l,c));const u=c.get(r),d=u==="destroyed"&&o==="created";(u===void 0||d)&&c.set(r,d?"updated":o)}function Ur(n,t,e){const i=n.getParent();let o=e,s=n;return i!==null&&(t&&e===0?(o=s.getIndexWithinParent(),s=i):t||e!==s.getChildrenSize()||(o=s.getIndexWithinParent()+1,s=i)),s.getChildAtIndex(t?o-1:o)}function hi(n,t){const e=n.offset;if(n.type==="element")return Ur(n.getNode(),t,e);{const i=n.getNode();if(t&&e===0||!t&&e===i.getTextContentSize()){const o=t?i.getPreviousSibling():i.getNextSibling();return o===null?Ur(i.getParentOrThrow(),t,i.getIndexWithinParent()+(t?0:1)):o}}return null}function tc(n){const t=So(n).event,e=t&&t.inputType;return e==="insertFromPaste"||e==="insertFromPasteAsQuotation"}function K(n,t,e){return wc(n,t,e)}function ko(n){return!Ft(n)&&!n.isLastChild()&&!n.isInline()}function io(n,t){const e=n._keyToDOMMap.get(t);return e===void 0&&V(75,t),e}function Eo(n){const t=n.assignedSlot||n.parentElement;return t!==null&&t.nodeType===11?t.host:t}function ps(n,t){let e=n.getParent();for(;e!==null;){if(e.is(t))return!0;e=e.getParent()}return!1}function So(n){const t=n._window;return t===null&&V(78),t}function md(n){let t=n.getParentOrThrow();for(;t!==null;){if(ce(t))return t;t=t.getParentOrThrow()}return t}function ce(n){return Ft(n)||D(n)&&n.isShadowRoot()}function It(n){const t=vt(),e=n.constructor.getType(),i=t._nodes.get(e);i===void 0&&V(97);const o=i.replace;if(o!==null){const s=o(n);return s instanceof n.constructor||V(98),s}return n}function Uo(n,t){!Ft(n.getParent())||D(t)||pt(t)||V(99)}function Vo(n){return(pt(n)||D(n)&&!n.canBeEmpty())&&!n.isInline()}function lr(n,t,e){e.style.removeProperty("caret-color"),t._blockCursorElement=null;const i=n.parentElement;i!==null&&i.removeChild(n)}function yd(n,t,e){let i=n._blockCursorElement;if(R(e)&&e.isCollapsed()&&e.anchor.type==="element"&&t.contains(document.activeElement)){const o=e.anchor,s=o.getNode(),r=o.offset;let a=!1,l=null;if(r===s.getChildrenSize())Vo(s.getChildAtIndex(r-1))&&(a=!0);else{const c=s.getChildAtIndex(r);if(Vo(c)){const u=c.getPreviousSibling();(u===null||Vo(u))&&(a=!0,l=n.getElementByKey(c.__key))}}if(a){const c=n.getElementByKey(s.__key);return i===null&&(n._blockCursorElement=i=function(u){const d=u.theme,h=document.createElement("div");h.contentEditable="false",h.setAttribute("data-lexical-cursor","true");let p=d.blockCursor;if(p!==void 0){if(typeof p=="string"){const g=to(p);p=d.blockCursor=g}p!==void 0&&h.classList.add(...p)}return h}(n._config)),t.style.caretColor="transparent",void(l===null?c.appendChild(i):c.insertBefore(i,l))}}i!==null&&lr(i,n,t)}function ue(n){return ie?(n||window).getSelection():null}function _d(n){return ge(n)&&n.tagName==="A"}function ge(n){return n.nodeType===1}function bd(n){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(t)!==null}function vd(n){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(t)!==null}function hn(n){if(Ft(n)||pt(n)&&!n.isInline())return!0;if(!D(n)||ce(n))return!1;const t=n.getFirstChild(),e=t===null||Fe(t)||B(t)||t.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&e}function jo(n,t){let e=n;for(;e!==null&&e.getParent()!==null&&!t(e);)e=e.getParentOrThrow();return t(e)?e:null}function ec(n,t,e,i,o,s){let r=n.getFirstChild();for(;r!==null;){const a=r.__key;r.__parent===t&&(D(r)&&ec(r,a,e,i,o,s),e.has(a)||s.delete(a),o.push(a)),r=r.getNextSibling()}}let Ie,Bt,pi,To,gs,fs,Ge,te,ms,gi,Et="",Rt="",Jt=null,_e="",nc=!1,Lo=!1,Ki=null;function oo(n,t){const e=Ge.get(n);if(t!==null){const i=bs(n);i.parentNode===t&&t.removeChild(i)}if(te.has(n)||Bt._keyToDOMMap.delete(n),D(e)){const i=ro(e,Ge);ys(i,0,i.length-1,null)}e!==void 0&&ar(gi,pi,To,e,"destroyed")}function ys(n,t,e,i){let o=t;for(;o<=e;++o){const s=n[o];s!==void 0&&oo(s,i)}}function We(n,t){n.setProperty("text-align",t)}const wd="40px";function ic(n,t){const e=Ie.theme.indent;if(typeof e=="string"){const o=n.classList.contains(e);t>0&&!o?n.classList.add(e):t<1&&o&&n.classList.remove(e)}const i=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||wd;n.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${i})`)}function oc(n,t){const e=n.style;t===0?We(e,""):t===Ys?We(e,"left"):t===Xs?We(e,"center"):t===Js?We(e,"right"):t===Gs?We(e,"justify"):t===Qs?We(e,"start"):t===tr&&We(e,"end")}function so(n,t,e){const i=te.get(n);i===void 0&&V(60);const o=i.createDOM(Ie,Bt);if(function(s,r,a){const l=a._keyToDOMMap;r["__lexicalKey_"+a._key]=s,l.set(s,r)}(n,o,Bt),B(i)?o.setAttribute("data-lexical-text","true"):pt(i)&&o.setAttribute("data-lexical-decorator","true"),D(i)){const s=i.__indent,r=i.__size;if(s!==0&&ic(o,s),r!==0){const l=r-1;(function(c,u,d,h){const p=Rt;Rt="",_s(c,d,0,u,h,null),rc(d,h),Rt=p})(ro(i,te),l,i,o)}const a=i.__format;a!==0&&oc(o,a),i.isInline()||sc(null,i,o),ko(i)&&(Et+=ve,_e+=ve)}else{const s=i.getTextContent();if(pt(i)){const r=i.decorate(Bt,Ie);r!==null&&ac(n,r),o.contentEditable="false"}else B(i)&&(i.isDirectionless()||(Rt+=s));Et+=s,_e+=s}if(t!==null)if(e!=null)t.insertBefore(o,e);else{const s=t.__lexicalLineBreak;s!=null?t.insertBefore(o,s):t.appendChild(o)}return ar(gi,pi,To,i,"created"),o}function _s(n,t,e,i,o,s){const r=Et;Et="";let a=e;for(;a<=i;++a){so(n[a],o,s);const l=te.get(n[a]);l!==null&&Jt===null&&B(l)&&(Jt=l.getFormat())}ko(t)&&(Et+=ve),o.__lexicalTextContent=Et,Et=r+Et}function Vr(n,t){const e=t.get(n);return Fe(e)||pt(e)&&e.isInline()}function sc(n,t,e){const i=n!==null&&(n.__size===0||Vr(n.__last,Ge)),o=t.__size===0||Vr(t.__last,te);if(i){if(!o){const s=e.__lexicalLineBreak;s!=null&&e.removeChild(s),e.__lexicalLineBreak=null}}else if(o){const s=document.createElement("br");e.__lexicalLineBreak=s,e.appendChild(s)}}function rc(n,t){const e=t.__lexicalDirTextContent,i=t.__lexicalDir;if(e!==Rt||i!==Ki){const s=Rt==="",r=s?Ki:(o=Rt,Qu.test(o)?"rtl":td.test(o)?"ltr":null);if(r!==i){const a=t.classList,l=Ie.theme;let c=i!==null?l[i]:void 0,u=r!==null?l[r]:void 0;if(c!==void 0){if(typeof c=="string"){const d=to(c);c=l[i]=d}a.remove(...c)}if(r===null||s&&r==="ltr")t.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const d=to(u);u=l[r]=d}u!==void 0&&a.add(...u)}t.dir=r}Lo||(n.getWritable().__dir=r)}Ki=r,t.__lexicalDirTextContent=Rt,t.__lexicalDir=r}var o}function xd(n,t,e){const i=Rt;var o;Rt="",Jt=null,function(s,r,a){const l=Et,c=s.__size,u=r.__size;if(Et="",c===1&&u===1){const d=s.__first,h=r.__first;if(d===h)ei(d,a);else{const g=bs(d),y=so(h,null,null);a.replaceChild(y,g),oo(d,null)}const p=te.get(h);Jt===null&&B(p)&&(Jt=p.getFormat())}else{const d=ro(s,Ge),h=ro(r,te);if(c===0)u!==0&&_s(h,r,0,u-1,a,null);else if(u===0){if(c!==0){const p=a.__lexicalLineBreak==null;ys(d,0,c-1,p?null:a),p&&(a.textContent="")}}else(function(p,g,y,_,w,f){const m=_-1,b=w-1;let v,x,k=(I=f,I.firstChild),E=0,L=0;for(var I;E<=m&&L<=b;){const Z=g[E],$=y[L];if(Z===$)k=Ko(ei($,f)),E++,L++;else{v===void 0&&(v=new Set(g)),x===void 0&&(x=new Set(y));const P=x.has(Z),C=v.has($);if(P)if(C){const S=io(Bt,$);S===k?k=Ko(ei($,f)):(k!=null?f.insertBefore(S,k):f.appendChild(S),ei($,f)),E++,L++}else so($,f,k),L++;else k=Ko(bs(Z)),oo(Z,f),E++}const Y=te.get($);Y!==null&&Jt===null&&B(Y)&&(Jt=Y.getFormat())}const H=E>m,j=L>b;if(H&&!j){const Z=y[b+1];_s(y,p,L,b,f,Z===void 0?null:Bt.getElementByKey(Z))}else j&&!H&&ys(g,E,m,f)})(r,d,h,c,u,a)}ko(r)&&(Et+=ve),a.__lexicalTextContent=Et,Et=l+Et}(n,t,e),rc(t,e),En(o=t)&&Jt!=null&&Jt!==o.__textFormat&&!Lo&&o.setTextFormat(Jt),Rt=i,Jt=null}function ro(n,t){const e=[];let i=n.__first;for(;i!==null;){const o=t.get(i);o===void 0&&V(101),e.push(i),i=o.__next}return e}function ei(n,t){const e=Ge.get(n);let i=te.get(n);e!==void 0&&i!==void 0||V(61);const o=nc||fs.has(n)||gs.has(n),s=io(Bt,n);if(e===i&&!o){if(D(e)){const r=s.__lexicalTextContent;r!==void 0&&(Et+=r,_e+=r);const a=s.__lexicalDirTextContent;a!==void 0&&(Rt+=a)}else{const r=e.getTextContent();B(e)&&!e.isDirectionless()&&(Rt+=r),_e+=r,Et+=r}return s}if(e!==i&&o&&ar(gi,pi,To,i,"updated"),i.updateDOM(e,s,Ie)){const r=so(n,null,null);return t===null&&V(62),t.replaceChild(r,s),oo(n,null),r}if(D(e)&&D(i)){const r=i.__indent;r!==e.__indent&&ic(s,r);const a=i.__format;a!==e.__format&&oc(s,a),o&&(xd(e,i,s),Ft(i)||i.isInline()||sc(e,i,s)),ko(i)&&(Et+=ve,_e+=ve)}else{const r=i.getTextContent();if(pt(i)){const a=i.decorate(Bt,Ie);a!==null&&ac(n,a)}else B(i)&&!i.isDirectionless()&&(Rt+=r);Et+=r,_e+=r}if(!Lo&&Ft(i)&&i.__cachedText!==_e){const r=i.getWritable();r.__cachedText=_e,i=r}return s}function ac(n,t){let e=Bt._pendingDecorators;const i=Bt._decorators;if(e===null){if(i[n]===t)return;e=Yl(Bt)}e[n]=t}function Ko(n){let t=n.nextSibling;return t!==null&&t===Bt._blockCursorElement&&(t=t.nextSibling),t}function Cd(n,t,e,i,o,s){Et="",_e="",Rt="",nc=i===kn,Ki=null,Bt=e,Ie=e._config,pi=e._nodes,To=Bt._listeners.mutation,gs=o,fs=s,Ge=n._nodeMap,te=t._nodeMap,Lo=t._readOnly,ms=new Map(e._keyToDOMMap);const r=new Map;return gi=r,ei("root",null),Bt=void 0,pi=void 0,gs=void 0,fs=void 0,Ge=void 0,te=void 0,Ie=void 0,ms=void 0,gi=void 0,r}function bs(n){const t=ms.get(n);return t===void 0&&V(75,n),t}const ye=Object.freeze({}),vs=30,ws=[["keydown",function(n,t){if(si=n.timeStamp,lc=n.key,t.isComposing())return;const{key:e,shiftKey:i,ctrlKey:o,metaKey:s,altKey:r}=n;K(t,Ou,n)||e!=null&&(function(a,l,c,u){return Wr(a)&&!l&&!u&&!c}(e,o,r,s)?K(t,Al,n):function(a,l,c,u,d){return Wr(a)&&!u&&!c&&(l||d)}(e,o,i,r,s)?K(t,Pu,n):function(a,l,c,u){return Hr(a)&&!l&&!u&&!c}(e,o,r,s)?K(t,Nl,n):function(a,l,c,u,d){return Hr(a)&&!u&&!c&&(l||d)}(e,o,i,r,s)?K(t,Fu,n):function(a,l,c){return function(u){return u==="ArrowUp"}(a)&&!l&&!c}(e,o,s)?K(t,Ml,n):function(a,l,c){return function(u){return u==="ArrowDown"}(a)&&!l&&!c}(e,o,s)?K(t,Dl,n):function(a,l){return zr(a)&&l}(e,i)?(ri=!0,K(t,Yi,n)):function(a){return a===" "}(e)?K(t,Iu,n):function(a,l){return Xt&&l&&a.toLowerCase()==="o"}(e,o)?(n.preventDefault(),ri=!0,K(t,bn,!0)):function(a,l){return zr(a)&&!l}(e,i)?(ri=!1,K(t,Yi,n)):function(a,l,c,u){return Xt?!l&&!c&&(zn(a)||a.toLowerCase()==="h"&&u):!(u||l||c)&&zn(a)}(e,r,s,o)?zn(e)?K(t,Xi,n):(n.preventDefault(),K(t,Ze,!0)):function(a){return a==="Escape"}(e)?K(t,Ol,n):function(a,l,c,u,d){return Xt?!(c||u||d)&&($n(a)||a.toLowerCase()==="d"&&l):!(l||u||d)&&$n(a)}(e,o,i,r,s)?$n(e)?K(t,Vs,n):(n.preventDefault(),K(t,Ze,!1)):function(a,l,c){return zn(a)&&(Xt?l:c)}(e,r,o)?(n.preventDefault(),K(t,ui,!0)):function(a,l,c){return $n(a)&&(Xt?l:c)}(e,r,o)?(n.preventDefault(),K(t,ui,!1)):function(a,l){return Xt&&l&&zn(a)}(e,s)?(n.preventDefault(),K(t,di,!0)):function(a,l){return Xt&&l&&$n(a)}(e,s)?(n.preventDefault(),K(t,di,!1)):function(a,l,c,u){return a.toLowerCase()==="b"&&!l&&ti(c,u)}(e,r,s,o)?(n.preventDefault(),K(t,be,"bold")):function(a,l,c,u){return a.toLowerCase()==="u"&&!l&&ti(c,u)}(e,r,s,o)?(n.preventDefault(),K(t,be,"underline")):function(a,l,c,u){return a.toLowerCase()==="i"&&!l&&ti(c,u)}(e,r,s,o)?(n.preventDefault(),K(t,be,"italic")):function(a,l,c,u){return a==="Tab"&&!l&&!c&&!u}(e,r,o,s)?K(t,Ru,n):function(a,l,c,u){return a.toLowerCase()==="z"&&!l&&ti(c,u)}(e,i,s,o)?(n.preventDefault(),K(t,bo,void 0)):function(a,l,c,u){return Xt?a.toLowerCase()==="z"&&c&&l:a.toLowerCase()==="y"&&u||a.toLowerCase()==="z"&&u&&l}(e,i,s,o)?(n.preventDefault(),K(t,vo,void 0)):Qt(t._editorState._selection)?function(a,l,c,u){return!l&&a.toLowerCase()==="c"&&(Xt?c:u)}(e,i,s,o)?(n.preventDefault(),K(t,wo,n)):function(a,l,c,u){return!l&&a.toLowerCase()==="x"&&(Xt?c:u)}(e,i,s,o)?(n.preventDefault(),K(t,js,n)):$r(e,s,o)&&(n.preventDefault(),K(t,us,n)):!Pe&&$r(e,s,o)&&(n.preventDefault(),K(t,us,n)),function(a,l,c,u){return a||l||c||u}(o,i,r,s)&&K(t,Vu,n))}],["pointerdown",function(n,t){const e=n.target,i=n.pointerType;e instanceof Node&&i!=="touch"&&Vt(t,()=>{pt(we(e))||(Cs=!0)})}],["compositionstart",function(n,t){Vt(t,()=>{const e=W();if(R(e)&&!t.isComposing()){const i=e.anchor,o=e.anchor.getNode();Dt(i.key),(n.timeStamp<si+vs||i.type==="element"||!e.isCollapsed()||o.getFormat()!==e.format||B(o)&&o.getStyle()!==e.style)&&K(t,vn,Gu)}})}],["compositionend",function(n,t){Pe?Un=!0:Vt(t,()=>{Zo(t,n.data)})}],["input",function(n,t){n.stopPropagation(),Vt(t,()=>{const e=W(),i=n.data,o=hc(n);if(i!=null&&R(e)&&dc(e,o,i,n.timeStamp,!1)){Un&&(Zo(t,i),Un=!1);const s=e.anchor.getNode(),r=ue(t._window);if(r===null)return;const a=e.isBackward(),l=a?e.anchor.offset:e.focus.offset,c=a?e.focus.offset:e.anchor.offset;Ji&&!e.isCollapsed()&&B(s)&&r.anchorNode!==null&&s.getTextContent().slice(0,l)+i+s.getTextContent().slice(l+c)===Ql(r.anchorNode)||K(t,vn,i);const u=i.length;Pe&&u>1&&n.inputType==="insertCompositionText"&&!t.isComposing()&&(e.anchor.offset-=u),Ks||xo||Zs||!t.isComposing()||(si=0,Dt(null))}else sr(!1,t,i!==null?i:void 0),Un&&(Zo(t,i||void 0),Un=!1);zt(),Vl(vt())}),pn=null}],["click",function(n,t){Vt(t,()=>{const e=W(),i=ue(t._window),o=Ci();if(i){if(R(e)){const s=e.anchor,r=s.getNode();s.type==="element"&&s.offset===0&&e.isCollapsed()&&!Ft(r)&&xt().getChildrenSize()===1&&r.getTopLevelElementOrThrow().isEmpty()&&o!==null&&e.is(o)?(i.removeAllRanges(),e.dirty=!0):n.detail===3&&!e.isCollapsed()&&r!==e.focus.getNode()&&(D(r)?r.select(0):r.getParentOrThrow().select(0))}else if(n.pointerType==="touch"){const s=i.anchorNode;if(s!==null){const r=s.nodeType;(r===bi||r===Be)&&le(dr(o,i,t,n))}}}K(t,Ll,n)})}],["cut",ye],["copy",ye],["dragstart",ye],["dragover",ye],["dragend",ye],["paste",ye],["focus",ye],["blur",ye],["drop",ye]];Ji&&ws.push(["beforeinput",(n,t)=>function(e,i){const o=e.inputType,s=hc(e);o==="deleteCompositionText"||Pe&&tc(i)||o!=="insertCompositionText"&&Vt(i,()=>{const r=W();if(o==="deleteContentBackward"){if(r===null){const p=Ci();if(!R(p))return;le(p.clone())}if(R(r)){const p=r.anchor.key===r.focus.key;if(a=e.timeStamp,lc==="MediaLast"&&a<si+vs&&i.isComposing()&&p){if(Dt(null),si=0,setTimeout(()=>{Vt(i,()=>{Dt(null)})},vs),R(r)){const g=r.anchor.getNode();g.markDirty(),r.format=g.getFormat(),B(g)||V(142),r.style=g.getStyle()}}else{Dt(null),e.preventDefault();const g=r.anchor.getNode().getTextContent(),y=r.anchor.offset===0&&r.focus.offset===g.length;Zu&&p&&!y||K(i,Ze,!0)}return}}var a;if(!R(r))return;const l=e.data;pn!==null&&sr(!1,i,pn),r.dirty&&pn===null||!r.isCollapsed()||Ft(r.anchor.getNode())||s===null||r.applyDOMRange(s),pn=null;const c=r.anchor,u=r.focus,d=c.getNode(),h=u.getNode();if(o!=="insertText"&&o!=="insertTranspose")switch(e.preventDefault(),o){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":K(i,vn,e);break;case"insertFromComposition":Dt(null),K(i,vn,e);break;case"insertLineBreak":Dt(null),K(i,bn,!1);break;case"insertParagraph":Dt(null),ri&&!xo?(ri=!1,K(i,bn,!1)):K(i,qi,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":K(i,Us,e);break;case"deleteByComposition":(function(p,g){return p!==g||D(p)||D(g)||!p.isToken()||!g.isToken()})(d,h)&&K(i,ls,e);break;case"deleteByDrag":case"deleteByCut":K(i,ls,e);break;case"deleteContent":K(i,Ze,!1);break;case"deleteWordBackward":K(i,ui,!0);break;case"deleteWordForward":K(i,ui,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":K(i,di,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":K(i,di,!1);break;case"formatStrikeThrough":K(i,be,"strikethrough");break;case"formatBold":K(i,be,"bold");break;case"formatItalic":K(i,be,"italic");break;case"formatUnderline":K(i,be,"underline");break;case"historyUndo":K(i,bo,void 0);break;case"historyRedo":K(i,vo,void 0)}else{if(l===`
`)e.preventDefault(),K(i,bn,!1);else if(l===ve)e.preventDefault(),K(i,qi,void 0);else if(l==null&&e.dataTransfer){const p=e.dataTransfer.getData("text/plain");e.preventDefault(),r.insertRawText(p)}else l!=null&&dc(r,s,l,e.timeStamp,!0)?(e.preventDefault(),K(i,vn,l)):pn=l;cc=e.timeStamp}})}(n,t)]);let si=0,lc=null,cc=0,pn=null;const ao=new WeakMap;let xs=!1,Cs=!1,ri=!1,Un=!1,uc=[0,"",0,"root",0];function dc(n,t,e,i,o){const s=n.anchor,r=n.focus,a=s.getNode(),l=vt(),c=ue(l._window),u=c!==null?c.anchorNode:null,d=s.key,h=l.getElementByKey(d),p=e.length;return d!==r.key||!B(a)||(!o&&(!Ji||cc<i+50)||a.isDirty()&&p<2||Jl(e))&&s.offset!==r.offset&&!a.isComposing()||dn(a)||a.isDirty()&&p>1||(o||!Ji)&&h!==null&&!a.isComposing()&&u!==eo(h)||c!==null&&t!==null&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||a.getFormat()!==n.format||a.getStyle()!==n.style||gd(n,a)}function jr(n,t){return n!==null&&n.nodeValue!==null&&n.nodeType===Be&&t!==0&&t!==n.nodeValue.length}function Kr(n,t,e){const{anchorNode:i,anchorOffset:o,focusNode:s,focusOffset:r}=n;xs&&(xs=!1,jr(i,o)&&jr(s,r))||Vt(t,()=>{if(!e)return void le(null);if(!vi(t,i,s))return;const a=W();if(R(a)){const l=a.anchor,c=l.getNode();if(a.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(a.dirty=!0);const u=So(t).event,d=u?u.timeStamp:performance.now(),[h,p,g,y,_]=uc,w=xt(),f=t.isComposing()===!1&&w.getTextContent()==="";if(d<_+200&&l.offset===g&&l.key===y)a.format=h,a.style=p;else if(l.type==="text")B(c)||V(141),a.format=c.getFormat(),a.style=c.getStyle();else if(l.type==="element"&&!f){const m=l.getNode();m instanceof Nn&&m.getChildrenSize()===0?a.format=m.getTextFormat():a.format=0,a.style=""}}else{const u=l.key,d=a.focus.key,h=a.getNodes(),p=h.length,g=a.isBackward(),y=g?r:o,_=g?o:r,w=g?d:u,f=g?u:d;let m=Ju,b=!1;for(let v=0;v<p;v++){const x=h[v],k=x.getTextContentSize();if(B(x)&&k!==0&&!(v===0&&x.__key===w&&y===k||v===p-1&&x.__key===f&&_===0)&&(b=!0,m&=x.getFormat(),m===0))break}a.format=b?m:0}}K(t,_o,void 0)})}function hc(n){if(!n.getTargetRanges)return null;const t=n.getTargetRanges();return t.length===0?null:t[0]}function Zo(n,t){const e=n._compositionKey;if(Dt(null),e!==null&&t!=null){if(t===""){const i=ct(e),o=eo(n.getElementByKey(e));return void(o!==null&&o.nodeValue!==null&&B(i)&&rr(i,o.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){const i=W();if(R(i)){const o=i.focus;return i.anchor.set(o.key,o.offset,o.type),void K(n,Yi,null)}}}sr(!0,n,t)}function pc(n){let t=n.__lexicalEventHandles;return t===void 0&&(t=[],n.__lexicalEventHandles=t),t}const wn=new Map;function gc(n){const t=n.target,e=ue(t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView);if(e===null)return;const i=Kl(e.anchorNode);if(i===null)return;Cs&&(Cs=!1,Vt(i,()=>{const c=Ci(),u=e.anchorNode;if(u===null)return;const d=u.nodeType;d!==bi&&d!==Be||le(dr(c,e,i,n))}));const o=or(i),s=o[o.length-1],r=s._key,a=wn.get(r),l=a||s;l!==i&&Kr(e,l,!1),Kr(e,i,!0),i!==s?wn.set(r,i):a&&wn.delete(r)}function Zr(n){n._lexicalHandled=!0}function qr(n){return n._lexicalHandled===!0}function kd(n){const t=n.ownerDocument,e=ao.get(t);e===void 0&&V(162);const i=e-1;i>=0||V(164),ao.set(t,i),i===0&&t.removeEventListener("selectionchange",gc);const o=n.__lexicalEditor;o!=null&&(function(r){if(r._parentEditor!==null){const a=or(r),l=a[a.length-1]._key;wn.get(l)===r&&wn.delete(l)}else wn.delete(r._key)}(o),n.__lexicalEditor=null);const s=pc(n);for(let r=0;r<s.length;r++)s[r]();n.__lexicalEventHandles=[]}function ks(n,t,e){zt();const i=n.__key,o=n.getParent();if(o===null)return;const s=function(a){const l=W();if(!R(l)||!D(a))return l;const{anchor:c,focus:u}=l,d=c.getNode(),h=u.getNode();return ps(d,a)&&c.set(a.__key,0,"element"),ps(h,a)&&u.set(a.__key,0,"element"),l}(n);let r=!1;if(R(s)&&t){const a=s.anchor,l=s.focus;a.key===i&&(co(a,n,o,n.getPreviousSibling(),n.getNextSibling()),r=!0),l.key===i&&(co(l,n,o,n.getPreviousSibling(),n.getNextSibling()),r=!0)}else Qt(s)&&t&&n.isSelected()&&n.selectPrevious();if(R(s)&&t&&!r){const a=n.getIndexWithinParent();qe(n),lo(s,o,a,-1)}else qe(n);e||ce(o)||o.canBeEmpty()||!o.isEmpty()||ks(o,t),t&&Ft(o)&&o.isEmpty()&&o.selectEnd()}class Ao{static getType(){V(64,this.name)}static clone(t){V(65,this.name)}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,pd(this,t)}getType(){return this.__type}isInline(){V(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;const e=ct(t);if(e===null)break;t=e.__parent}return!1}isSelected(t){const e=t||W();if(e==null)return!1;const i=e.getNodes().some(o=>o.__key===this.__key);return(B(this)||!R(e)||e.anchor.type!=="element"||e.focus.type!=="element"||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&i}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(t===null)return-1;let e=t.getFirstChild(),i=0;for(;e!==null;){if(this.is(e))return i;i++,e=e.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return t===null?null:ct(t)}getParentOrThrow(){const t=this.getParent();return t===null&&V(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){const e=t.getParent();if(ce(e))return D(t)||V(138),t;t=e}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return t===null&&V(67,this.__key),t}getParents(){const t=[];let e=this.getParent();for(;e!==null;)t.push(e),e=e.getParent();return t}getParentKeys(){const t=[];let e=this.getParent();for(;e!==null;)t.push(e.__key),e=e.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return t===null?null:ct(t)}getPreviousSiblings(){const t=[],e=this.getParent();if(e===null)return t;let i=e.getFirstChild();for(;i!==null&&!i.is(this);)t.push(i),i=i.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return t===null?null:ct(t)}getNextSiblings(){const t=[];let e=this.getNextSibling();for(;e!==null;)t.push(e),e=e.getNextSibling();return t}getCommonAncestor(t){const e=this.getParents(),i=t.getParents();D(this)&&e.unshift(this),D(t)&&i.unshift(t);const o=e.length,s=i.length;if(o===0||s===0||e[o-1]!==i[s-1])return null;const r=new Set(i);for(let a=0;a<o;a++){const l=e[a];if(r.has(l))return l}return null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;const e=this.getCommonAncestor(t);let i=0,o=0,s=this;for(;;){const r=s.getParentOrThrow();if(r===e){i=s.getIndexWithinParent();break}s=r}for(s=t;;){const r=s.getParentOrThrow();if(r===e){o=s.getIndexWithinParent();break}s=r}return i<o}isParentOf(t){const e=this.__key;if(e===t.__key)return!1;let i=t;for(;i!==null;){if(i.__key===e)return!0;i=i.getParent()}return!1}getNodesBetween(t){const e=this.isBefore(t),i=[],o=new Set;let s=this;for(;s!==null;){const r=s.__key;if(o.has(r)||(o.add(r),i.push(s)),s===t)break;const a=D(s)?e?s.getFirstChild():s.getLastChild():null;if(a!==null){s=a;continue}const l=e?s.getNextSibling():s.getPreviousSibling();if(l!==null){s=l;continue}const c=s.getParentOrThrow();if(o.has(c.__key)||i.push(c),c===t)break;let u=null,d=c;do{if(d===null&&V(68),u=e?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),d===null)break;u!==null||o.has(d.__key)||i.push(d)}while(u===null);s=u}return e||i.reverse(),i}isDirty(){const t=vt()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){const t=ct(this.__key);return t===null&&V(113),t}getWritable(){zt();const t=ke(),e=vt(),i=t._nodeMap,o=this.__key,s=this.getLatest(),r=s.__parent,a=e._cloneNotNeeded,l=W();if(l!==null&&l.setCachedNodes(null),a.has(o))return no(s),s;const c=s.constructor.clone(s);return c.__parent=r,c.__next=s.__next,c.__prev=s.__prev,D(s)&&D(c)?(En(s)&&En(c)&&(c.__textFormat=s.__textFormat),c.__first=s.__first,c.__last=s.__last,c.__size=s.__size,c.__indent=s.__indent,c.__format=s.__format,c.__dir=s.__dir):B(s)&&B(c)&&(c.__format=s.__format,c.__style=s.__style,c.__mode=s.__mode,c.__detail=s.__detail),a.add(o),c.__key=o,no(c),i.set(o,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,e){V(70)}updateDOM(t,e,i){V(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){V(72)}static importJSON(t){V(18,this.name)}static transform(){return null}remove(t){ks(this,!0,t)}replace(t,e){zt();let i=W();i!==null&&(i=i.clone()),Uo(this,t);const o=this.getLatest(),s=this.__key,r=t.__key,a=t.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;qe(a);const u=o.getPreviousSibling(),d=o.getNextSibling(),h=o.__prev,p=o.__next,g=o.__parent;if(ks(o,!1,!0),u===null?l.__first=r:u.getWritable().__next=r,a.__prev=h,d===null?l.__last=r:d.getWritable().__prev=r,a.__next=p,a.__parent=g,l.__size=c,e&&(D(this)&&D(a)||V(139),this.getChildren().forEach(y=>{a.append(y)})),R(i)){le(i);const y=i.anchor,_=i.focus;y.key===s&&Qr(y,a),_.key===s&&Qr(_,a)}return Ne()===s&&Dt(r),a}insertAfter(t,e=!0){zt(),Uo(this,t);const i=this.getWritable(),o=t.getWritable(),s=o.getParent(),r=W();let a=!1,l=!1;if(s!==null){const p=t.getIndexWithinParent();if(qe(o),R(r)){const g=s.__key,y=r.anchor,_=r.focus;a=y.type==="element"&&y.key===g&&y.offset===p+1,l=_.type==="element"&&_.key===g&&_.offset===p+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),d=o.__key,h=i.__next;if(c===null?u.__last=d:c.getWritable().__prev=d,u.__size++,i.__next=d,o.__next=h,o.__prev=i.__key,o.__parent=i.__parent,e&&R(r)){const p=this.getIndexWithinParent();lo(r,u,p+1);const g=u.__key;a&&r.anchor.set(g,p+2,"element"),l&&r.focus.set(g,p+2,"element")}return t}insertBefore(t,e=!0){zt(),Uo(this,t);const i=this.getWritable(),o=t.getWritable(),s=o.__key;qe(o);const r=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=i.__prev,c=this.getIndexWithinParent();r===null?a.__first=s:r.getWritable().__next=s,a.__size++,i.__prev=s,o.__prev=l,o.__next=i.__key,o.__parent=i.__parent;const u=W();return e&&R(u)&&lo(u,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return ut()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,e){zt();const i=this.getPreviousSibling(),o=this.getParentOrThrow();if(i===null)return o.select(0,0);if(D(i))return i.select();if(!B(i)){const s=i.getIndexWithinParent()+1;return o.select(s,s)}return i.select(t,e)}selectNext(t,e){zt();const i=this.getNextSibling(),o=this.getParentOrThrow();if(i===null)return o.select();if(D(i))return i.select(0,0);if(!B(i)){const s=i.getIndexWithinParent();return o.select(s,s)}return i.select(t,e)}markDirty(){this.getWritable()}}class wi extends Ao{static getType(){return"linebreak"}static clone(t){return new wi(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>function(e){const i=e.parentElement;if(i!==null){const o=i.firstChild;if(o===e||o.nextSibling===e&&Yr(o)){const s=i.lastChild;if(s===e||s.previousSibling===e&&Yr(s))return!0}}return!1}(t)?null:{conversion:Ed,priority:0}}}static importJSON(t){return xe()}exportJSON(){return{type:"linebreak",version:1}}}function Ed(n){return{node:xe()}}function xe(){return It(new wi)}function Fe(n){return n instanceof wi}function Yr(n){return n.nodeType===Be&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function qo(n,t){return 16&t?"code":t&qs?"mark":32&t?"sub":64&t?"sup":null}function Yo(n,t){return 1&t?"strong":2&t?"em":"span"}function fc(n,t,e,i,o){const s=i.classList;let r=oi(o,"base");r!==void 0&&s.add(...r),r=oi(o,"underlineStrikethrough");let a=!1;const l=t&Qi&&t&Gi;r!==void 0&&(e&Qi&&e&Gi?(a=!0,l||s.add(...r)):l&&s.remove(...r));for(const c in Je){const u=Je[c];if(r=oi(o,c),r!==void 0)if(e&u){if(a&&(c==="underline"||c==="strikethrough")){t&u&&s.remove(...r);continue}t&u&&(!l||c!=="underline")&&c!=="strikethrough"||s.add(...r)}else t&u&&s.remove(...r)}}function mc(n,t,e){const i=t.firstChild,o=e.isComposing(),s=n+(o?Co:"");if(i==null)t.textContent=s;else{const r=i.nodeValue;if(r!==s)if(o||Pe){const[a,l,c]=function(u,d){const h=u.length,p=d.length;let g=0,y=0;for(;g<h&&g<p&&u[g]===d[g];)g++;for(;y+g<h&&y+g<p&&u[h-y-1]===d[p-y-1];)y++;return[g,h-g-y,d.slice(g,p-y)]}(r,s);l!==0&&i.deleteData(a,l),i.insertData(a,c)}else i.nodeValue=s}}function Xr(n,t,e,i,o,s){mc(o,n,t);const r=s.theme.text;r!==void 0&&fc(0,0,i,n,r)}function Bi(n,t){const e=document.createElement(t);return e.appendChild(n),e}class ee extends Ao{static getType(){return"text"}static clone(t){return new ee(t.__text,t.__key)}constructor(t,e){super(e),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return od[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Ne()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const e=Je[t];return!!(this.getFormat()&e)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,e){return hs(this.getLatest().__format,t,e)}canHaveFormat(){return!0}createDOM(t,e){const i=this.__format,o=qo(0,i),s=Yo(0,i),r=o===null?s:o,a=document.createElement(r);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),o!==null&&(l=document.createElement(s),a.appendChild(l)),Xr(l,this,0,i,this.__text,t);const c=this.__style;return c!==""&&(a.style.cssText=c),a}updateDOM(t,e,i){const o=this.__text,s=t.__format,r=this.__format,a=qo(0,s),l=qo(0,r),c=Yo(0,s),u=Yo(0,r);if((a===null?c:a)!==(l===null?u:l))return!0;if(a===l&&c!==u){const y=e.firstChild;y==null&&V(48);const _=document.createElement(u);return Xr(_,this,0,r,o,i),e.replaceChild(_,y),!1}let d=e;l!==null&&a!==null&&(d=e.firstChild,d==null&&V(49)),mc(o,d,this);const h=i.theme.text;h!==void 0&&s!==r&&fc(0,s,r,d,h);const p=t.__style,g=this.__style;return p!==g&&(e.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:Ad,priority:0}),b:()=>({conversion:Td,priority:0}),code:()=>({conversion:Ee,priority:0}),em:()=>({conversion:Ee,priority:0}),i:()=>({conversion:Ee,priority:0}),s:()=>({conversion:Ee,priority:0}),span:()=>({conversion:Sd,priority:0}),strong:()=>({conversion:Ee,priority:0}),sub:()=>({conversion:Ee,priority:0}),sup:()=>({conversion:Ee,priority:0}),u:()=>({conversion:Ee,priority:0})}}static importJSON(t){const e=Ct(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportDOM(t){let{element:e}=super.exportDOM(t);return e!==null&&ge(e)||V(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=Bi(e,"b")),this.hasFormat("italic")&&(e=Bi(e,"i")),this.hasFormat("strikethrough")&&(e=Bi(e,"s")),this.hasFormat("underline")&&(e=Bi(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(t,e){}setFormat(t){const e=this.getWritable();return e.__format=typeof t=="string"?Je[t]:t,e}setDetail(t){const e=this.getWritable();return e.__detail=typeof t=="string"?ed[t]:t,e}setStyle(t){const e=this.getWritable();return e.__style=t,e}toggleFormat(t){const e=hs(this.getFormat(),t,null);return this.setFormat(e)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const e=id[t];if(this.__mode===e)return this;const i=this.getWritable();return i.__mode=e,i}setTextContent(t){if(this.__text===t)return this;const e=this.getWritable();return e.__text=t,e}select(t,e){zt();let i=t,o=e;const s=W(),r=this.getTextContent(),a=this.__key;if(typeof r=="string"){const l=r.length;i===void 0&&(i=l),o===void 0&&(o=l)}else i=0,o=0;if(!R(s))return bc(a,i,a,o,"text","text");{const l=Ne();l!==s.anchor.key&&l!==s.focus.key||Dt(a),s.setTextNodeRange(this,i,this,o)}return s}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,e,i,o){const s=this.getWritable(),r=s.__text,a=i.length;let l=t;l<0&&(l=a+l,l<0&&(l=0));const c=W();if(o&&R(c)){const d=t+a;c.setTextNodeRange(s,d,s,d)}const u=r.slice(0,l)+i+r.slice(l+e);return s.__text=u,s}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){zt();const e=this.getLatest(),i=e.getTextContent(),o=e.__key,s=Ne(),r=new Set(t),a=[],l=i.length;let c="";for(let k=0;k<l;k++)c!==""&&r.has(k)&&(a.push(c),c=""),c+=i[k];c!==""&&a.push(c);const u=a.length;if(u===0)return[];if(a[0]===i)return[e];const d=a[0],h=e.getParentOrThrow();let p;const g=e.getFormat(),y=e.getStyle(),_=e.__detail;let w=!1;e.isSegmented()?(p=Ct(d),p.__format=g,p.__style=y,p.__detail=_,w=!0):(p=e.getWritable(),p.__text=d);const f=W(),m=[p];let b=d.length;for(let k=1;k<u;k++){const E=a[k],L=E.length,I=Ct(E).getWritable();I.__format=g,I.__style=y,I.__detail=_;const H=I.__key,j=b+L;if(R(f)){const Z=f.anchor,$=f.focus;Z.key===o&&Z.type==="text"&&Z.offset>b&&Z.offset<=j&&(Z.key=H,Z.offset-=b,f.dirty=!0),$.key===o&&$.type==="text"&&$.offset>b&&$.offset<=j&&($.key=H,$.offset-=b,f.dirty=!0)}s===o&&Dt(H),b=j,m.push(I)}(function(k){const E=k.getPreviousSibling(),L=k.getNextSibling();E!==null&&no(E),L!==null&&no(L)})(this);const v=h.getWritable(),x=this.getIndexWithinParent();return w?(v.splice(x,0,m),this.remove()):v.splice(x,1,m),R(f)&&lo(f,h,x,u-1),m}mergeWithSibling(t){const e=t===this.getPreviousSibling();e||t===this.getNextSibling()||V(50);const i=this.__key,o=t.__key,s=this.__text,r=s.length;Ne()===o&&Dt(i);const a=W();if(R(a)){const d=a.anchor,h=a.focus;d!==null&&d.key===o&&(ra(d,e,i,t,r),a.dirty=!0),h!==null&&h.key===o&&(ra(h,e,i,t,r),a.dirty=!0)}const l=t.__text,c=e?l+s:s+l;this.setTextContent(c);const u=this.getWritable();return t.remove(),u}isTextEntity(){return!1}}function Sd(n){return{forChild:cr(n.style),node:null}}function Td(n){const t=n,e=t.style.fontWeight==="normal";return{forChild:cr(t.style,e?void 0:"bold"),node:null}}const Jr=new WeakMap;function Ld(n){return n.nodeName==="PRE"||n.nodeType===bi&&n.style!==void 0&&n.style.whiteSpace!==void 0&&n.style.whiteSpace.startsWith("pre")}function Ad(n){const t=n;n.parentElement===null&&V(129);let e=t.textContent||"";if(function(i){let o,s=i.parentNode;const r=[i];for(;s!==null&&(o=Jr.get(s))===void 0&&!Ld(s);)r.push(s),s=s.parentNode;const a=o===void 0?s:o;for(let l=0;l<r.length;l++)Jr.set(r[l],a);return a}(t)!==null){const i=e.split(/(\r?\n|\t)/),o=[],s=i.length;for(let r=0;r<s;r++){const a=i[r];a===`
`||a===`\r
`?o.push(xe()):a==="	"?o.push(Ln()):a!==""&&o.push(Ct(a))}return{node:o}}if(e=e.replace(/\r/g,"").replace(/[ \t\n]+/g," "),e==="")return{node:null};if(e[0]===" "){let i=t,o=!0;for(;i!==null&&(i=Gr(i,!1))!==null;){const s=i.textContent||"";if(s.length>0){/[ \t\n]$/.test(s)&&(e=e.slice(1)),o=!1;break}}o&&(e=e.slice(1))}if(e[e.length-1]===" "){let i=t,o=!0;for(;i!==null&&(i=Gr(i,!0))!==null;)if((i.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(e=e.slice(0,e.length-1))}return e===""?{node:null}:{node:Ct(e)}}function Gr(n,t){let e=n;for(;;){let i;for(;(i=t?e.nextSibling:e.previousSibling)===null;){const s=e.parentElement;if(s===null)return null;e=s}if(e=i,e.nodeType===bi){const s=e.style.display;if(s===""&&!bd(e)||s!==""&&!s.startsWith("inline"))return null}let o=e;for(;(o=t?e.firstChild:e.lastChild)!==null;)e=o;if(e.nodeType===Be)return e;if(e.nodeName==="BR")return null}}const Nd={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ee(n){const t=Nd[n.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:cr(n.style,t),node:null}}function Ct(n=""){return It(new ee(n))}function B(n){return n instanceof ee}function cr(n,t){const e=n.fontWeight,i=n.textDecoration.split(" "),o=e==="700"||e==="bold",s=i.includes("line-through"),r=n.fontStyle==="italic",a=i.includes("underline"),l=n.verticalAlign;return c=>(B(c)&&(o&&!c.hasFormat("bold")&&c.toggleFormat("bold"),s&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),r&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),t&&!c.hasFormat(t)&&c.toggleFormat(t)),c)}class xi extends ee{static getType(){return"tab"}static clone(t){const e=new xi(t.__key);return e.__text=t.__text,e.__format=t.__format,e.__style=t.__style,e}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}static importJSON(t){const e=Ln();return e.setFormat(t.format),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(t){V(126)}setDetail(t){V(127)}setMode(t){V(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Ln(){return It(new xi)}function ur(n){return n instanceof xi}class Md{constructor(t,e,i){this._selection=null,this.key=t,this.offset=e,this.type=i}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let e=this.getNode(),i=t.getNode();const o=this.offset,s=t.offset;return D(e)&&(e=e.getDescendantByIndex(o)??e),D(i)&&(i=i.getDescendantByIndex(s)??i),e===i?o<s:e.isBefore(i)}getNode(){const t=ct(this.key);return t===null&&V(20),t}set(t,e,i){const o=this._selection,s=this.key;this.key=t,this.offset=e,this.type=i,An()||(Ne()===s&&Dt(t),o!==null&&(o.setCachedNodes(null),o.dirty=!0))}}function de(n,t,e){return new Md(n,t,e)}function Xo(n,t){let e=t.__key,i=n.offset,o="element";if(B(t)){o="text";const s=t.getTextContentSize();i>s&&(i=s)}else if(!D(t)){const s=t.getNextSibling();if(B(s))e=s.__key,i=0,o="text";else{const r=t.getParent();r&&(e=r.__key,i=t.getIndexWithinParent()+1)}}n.set(e,i,o)}function Qr(n,t){if(D(t)){const e=t.getLastDescendant();D(e)||B(e)?Xo(n,e):Xo(n,t)}else Xo(n,t)}function Ae(n,t,e,i){n.key=t,n.offset=e,n.type=i}class No{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!Qt(t))return!1;const e=this._nodes,i=t._nodes;return e.size===i.size&&Array.from(e).every(o=>i.has(o))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new No(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const e=this.getNodes(),i=e.length,o=e[i-1];let s;if(B(o))s=o.select();else{const r=o.getIndexWithinParent()+1;s=o.getParentOrThrow().select(r,r)}s.insertNodes(t);for(let r=0;r<i;r++)e[r].remove()}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const e=this._nodes,i=[];for(const o of e){const s=ct(o);s!==null&&i.push(s)}return An()||(this._cachedNodes=i),i}getTextContent(){const t=this.getNodes();let e="";for(let i=0;i<t.length;i++)e+=t[i].getTextContent();return e}}function R(n){return n instanceof He}class He{constructor(t,e,i,o){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=i,this.style=o,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!R(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const e=this.anchor,i=this.focus,o=e.isBefore(i),s=o?e:i,r=o?i:e;let a=s.getNode(),l=r.getNode();const c=s.offset,u=r.offset;if(D(a)&&(a=a.getDescendantByIndex(c)??a),D(l)){let h=l.getDescendantByIndex(u);h!==null&&h!==a&&l.getChildAtIndex(u)===h&&(h=h.getPreviousSibling()),l=h??l}let d;return d=a.is(l)?D(a)&&a.getChildrenSize()>0?[]:[a]:a.getNodesBetween(l),An()||(this._cachedNodes=d),d}setTextNodeRange(t,e,i,o){Ae(this.anchor,t.__key,e,"text"),Ae(this.focus,i.__key,o,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const t=this.getNodes();if(t.length===0)return"";const e=t[0],i=t[t.length-1],o=this.anchor,s=this.focus,r=o.isBefore(s),[a,l]=Es(this);let c="",u=!0;for(let d=0;d<t.length;d++){const h=t[d];if(D(h)&&!h.isInline())u||(c+=`
`),u=!h.isEmpty();else if(u=!1,B(h)){let p=h.getTextContent();h===e?h===i?o.type==="element"&&s.type==="element"&&s.offset!==o.offset||(p=a<l?p.slice(a,l):p.slice(l,a)):p=r?p.slice(a):p.slice(l):h===i&&(p=r?p.slice(0,l):p.slice(0,a)),c+=p}else!pt(h)&&!Fe(h)||h===i&&this.isCollapsed()||(c+=h.getTextContent())}return c}applyDOMRange(t){const e=vt(),i=e.getEditorState()._selection,o=_c(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,i);if(o===null)return;const[s,r]=o;Ae(this.anchor,s.key,s.offset,s.type),Ae(this.focus,r.key,r.offset,r.type),this._cachedNodes=null}clone(){const t=this.anchor,e=this.focus;return new He(de(t.key,t.offset,t.type),de(e.key,e.offset,e.type),this.format,this.style)}toggleFormat(t){this.format=hs(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const e=Je[t];return!!(this.format&e)}insertRawText(t){const e=t.split(/(\r?\n|\t)/),i=[],o=e.length;for(let s=0;s<o;s++){const r=e[s];r===`
`||r===`\r
`?i.push(xe()):r==="	"?i.push(Ln()):i.push(Ct(r))}this.insertNodes(i)}insertText(t){const e=this.anchor,i=this.focus,o=this.format,s=this.style;let r=e,a=i;!this.isCollapsed()&&i.isBefore(e)&&(r=i,a=e),r.type==="element"&&function(_,w,f,m){const b=_.getNode(),v=b.getChildAtIndex(_.offset),x=Ct(),k=Ft(b)?ut().append(x):x;x.setFormat(f),x.setStyle(m),v===null?b.append(k):v.insertBefore(k),_.is(w)&&w.set(x.__key,0,"text"),_.set(x.__key,0,"text")}(r,a,o,s);const l=r.offset;let c=a.offset;const u=this.getNodes(),d=u.length;let h=u[0];B(h)||V(26);const p=h.getTextContent().length,g=h.getParentOrThrow();let y=u[d-1];if(d===1&&a.type==="element"&&(c=p,a.set(r.key,c,"text")),this.isCollapsed()&&l===p&&(h.isSegmented()||h.isToken()||!h.canInsertTextAfter()||!g.canInsertTextAfter()&&h.getNextSibling()===null)){let _=h.getNextSibling();if(B(_)&&_.canInsertTextBefore()&&!dn(_)||(_=Ct(),_.setFormat(o),_.setStyle(s),g.canInsertTextAfter()?h.insertAfter(_):g.insertAfter(_)),_.select(0,0),h=_,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&l===0&&(h.isSegmented()||h.isToken()||!h.canInsertTextBefore()||!g.canInsertTextBefore()&&h.getPreviousSibling()===null)){let _=h.getPreviousSibling();if(B(_)&&!dn(_)||(_=Ct(),_.setFormat(o),g.canInsertTextBefore()?h.insertBefore(_):g.insertBefore(_)),_.select(),h=_,t!=="")return void this.insertText(t)}else if(h.isSegmented()&&l!==p){const _=Ct(h.getTextContent());_.setFormat(o),h.replace(_),h=_}else if(!this.isCollapsed()&&t!==""){const _=y.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||D(_)&&(!_.canInsertTextBefore()||!_.canInsertTextAfter()))return this.insertText(""),yc(this.anchor,this.focus,null),void this.insertText(t)}if(d===1){if(h.isToken()){const m=Ct(t);return m.select(),void h.replace(m)}const _=h.getFormat(),w=h.getStyle();if(l!==c||_===o&&w===s){if(ur(h)){const m=Ct(t);return m.setFormat(o),m.setStyle(s),m.select(),void h.replace(m)}}else{if(h.getTextContent()!==""){const m=Ct(t);if(m.setFormat(o),m.setStyle(s),m.select(),l===0)h.insertBefore(m,!1);else{const[b]=h.splitText(l);b.insertAfter(m,!1)}return void(m.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}h.setFormat(o),h.setStyle(s)}const f=c-l;h=h.spliceText(l,f,t,!0),h.getTextContent()===""?h.remove():this.anchor.type==="text"&&(h.isComposing()?this.anchor.offset-=t.length:(this.format=_,this.style=w))}else{const _=new Set([...h.getParentKeys(),...y.getParentKeys()]),w=D(h)?h:h.getParentOrThrow();let f=D(y)?y:y.getParentOrThrow(),m=y;if(!w.is(f)&&f.isInline())do m=f,f=f.getParentOrThrow();while(f.isInline());if(a.type==="text"&&(c!==0||y.getTextContent()==="")||a.type==="element"&&y.getIndexWithinParent()<c)if(B(y)&&!y.isToken()&&c!==y.getTextContentSize()){if(y.isSegmented()){const E=Ct(y.getTextContent());y.replace(E),y=E}Ft(a.getNode())||a.type!=="text"||(y=y.spliceText(0,c,"")),_.add(y.__key)}else{const E=y.getParentOrThrow();E.canBeEmpty()||E.getChildrenSize()!==1?y.remove():E.remove()}else _.add(y.__key);const b=f.getChildren(),v=new Set(u),x=w.is(f),k=w.isInline()&&h.getNextSibling()===null?w:h;for(let E=b.length-1;E>=0;E--){const L=b[E];if(L.is(h)||D(L)&&L.isParentOf(h))break;L.isAttached()&&(!v.has(L)||L.is(m)?x||k.insertAfter(L,!1):L.remove())}if(!x){let E=f,L=null;for(;E!==null;){const I=E.getChildren(),H=I.length;(H===0||I[H-1].is(L))&&(_.delete(E.__key),L=E),E=E.getParent()}}if(h.isToken())if(l===p)h.select();else{const E=Ct(t);E.select(),h.replace(E)}else h=h.spliceText(l,p-l,t,!0),h.getTextContent()===""?h.remove():h.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let E=1;E<d;E++){const L=u[E],I=L.__key;_.has(I)||L.remove()}}}removeText(){this.insertText("")}formatText(t){if(this.isCollapsed())return this.toggleFormat(t),void Dt(null);const e=this.getNodes(),i=[];for(const f of e)B(f)&&i.push(f);const o=i.length;if(o===0)return this.toggleFormat(t),void Dt(null);const s=this.anchor,r=this.focus,a=this.isBackward(),l=a?r:s,c=a?s:r;let u=0,d=i[0],h=l.type==="element"?0:l.offset;if(l.type==="text"&&h===d.getTextContentSize()&&(u=1,d=i[1],h=0),d==null)return;const p=d.getFormatFlags(t,null),g=o-1;let y=i[g];const _=c.type==="text"?c.offset:y.getTextContentSize();if(d.is(y)){if(h===_)return;if(dn(d)||h===0&&_===d.getTextContentSize())d.setFormat(p);else{const f=d.splitText(h,_),m=h===0?f[0]:f[1];m.setFormat(p),l.type==="text"&&l.set(m.__key,0,"text"),c.type==="text"&&c.set(m.__key,_-h,"text")}return void(this.format=p)}h===0||dn(d)||([,d]=d.splitText(h),h=0),d.setFormat(p);const w=y.getFormatFlags(t,p);_>0&&(_===y.getTextContentSize()||dn(y)||([y]=y.splitText(_)),y.setFormat(w));for(let f=u+1;f<g;f++){const m=i[f],b=m.getFormatFlags(t,w);m.setFormat(b)}l.type==="text"&&l.set(d.__key,h,"text"),c.type==="text"&&c.set(y.__key,_,"text"),this.format=p|w}insertNodes(t){if(t.length===0)return;if(this.anchor.key==="root"){this.insertParagraph();const g=W();return R(g)||V(134),g.insertNodes(t)}const e=jo((this.isBackward()?this.focus:this.anchor).getNode(),hn),i=t[t.length-1];if("__language"in e&&D(e)){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const g=Jo(this);e.splice(g,0,t),i.selectEnd()}return}if(!t.some(g=>(D(g)||pt(g))&&!g.isInline())){D(e)||V(135);const g=Jo(this);return e.splice(g,0,t),void i.selectEnd()}const o=function(g){const y=ut();let _=null;for(let w=0;w<g.length;w++){const f=g[w],m=Fe(f);if(m||pt(f)&&f.isInline()||D(f)&&f.isInline()||B(f)||f.isParentRequired()){if(_===null&&(_=f.createParentElementNode(),y.append(_),m))continue;_!==null&&_.append(f)}else y.append(f),_=null}return y}(t),s=o.getLastDescendant(),r=o.getChildren(),a=g=>"__value"in g&&"__checked"in g,l=!D(e)||!e.isEmpty()?this.insertParagraph():null,c=r[r.length-1];let u=r[0];var d;D(d=u)&&hn(d)&&!d.isEmpty()&&D(e)&&(!e.isEmpty()||a(e))&&(D(e)||V(135),e.append(...u.getChildren()),u=r[1]),u&&function(g,y,_){const w=y.getParentOrThrow().getLastChild();let f=y;const m=[y];for(;f!==w;)f.getNextSibling()||V(140),f=f.getNextSibling(),m.push(f);let b=g;for(const v of m)b=b.insertAfter(v)}(e,u);const h=jo(s,hn);l&&D(h)&&(a(l)||hn(c))&&(h.append(...l.getChildren()),l.remove()),D(e)&&e.isEmpty()&&e.remove(),s.selectEnd();const p=D(e)?e.getLastChild():null;Fe(p)&&h!==e&&p.remove()}insertParagraph(){if(this.anchor.key==="root"){const r=ut();return xt().splice(this.anchor.offset,0,[r]),r.select(),r}const t=Jo(this),e=jo(this.anchor.getNode(),hn);D(e)||V(136);const i=e.getChildAtIndex(t),o=i?[i,...i.getNextSiblings()]:[],s=e.insertNewAfter(this,!1);return s?(s.append(...o),s.selectStart(),s):null}insertLineBreak(t){const e=xe();if(this.insertNodes([e]),t){const i=e.getParentOrThrow(),o=e.getIndexWithinParent();i.select(o,o)}}extract(){const t=this.getNodes(),e=t.length,i=e-1,o=this.anchor,s=this.focus;let r=t[0],a=t[i];const[l,c]=Es(this);if(e===0)return[];if(e===1){if(B(r)&&!this.isCollapsed()){const d=l>c?c:l,h=l>c?l:c,p=r.splitText(d,h),g=d===0?p[0]:p[1];return g!=null?[g]:[]}return[r]}const u=o.isBefore(s);if(B(r)){const d=u?l:c;d===r.getTextContentSize()?t.shift():d!==0&&([,r]=r.splitText(d),t[0]=r)}if(B(a)){const d=a.getTextContent().length,h=u?c:l;h===0?t.pop():h!==d&&([a]=a.splitText(h),t[i]=a)}return t}modify(t,e,i){const o=this.focus,s=this.anchor,r=t==="move",a=hi(o,e);if(pt(a)&&!a.isIsolated()){if(r&&a.isKeyboardSelectable()){const p=oa();return p.add(a.__key),void le(p)}const h=e?a.getPreviousSibling():a.getNextSibling();if(B(h)){const p=h.__key,g=e?h.getTextContent().length:0;return o.set(p,g,"text"),void(r&&s.set(p,g,"text"))}{const p=a.getParentOrThrow();let g,y;return D(h)?(y=h.__key,g=e?h.getChildrenSize():0):(g=a.getIndexWithinParent(),y=p.__key,e||g++),o.set(y,g,"element"),void(r&&s.set(y,g,"element"))}}const l=vt(),c=ue(l._window);if(!c)return;const u=l._blockCursorElement,d=l._rootElement;if(d===null||u===null||!D(a)||a.isInline()||a.canBeEmpty()||lr(u,l,d),function(h,p,g,y){h.modify(p,g,y)}(c,t,e?"backward":"forward",i),c.rangeCount>0){const h=c.getRangeAt(0),p=this.anchor.getNode(),g=Ft(p)?p:md(p);if(this.applyDOMRange(h),this.dirty=!0,!r){const y=this.getNodes(),_=[];let w=!1;for(let f=0;f<y.length;f++){const m=y[f];ps(m,g)?_.push(m):w=!0}if(w&&_.length>0)if(e){const f=_[0];D(f)?f.selectStart():f.getParentOrThrow().selectStart()}else{const f=_[_.length-1];D(f)?f.selectEnd():f.getParentOrThrow().selectEnd()}c.anchorNode===h.startContainer&&c.anchorOffset===h.startOffset||function(f){const m=f.focus,b=f.anchor,v=b.key,x=b.offset,k=b.type;Ae(b,m.key,m.offset,m.type),Ae(m,v,x,k),f._cachedNodes=null}(this)}}}forwardDeletion(t,e,i){if(!i&&(t.type==="element"&&D(e)&&t.offset===e.getChildrenSize()||t.type==="text"&&t.offset===e.getTextContentSize())){const o=e.getParent(),s=e.getNextSibling()||(o===null?null:o.getNextSibling());if(D(s)&&s.isShadowRoot())return!0}return!1}deleteCharacter(t){const e=this.isCollapsed();if(this.isCollapsed()){const i=this.anchor;let o=i.getNode();if(this.forwardDeletion(i,o,t))return;const s=this.focus,r=hi(s,t);if(pt(r)&&!r.isIsolated()){if(r.isKeyboardSelectable()&&D(o)&&o.getChildrenSize()===0){o.remove();const a=oa();a.add(r.__key),le(a)}else r.remove(),vt().dispatchCommand(_o,void 0);return}if(!t&&D(r)&&D(o)&&o.isEmpty())return o.remove(),void r.selectStart();if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&i.offset===0&&(i.type==="element"?i.getNode():i.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const a=s.type==="text"?s.getNode():null;if(o=i.type==="text"?i.getNode():null,a!==null&&a.isSegmented()){const l=s.offset,c=a.getTextContentSize();if(a.is(o)||t&&l!==c||!t&&l!==0)return void ea(a,t,l)}else if(o!==null&&o.isSegmented()){const l=i.offset,c=o.getTextContentSize();if(o.is(a)||t&&l!==0||!t&&l!==c)return void ea(o,t,l)}(function(l,c){const u=l.anchor,d=l.focus,h=u.getNode(),p=d.getNode();if(h===p&&u.type==="text"&&d.type==="text"){const g=u.offset,y=d.offset,_=g<y,w=_?g:y,f=_?y:g,m=f-1;w!==m&&(Jl(h.getTextContent().slice(w,f))||(c?d.offset=m:u.offset=m))}})(this,t)}}if(this.removeText(),t&&!e&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const i=this.anchor.getNode();i.isEmpty()&&Ft(i.getParent())&&i.getIndexWithinParent()===0&&i.collapseAtStart(this)}}deleteLine(t){if(this.isCollapsed()){const e=this.anchor.type==="element";if(e&&this.insertText(" "),this.modify("extend",t,"lineboundary"),(t?this.focus:this.anchor).offset===0&&this.modify("extend",t,"character"),e){const i=t?this.anchor:this.focus;i.set(i.key,i.offset+1,i.type)}}this.removeText()}deleteWord(t){if(this.isCollapsed()){const e=this.anchor,i=e.getNode();if(this.forwardDeletion(e,i,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Qt(n){return n instanceof No}function ta(n){const t=n.offset;if(n.type==="text")return t;const e=n.getNode();return t===e.getChildrenSize()?e.getTextContent().length:0}function Es(n){const t=n.getStartEndPoints();if(t===null)return[0,0];const[e,i]=t;return e.type==="element"&&i.type==="element"&&e.key===i.key&&e.offset===i.offset?[0,0]:[ta(e),ta(i)]}function ea(n,t,e){const i=n,o=i.getTextContent().split(/(?=\s)/g),s=o.length;let r=0,a=0;for(let c=0;c<s;c++){const u=c===s-1;if(a=r,r+=o[c].length,t&&r===e||r>e||u){o.splice(c,1),u&&(a=void 0);break}}const l=o.join("").trim();l===""?i.remove():(i.setTextContent(l),i.select(a,a))}function na(n,t,e,i){let o,s=t;if(n.nodeType===bi){let r=!1;const a=n.childNodes,l=a.length,c=i._blockCursorElement;s===l&&(r=!0,s=l-1);let u=a[s],d=!1;if(u===c)u=a[s+1],d=!0;else if(c!==null){const h=c.parentNode;n===h&&t>Array.prototype.indexOf.call(h.children,c)&&s--}if(o=gn(u),B(o))s=Br(o,r);else{let h=gn(n);if(h===null)return null;if(D(h)){s=Math.min(h.getChildrenSize(),s);let p=h.getChildAtIndex(s);if(D(p)&&function(g,y,_){const w=g.getParent();return _===null||w===null||!w.canBeEmpty()||w!==_.getNode()}(p,0,e)){const g=r?p.getLastDescendant():p.getFirstDescendant();g===null?h=p:(p=g,h=D(p)?p:p.getParentOrThrow()),s=0}B(p)?(o=p,h=null,s=Br(p,r)):p!==h&&r&&!d&&s++}else{const p=h.getIndexWithinParent();s=t===0&&pt(h)&&gn(n)===h?p:p+1,h=h.getParentOrThrow()}if(D(h))return de(h.__key,s,"element")}}else o=gn(n);return B(o)?de(o.__key,s,"text"):null}function ia(n,t,e){const i=n.offset,o=n.getNode();if(i===0){const s=o.getPreviousSibling(),r=o.getParent();if(t){if((e||!t)&&s===null&&D(r)&&r.isInline()){const a=r.getPreviousSibling();B(a)&&(n.key=a.__key,n.offset=a.getTextContent().length)}}else D(s)&&!e&&s.isInline()?(n.key=s.__key,n.offset=s.getChildrenSize(),n.type="element"):B(s)&&(n.key=s.__key,n.offset=s.getTextContent().length)}else if(i===o.getTextContent().length){const s=o.getNextSibling(),r=o.getParent();if(t&&D(s)&&s.isInline())n.key=s.__key,n.offset=0,n.type="element";else if((e||t)&&s===null&&D(r)&&r.isInline()&&!r.canInsertTextAfter()){const a=r.getNextSibling();B(a)&&(n.key=a.__key,n.offset=0)}}}function yc(n,t,e){if(n.type==="text"&&t.type==="text"){const i=n.isBefore(t),o=n.is(t);ia(n,i,o),ia(t,!i,o),o&&(t.key=n.key,t.offset=n.offset,t.type=n.type);const s=vt();if(s.isComposing()&&s._compositionKey!==n.key&&R(e)){const r=e.anchor,a=e.focus;Ae(n,r.key,r.offset,r.type),Ae(t,a.key,a.offset,a.type)}}}function _c(n,t,e,i,o,s){if(n===null||e===null||!vi(o,n,e))return null;const r=na(n,t,R(s)?s.anchor:null,o);if(r===null)return null;const a=na(e,i,R(s)?s.focus:null,o);if(a===null)return null;if(r.type==="element"&&a.type==="element"){const l=gn(n),c=gn(e);if(pt(l)&&pt(c))return null}return yc(r,a,s),[r,a]}function Ss(n){return D(n)&&!n.isInline()}function bc(n,t,e,i,o,s){const r=ke(),a=new He(de(n,t,o),de(e,i,s),0,"");return a.dirty=!0,r._selection=a,a}function Dd(){const n=de("root",0,"element"),t=de("root",0,"element");return new He(n,t,0,"")}function oa(){return new No(new Set)}function dr(n,t,e,i){const o=e._window;if(o===null)return null;const s=i||o.event,r=s?s.type:void 0,a=r==="selectionchange",l=!ds&&(a||r==="beforeinput"||r==="compositionstart"||r==="compositionend"||r==="click"&&s&&s.detail===3||r==="drop"||r===void 0);let c,u,d,h;if(R(n)&&!l)return n.clone();if(t===null)return null;if(c=t.anchorNode,u=t.focusNode,d=t.anchorOffset,h=t.focusOffset,a&&R(n)&&!vi(e,c,u))return n.clone();const p=_c(c,d,u,h,e,n);if(p===null)return null;const[g,y]=p;return new He(g,y,R(n)?n.format:0,R(n)?n.style:"")}function W(){return ke()._selection}function Ci(){return vt()._editorState._selection}function lo(n,t,e,i=1){const o=n.anchor,s=n.focus,r=o.getNode(),a=s.getNode();if(!t.is(r)&&!t.is(a))return;const l=t.__key;if(n.isCollapsed()){const c=o.offset;if(e<=c&&i>0||e<c&&i<0){const u=Math.max(0,c+i);o.set(l,u,"element"),s.set(l,u,"element"),sa(n)}}else{const c=n.isBackward(),u=c?s:o,d=u.getNode(),h=c?o:s,p=h.getNode();if(t.is(d)){const g=u.offset;(e<=g&&i>0||e<g&&i<0)&&u.set(l,Math.max(0,g+i),"element")}if(t.is(p)){const g=h.offset;(e<=g&&i>0||e<g&&i<0)&&h.set(l,Math.max(0,g+i),"element")}}sa(n)}function sa(n){const t=n.anchor,e=t.offset,i=n.focus,o=i.offset,s=t.getNode(),r=i.getNode();if(n.isCollapsed()){if(!D(s))return;const a=s.getChildrenSize(),l=e>=a,c=l?s.getChildAtIndex(a-1):s.getChildAtIndex(e);if(B(c)){let u=0;l&&(u=c.getTextContentSize()),t.set(c.__key,u,"text"),i.set(c.__key,u,"text")}}else{if(D(s)){const a=s.getChildrenSize(),l=e>=a,c=l?s.getChildAtIndex(a-1):s.getChildAtIndex(e);if(B(c)){let u=0;l&&(u=c.getTextContentSize()),t.set(c.__key,u,"text")}}if(D(r)){const a=r.getChildrenSize(),l=o>=a,c=l?r.getChildAtIndex(a-1):r.getChildAtIndex(o);if(B(c)){let u=0;l&&(u=c.getTextContentSize()),i.set(c.__key,u,"text")}}}}function co(n,t,e,i,o){let s=null,r=0,a=null;i!==null?(s=i.__key,B(i)?(r=i.getTextContentSize(),a="text"):D(i)&&(r=i.getChildrenSize(),a="element")):o!==null&&(s=o.__key,B(o)?a="text":D(o)&&(a="element")),s!==null&&a!==null?n.set(s,r,a):(r=t.getIndexWithinParent(),r===-1&&(r=e.getChildrenSize()),n.set(e.__key,r,"element"))}function ra(n,t,e,i,o){n.type==="text"?(n.key=e,t||(n.offset+=o)):n.offset>i.getIndexWithinParent()&&(n.offset-=1)}function Od(n,t,e,i,o,s,r){const a=i.anchorNode,l=i.focusNode,c=i.anchorOffset,u=i.focusOffset,d=document.activeElement;if(o.has("collaboration")&&d!==s||d!==null&&ir(d))return;if(!R(t))return void(n!==null&&vi(e,a,l)&&i.removeAllRanges());const h=t.anchor,p=t.focus,g=h.key,y=p.key,_=io(e,g),w=io(e,y),f=h.offset,m=p.offset,b=t.format,v=t.style,x=t.isCollapsed();let k=_,E=w,L=!1;if(h.type==="text"){k=eo(_);const Y=h.getNode();L=Y.getFormat()!==b||Y.getStyle()!==v}else R(n)&&n.anchor.type==="text"&&(L=!0);var I,H,j,Z,$;if(p.type==="text"&&(E=eo(w)),k!==null&&E!==null&&(x&&(n===null||L||R(n)&&(n.format!==b||n.style!==v))&&(I=b,H=v,j=f,Z=g,$=performance.now(),uc=[I,H,j,Z,$]),c!==f||u!==m||a!==k||l!==E||i.type==="Range"&&x||(d!==null&&s.contains(d)||s.focus({preventScroll:!0}),h.type==="element"))){try{i.setBaseAndExtent(k,f,E,m)}catch{}if(!o.has("skip-scroll-into-view")&&t.isCollapsed()&&s!==null&&s===document.activeElement){const Y=t instanceof He&&t.anchor.type==="element"?k.childNodes[f]||null:i.rangeCount>0?i.getRangeAt(0):null;if(Y!==null){let P;if(Y instanceof Text){const C=document.createRange();C.selectNode(Y),P=C.getBoundingClientRect()}else P=Y.getBoundingClientRect();(function(C,S,A){const O=A.ownerDocument,T=O.defaultView;if(T===null)return;let{top:N,bottom:F}=S,M=0,z=0,U=A;for(;U!==null;){const q=U===O.body;if(q)M=0,z=So(C).innerHeight;else{const J=U.getBoundingClientRect();M=J.top,z=J.bottom}let X=0;if(N<M?X=-(M-N):F>z&&(X=F-z),X!==0)if(q)T.scrollBy(0,X);else{const J=U.scrollTop;U.scrollTop+=X;const Q=U.scrollTop-J;N-=Q,F-=Q}if(q)break;U=Eo(U)}})(e,P,s)}}xs=!0}}function Ts(n){let t=W()||Ci();t===null&&(t=xt().selectEnd()),t.insertNodes(n)}function Jo(n){let t=n;n.isCollapsed()||t.removeText();const e=W();R(e)&&(t=e),R(t)||V(161);const i=t.anchor;let o=i.getNode(),s=i.offset;for(;!hn(o);)[o,s]=Pd(o,s);return s}function Pd(n,t){const e=n.getParent();if(!e){const o=ut();return xt().append(o),o.select(),[xt(),0]}if(B(n)){const o=n.splitText(t);if(o.length===0)return[e,n.getIndexWithinParent()];const s=t===0?0:1;return[e,o[0].getIndexWithinParent()+s]}if(!D(n)||t===0)return[e,n.getIndexWithinParent()];const i=n.getChildAtIndex(t);if(i){const o=new He(de(n.__key,t,"element"),de(n.__key,t,"element"),0,""),s=n.insertNewAfter(o);s&&s.append(i,...i.getNextSiblings())}return[e,n.getIndexWithinParent()+1]}let Lt=null,At=null,$t=!1,Go=!1,Zi=0;const aa={characterData:!0,childList:!0,subtree:!0};function An(){return $t||Lt!==null&&Lt._readOnly}function zt(){$t&&V(13)}function vc(){Zi>99&&V(14)}function ke(){return Lt===null&&V(15),Lt}function vt(){return At===null&&V(16),At}function Fd(){return At}function la(n,t,e){const i=t.__type,o=function(a,l){const c=a._nodes.get(l);return c===void 0&&V(30,l),c}(n,i);let s=e.get(i);s===void 0&&(s=Array.from(o.transforms),e.set(i,s));const r=s.length;for(let a=0;a<r&&(s[a](t),t.isAttached());a++);}function ca(n,t){return n!==void 0&&n.__key!==t&&n.isAttached()}function Id(n){return hr(n,vt()._nodes)}function hr(n,t){const e=n.type,i=t.get(e);i===void 0&&V(17,e);const o=i.klass;n.type!==o.getType()&&V(18,o.name);const s=o.importJSON(n),r=n.children;if(D(s)&&Array.isArray(r))for(let a=0;a<r.length;a++){const l=hr(r[a],t);s.append(l)}return s}function ua(n,t){const e=Lt,i=$t,o=At;Lt=n,$t=!0,At=null;try{return t()}finally{Lt=e,$t=i,At=o}}function Ye(n,t){const e=n._pendingEditorState,i=n._rootElement,o=n._headless||i===null;if(e===null)return;const s=n._editorState,r=s._selection,a=e._selection,l=n._dirtyType!==Xe,c=Lt,u=$t,d=At,h=n._updating,p=n._observer;let g=null;if(n._pendingEditorState=null,n._editorState=e,!o&&l&&p!==null){At=n,Lt=e,$t=!1,n._updating=!0;try{const x=n._dirtyType,k=n._dirtyElements,E=n._dirtyLeaves;p.disconnect(),g=Cd(s,e,n,x,k,E)}catch(x){if(x instanceof Error&&n._onError(x),Go)throw x;return kc(n,null,i,e),jl(n),n._dirtyType=kn,Go=!0,Ye(n,s),void(Go=!1)}finally{p.observe(i,aa),n._updating=h,Lt=c,$t=u,At=d}}e._readOnly||(e._readOnly=!0);const y=n._dirtyLeaves,_=n._dirtyElements,w=n._normalizedNodes,f=n._updateTags,m=n._deferred;l&&(n._dirtyType=Xe,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),function(x,k){const E=x._decorators;let L=x._pendingDecorators||E;const I=k._nodeMap;let H;for(H in L)I.has(H)||(L===E&&(L=Yl(x)),delete L[H])}(n,e);const b=o?null:ue(n._window);if(n._editable&&b!==null&&(l||a===null||a.dirty)){At=n,Lt=e;try{if(p!==null&&p.disconnect(),l||a===null||a.dirty){const x=n._blockCursorElement;x!==null&&lr(x,n,i),Od(r,a,n,b,f,i)}yd(n,i,a),p!==null&&p.observe(i,aa)}finally{At=d,Lt=c}}g!==null&&function(x,k,E,L,I){const H=Array.from(x._listeners.mutation),j=H.length;for(let Z=0;Z<j;Z++){const[$,Y]=H[Z],P=k.get(Y);P!==void 0&&$(P,{dirtyLeaves:L,prevEditorState:I,updateTags:E})}}(n,g,f,y,s),R(a)||a===null||r!==null&&r.is(a)||n.dispatchCommand(_o,void 0);const v=n._pendingDecorators;v!==null&&(n._decorators=v,n._pendingDecorators=null,ai("decorator",n,!0,v)),function(x,k,E){const L=Rr(k),I=Rr(E);L!==I&&ai("textcontent",x,!0,I)}(n,t||s,e),ai("update",n,!0,{dirtyElements:_,dirtyLeaves:y,editorState:e,normalizedNodes:w,prevEditorState:t||s,tags:f}),function(x,k){if(x._deferred=[],k.length!==0){const E=x._updating;x._updating=!0;try{for(let L=0;L<k.length;L++)k[L]()}finally{x._updating=E}}}(n,m),function(x){const k=x._updates;if(k.length!==0){const E=k.shift();if(E){const[L,I]=E;xc(x,L,I)}}}(n)}function ai(n,t,e,...i){const o=t._updating;t._updating=e;try{const s=Array.from(t._listeners[n]);for(let r=0;r<s.length;r++)s[r].apply(null,i)}finally{t._updating=o}}function wc(n,t,e){if(n._updating===!1||At!==n){let o=!1;return n.update(()=>{o=wc(n,t,e)}),o}const i=or(n);for(let o=4;o>=0;o--)for(let s=0;s<i.length;s++){const r=i[s]._commands.get(t);if(r!==void 0){const a=r[o];if(a!==void 0){const l=Array.from(a),c=l.length;for(let u=0;u<c;u++)if(l[u](e,n)===!0)return!0}}}return!1}function da(n,t){const e=n._updates;let i=t||!1;for(;e.length!==0;){const o=e.shift();if(o){const[s,r]=o;let a,l;r!==void 0&&(a=r.onUpdate,l=r.tag,r.skipTransforms&&(i=!0),a&&n._deferred.push(a),l&&n._updateTags.add(l)),s()}}return i}function xc(n,t,e){const i=n._updateTags;let o,s,r=!1,a=!1;e!==void 0&&(o=e.onUpdate,s=e.tag,s!=null&&i.add(s),r=e.skipTransforms||!1,a=e.discrete||!1),o&&n._deferred.push(o);const l=n._editorState;let c=n._pendingEditorState,u=!1;(c===null||c._readOnly)&&(c=n._pendingEditorState=new Mo(new Map((c||l)._nodeMap)),u=!0),c._flushSync=a;const d=Lt,h=$t,p=At,g=n._updating;Lt=c,$t=!1,n._updating=!0,At=n;try{u&&(n._headless?l._selection!==null&&(c._selection=l._selection.clone()):c._selection=function(w){const f=w.getEditorState()._selection,m=ue(w._window);return R(f)||f==null?dr(f,m,w,null):f.clone()}(n));const y=n._compositionKey;t(),r=da(n,r),function(w,f){const m=f.getEditorState()._selection,b=w._selection;if(R(b)){const v=b.anchor,x=b.focus;let k;if(v.type==="text"&&(k=v.getNode(),k.selectionTransform(m,b)),x.type==="text"){const E=x.getNode();k!==E&&E.selectionTransform(m,b)}}}(c,n),n._dirtyType!==Xe&&(r?function(w,f){const m=f._dirtyLeaves,b=w._nodeMap;for(const v of m){const x=b.get(v);B(x)&&x.isAttached()&&x.isSimpleText()&&!x.isUnmergeable()&&Fr(x)}}(c,n):function(w,f){const m=f._dirtyLeaves,b=f._dirtyElements,v=w._nodeMap,x=Ne(),k=new Map;let E=m,L=E.size,I=b,H=I.size;for(;L>0||H>0;){if(L>0){f._dirtyLeaves=new Set;for(const j of E){const Z=v.get(j);B(Z)&&Z.isAttached()&&Z.isSimpleText()&&!Z.isUnmergeable()&&Fr(Z),Z!==void 0&&ca(Z,x)&&la(f,Z,k),m.add(j)}if(E=f._dirtyLeaves,L=E.size,L>0){Zi++;continue}}f._dirtyLeaves=new Set,f._dirtyElements=new Map;for(const j of I){const Z=j[0],$=j[1];if(Z!=="root"&&!$)continue;const Y=v.get(Z);Y!==void 0&&ca(Y,x)&&la(f,Y,k),b.set(Z,$)}E=f._dirtyLeaves,L=E.size,I=f._dirtyElements,H=I.size,Zi++}f._dirtyLeaves=m,f._dirtyElements=b}(c,n),da(n),function(w,f,m,b){const v=w._nodeMap,x=f._nodeMap,k=[];for(const[E]of b){const L=x.get(E);L!==void 0&&(L.isAttached()||(D(L)&&ec(L,E,v,x,k,b),v.has(E)||b.delete(E),k.push(E)))}for(const E of k)x.delete(E);for(const E of m){const L=x.get(E);L===void 0||L.isAttached()||(v.has(E)||m.delete(E),x.delete(E))}}(l,c,n._dirtyLeaves,n._dirtyElements)),y!==n._compositionKey&&(c._flushSync=!0);const _=c._selection;if(R(_)){const w=c._nodeMap,f=_.anchor.key,m=_.focus.key;w.get(f)!==void 0&&w.get(m)!==void 0||V(19)}else Qt(_)&&_._nodes.size===0&&(c._selection=null)}catch(y){return y instanceof Error&&n._onError(y),n._pendingEditorState=l,n._dirtyType=kn,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void Ye(n)}finally{Lt=d,$t=h,At=p,n._updating=g,Zi=0}n._dirtyType!==Xe||function(y,_){const w=_.getEditorState()._selection,f=y._selection;if(f!==null){if(f.dirty||!f.is(w))return!0}else if(w!==null)return!0;return!1}(c,n)?c._flushSync?(c._flushSync=!1,Ye(n)):u&&dd(()=>{Ye(n)}):(c._flushSync=!1,u&&(i.clear(),n._deferred=[],n._pendingEditorState=null))}function Vt(n,t,e){n._updating?n._updates.push([t,e]):xc(n,t,e)}class Kt extends Ao{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return nd[t]||""}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let e=this.getFirstChild();for(;e!==null;)t.push(e),e=e.getNextSibling();return t}getChildrenKeys(){const t=[];let e=this.getFirstChild();for(;e!==null;)t.push(e.__key),e=e.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=vt()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return e!==null&&e.is(t)}getAllTextNodes(){const t=[];let e=this.getFirstChild();for(;e!==null;){if(B(e)&&t.push(e),D(e)){const i=e.getAllTextNodes();t.push(...i)}e=e.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;D(t);){const e=t.getFirstChild();if(e===null)break;t=e}return t}getLastDescendant(){let t=this.getLastChild();for(;D(t);){const e=t.getLastChild();if(e===null)break;t=e}return t}getDescendantByIndex(t){const e=this.getChildren(),i=e.length;if(t>=i){const s=e[i-1];return D(s)&&s.getLastDescendant()||s||null}const o=e[t];return D(o)&&o.getFirstDescendant()||o||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:ct(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&V(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:ct(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&V(96,this.__key),t}getChildAtIndex(t){const e=this.getChildrenSize();let i,o;if(t<e/2){for(i=this.getFirstChild(),o=0;i!==null&&o<=t;){if(o===t)return i;i=i.getNextSibling(),o++}return null}for(i=this.getLastChild(),o=e-1;i!==null&&o>=t;){if(o===t)return i;i=i.getPreviousSibling(),o--}return null}getTextContent(){let t="";const e=this.getChildren(),i=e.length;for(let o=0;o<i;o++){const s=e[o];t+=s.getTextContent(),D(s)&&o!==i-1&&!s.isInline()&&(t+=ve)}return t}getTextContentSize(){let t=0;const e=this.getChildren(),i=e.length;for(let o=0;o<i;o++){const s=e[o];t+=s.getTextContentSize(),D(s)&&o!==i-1&&!s.isInline()&&(t+=ve.length)}return t}getDirection(){return this.getLatest().__dir}hasFormat(t){if(t!==""){const e=Dr[t];return!!(this.getFormat()&e)}return!1}select(t,e){zt();const i=W();let o=t,s=e;const r=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&e===0){const l=this.getFirstChild();if(B(l)||D(l))return l.select(0,0)}else if(!(t!==void 0&&t!==r||e!==void 0&&e!==r)){const l=this.getLastChild();if(B(l)||D(l))return l.select()}}o===void 0&&(o=r),s===void 0&&(s=r);const a=this.__key;return R(i)?(i.anchor.set(a,o,"element"),i.focus.set(a,s,"element"),i.dirty=!0,i):bc(a,o,a,s,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(e=>e.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const e=this.getWritable();return e.__dir=t,e}setFormat(t){return this.getWritable().__format=t!==""?Dr[t]:0,this}setIndent(t){return this.getWritable().__indent=t,this}splice(t,e,i){const o=i.length,s=this.getChildrenSize(),r=this.getWritable(),a=r.__key,l=[],c=[],u=this.getChildAtIndex(t+e);let d=null,h=s-e+o;if(t!==0)if(t===s)d=this.getLastChild();else{const g=this.getChildAtIndex(t);g!==null&&(d=g.getPreviousSibling())}if(e>0){let g=d===null?this.getFirstChild():d.getNextSibling();for(let y=0;y<e;y++){g===null&&V(100);const _=g.getNextSibling(),w=g.__key;qe(g.getWritable()),c.push(w),g=_}}let p=d;for(let g=0;g<o;g++){const y=i[g];p!==null&&y.is(p)&&(d=p=p.getPreviousSibling());const _=y.getWritable();_.__parent===a&&h--,qe(_);const w=y.__key;if(p===null)r.__first=w,_.__prev=null;else{const f=p.getWritable();f.__next=w,_.__prev=f.__key}y.__key===a&&V(76),_.__parent=a,l.push(w),p=y}if(t+e===s)p!==null&&(p.getWritable().__next=null,r.__last=p.__key);else if(u!==null){const g=u.getWritable();if(p!==null){const y=p.getWritable();g.__prev=p.__key,y.__next=u.__key}else g.__prev=null}if(r.__size=h,c.length){const g=W();if(R(g)){const y=new Set(c),_=new Set(l),{anchor:w,focus:f}=g;ha(w,y,_)&&co(w,w.getNode(),this,d,u),ha(f,y,_)&&co(f,f.getNode(),this,d,u),h!==0||this.canBeEmpty()||ce(this)||this.remove()}}return r}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(t,e){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,e,i){return!1}}function D(n){return n instanceof Kt}function ha(n,t,e){let i=n.getNode();for(;i;){const o=i.__key;if(t.has(o)&&!e.has(o))return!0;i=i.getParent()}return!1}class pr extends Ao{constructor(t){super(t)}decorate(t,e){V(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function pt(n){return n instanceof pr}class ki extends Kt{static getType(){return"root"}static clone(){return new ki}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){V(51)}getTextContent(){const t=this.__cachedText;return!An()&&vt()._dirtyType!==Xe||t===null?super.getTextContent():t}remove(){V(52)}replace(t){V(53)}insertBefore(t){V(54)}insertAfter(t){V(55)}updateDOM(t,e){return!1}append(...t){for(let e=0;e<t.length;e++){const i=t[e];D(i)||pt(i)||V(56)}return super.append(...t)}static importJSON(t){const e=xt();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Ft(n){return n instanceof ki}function gr(){return new Mo(new Map([["root",new ki]]))}function Cc(n){const t=n.exportJSON(),e=n.constructor;if(t.type!==e.getType()&&V(130,e.name),D(n)){const i=t.children;Array.isArray(i)||V(59,e.name);const o=n.getChildren();for(let s=0;s<o.length;s++){const r=Cc(o[s]);i.push(r)}}return t}class Mo{constructor(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t){return ua(this,t)}clone(t){const e=new Mo(this._nodeMap,t===void 0?this._selection:t);return e._readOnly=!0,e}toJSON(){return ua(this,()=>({root:Cc(xt())}))}}class fr extends Kt{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class Nn extends Kt{constructor(t){super(t),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(t){const e=this.getWritable();return e.__textFormat=t,e}hasTextFormat(t){const e=Je[t];return!!(this.getTextFormat()&e)}static clone(t){return new Nn(t.__key)}createDOM(t){const e=document.createElement("p"),i=oi(t.theme,"paragraph");return i!==void 0&&e.classList.add(...i),e}updateDOM(t,e,i){return!1}static importDOM(){return{p:t=>({conversion:Rd,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&ge(e)){this.isEmpty()&&e.append(document.createElement("br"));const i=this.getFormatType();e.style.textAlign=i;const o=this.getDirection();o&&(e.dir=o);const s=this.getIndent();s>0&&(e.style.textIndent=20*s+"px")}return{element:e}}static importJSON(t){const e=ut();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e.setTextFormat(t.textFormat),e}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(t,e){const i=ut();i.setTextFormat(t.format);const o=this.getDirection();return i.setDirection(o),i.setFormat(this.getFormatType()),this.insertAfter(i,e),i}collapseAtStart(){const t=this.getChildren();if(t.length===0||B(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function Rd(n){const t=ut();if(n.style){t.setFormat(n.style.textAlign);const e=parseInt(n.style.textIndent,10)/20;e>0&&t.setIndent(e)}return{node:t}}function ut(){return It(new Nn)}function En(n){return n instanceof Nn}const it=0,Se=1,pa=3,Bd=4;function kc(n,t,e,i){const o=n._keyToDOMMap;o.clear(),n._editorState=gr(),n._pendingEditorState=i,n._compositionKey=null,n._dirtyType=Xe,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const s=n._observer;s!==null&&(s.disconnect(),n._observer=null),t!==null&&(t.textContent=""),e!==null&&(e.textContent="",o.set("root",e))}function Ec(n){const t=n||{},e=Fd(),i=t.theme||{},o=n===void 0?e:t.parentEditor||null,s=t.disableEvents||!1,r=gr(),a=t.namespace||(o!==null?o._config.namespace:Gl()),l=t.editorState,c=[ki,ee,wi,xi,Nn,fr,...t.nodes||[]],{onError:u,html:d}=t,h=t.editable===void 0||t.editable;let p;if(n===void 0&&e!==null)p=e._nodes;else{p=new Map;for(let y=0;y<c.length;y++){let _=c[y],w=null,f=null;if(typeof _!="function"){const x=_;_=x.replace,w=x.with,f=x.withKlass||null}const m=_.getType(),b=_.transform(),v=new Set;b!==null&&v.add(b),p.set(m,{exportDOM:d&&d.export?d.export.get(_):void 0,klass:_,replace:w,replaceWithKlass:f,transforms:v})}}const g=new Hd(r,o,p,{disableEvents:s,namespace:a,theme:i},u||console.error,function(y,_){const w=new Map,f=new Set,m=b=>{Object.keys(b).forEach(v=>{let x=w.get(v);x===void 0&&(x=[],w.set(v,x)),x.push(b[v])})};return y.forEach(b=>{const v=b.klass.importDOM;if(v==null||f.has(v))return;f.add(v);const x=v.call(b.klass);x!==null&&m(x)}),_&&m(_),w}(p,d?d.import:void 0),h);return l!==void 0&&(g._pendingEditorState=l,g._dirtyType=kn),g}class Hd{constructor(t,e,i,o,s,r,a){this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=i,this._decorators={},this._pendingDecorators=null,this._dirtyType=Xe,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Gl(),this._onError=s,this._htmlConversions=r,this._editable=a,this._headless=e!==null&&e._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){const e=this._listeners.update;return e.add(t),()=>{e.delete(t)}}registerEditableListener(t){const e=this._listeners.editable;return e.add(t),()=>{e.delete(t)}}registerDecoratorListener(t){const e=this._listeners.decorator;return e.add(t),()=>{e.delete(t)}}registerTextContentListener(t){const e=this._listeners.textcontent;return e.add(t),()=>{e.delete(t)}}registerRootListener(t){const e=this._listeners.root;return t(this._rootElement,null),e.add(t),()=>{t(null,this._rootElement),e.delete(t)}}registerCommand(t,e,i){i===void 0&&V(35);const o=this._commands;o.has(t)||o.set(t,[new Set,new Set,new Set,new Set,new Set]);const s=o.get(t);s===void 0&&V(36,String(t));const r=s[i];return r.add(e),()=>{r.delete(e),s.every(a=>a.size===0)&&o.delete(t)}}registerMutationListener(t,e){let i=this._nodes.get(t.getType());i===void 0&&V(37,t.name);let o=t,s=null;for(;s=i.replaceWithKlass;)o=s,i=this._nodes.get(s.getType()),i===void 0&&V(37,s.name);const r=this._listeners.mutation;return r.set(e,o),()=>{r.delete(e)}}registerNodeTransformToKlass(t,e){const i=t.getType(),o=this._nodes.get(i);return o===void 0&&V(37,t.name),o.transforms.add(e),o}registerNodeTransform(t,e){const i=this.registerNodeTransformToKlass(t,e),o=[i],s=i.replaceWithKlass;if(s!=null){const l=this.registerNodeTransformToKlass(s,e);o.push(l)}var r,a;return r=this,a=t.getType(),Vt(r,()=>{const l=ke();if(l.isEmpty())return;if(a==="root")return void xt().markDirty();const c=l._nodeMap;for(const[,u]of c)u.markDirty()},r._pendingEditorState===null?{tag:"history-merge"}:void 0),()=>{o.forEach(l=>l.transforms.delete(e))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,e){return K(this,t,e)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const e=this._rootElement;if(t!==e){const i=oi(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=t,kc(this,e,t,o),e!==null&&(this._config.disableEvents||kd(e),i!=null&&e.classList.remove(...i)),t!==null){const s=function(a){const l=a.ownerDocument;return l&&l.defaultView||null}(t),r=t.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=s,this._dirtyType=kn,jl(this),this._updateTags.add("history-merge"),Ye(this),this._config.disableEvents||function(a,l){const c=a.ownerDocument,u=ao.get(c);(u===void 0||u<1)&&c.addEventListener("selectionchange",gc),ao.set(c,(u||0)+1),a.__lexicalEditor=l;const d=pc(a);for(let h=0;h<ws.length;h++){const[p,g]=ws[h],y=typeof g=="function"?_=>{qr(_)||(Zr(_),(l.isEditable()||p==="click")&&g(_,l))}:_=>{if(qr(_))return;Zr(_);const w=l.isEditable();switch(p){case"cut":return w&&K(l,js,_);case"copy":return K(l,wo,_);case"paste":return w&&K(l,Us,_);case"dragstart":return w&&K(l,Rl,_);case"dragover":return w&&K(l,Bl,_);case"dragend":return w&&K(l,Hu,_);case"focus":return w&&K(l,$u,_);case"blur":return w&&K(l,Uu,_);case"drop":return w&&K(l,Fl,_)}};a.addEventListener(p,y),d.push(()=>{a.removeEventListener(p,y)})}}(t,this),i!=null&&t.classList.add(...i)}else this._editorState=o,this._pendingEditorState=null,this._window=null;ai("root",this,!1,t,e)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,e){t.isEmpty()&&V(38),Vl(this);const i=this._pendingEditorState,o=this._updateTags,s=e!==void 0?e.tag:null;i===null||i.isEmpty()||(s!=null&&o.add(s),Ye(this)),this._pendingEditorState=t,this._dirtyType=kn,this._dirtyElements.set("root",!1),this._compositionKey=null,s!=null&&o.add(s),Ye(this)}parseEditorState(t,e){return function(i,o,s){const r=gr(),a=Lt,l=$t,c=At,u=o._dirtyElements,d=o._dirtyLeaves,h=o._cloneNotNeeded,p=o._dirtyType;o._dirtyElements=new Map,o._dirtyLeaves=new Set,o._cloneNotNeeded=new Set,o._dirtyType=0,Lt=r,$t=!1,At=o;try{const g=o._nodes;hr(i.root,g),s&&s(),r._readOnly=!0}catch(g){g instanceof Error&&o._onError(g)}finally{o._dirtyElements=u,o._dirtyLeaves=d,o._cloneNotNeeded=h,o._dirtyType=p,Lt=a,$t=l,At=c}return r}(typeof t=="string"?JSON.parse(t):t,this,e)}update(t,e){Vt(this,t,e)}focus(t,e={}){const i=this._rootElement;i!==null&&(i.setAttribute("autocapitalize","off"),Vt(this,()=>{const o=W(),s=xt();o!==null?o.dirty=!0:s.getChildrenSize()!==0&&(e.defaultSelection==="rootStart"?s.selectStart():s.selectEnd())},{onUpdate:()=>{i.removeAttribute("autocapitalize"),t&&t()},tag:"focus"}),this._pendingEditorState===null&&i.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;t!==null&&t.blur();const e=ue(this._window);e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,ai("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}function Wd(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sc=Wd(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const uo=new Map;function Tc(n){const t={},e=n.split(";");for(const i of e)if(i!==""){const[o,s]=i.split(/:([^]+)/);o&&s&&(t[o.trim()]=s.trim())}return t}function mr(n){let t=uo.get(n);return t===void 0&&(t=Tc(n),uo.set(n,t)),t}function Lc(n){const t=n.constructor.clone(n);return t.__parent=n.__parent,t.__next=n.__next,t.__prev=n.__prev,D(n)&&D(t)?(i=n,(e=t).__first=i.__first,e.__last=i.__last,e.__size=i.__size,e.__format=i.__format,e.__indent=i.__indent,e.__dir=i.__dir,e):B(n)&&B(t)?function(o,s){return o.__format=s.__format,o.__style=s.__style,o.__mode=s.__mode,o.__detail=s.__detail,o}(t,n):En(n)&&En(t)?function(o,s){return o.__textFormat=s.__textFormat,o}(t,n):t;var e,i}function Ac(n,t){const e=n.getStartEndPoints();if(t.isSelected(n)&&!t.isSegmented()&&!t.isToken()&&e!==null){const[i,o]=e,s=n.isBackward(),r=i.getNode(),a=o.getNode(),l=t.is(r),c=t.is(a);if(l||c){const[u,d]=Es(n),h=r.is(a),p=t.is(s?a:r),g=t.is(s?r:a);let y,_=0;return h?(_=u>d?d:u,y=u>d?u:d):p?(_=s?d:u,y=void 0):g&&(_=0,y=s?u:d),t.__text=t.__text.slice(_,y),t}}return t}function ga(n){if(n.type==="text")return n.offset===n.getNode().getTextContentSize();const t=n.getNode();return D(t)||Sc(177),n.offset===t.getChildrenSize()}function zd(n){const t=n.getStyle(),e=Tc(t);uo.set(t,e)}function sn(n,t){const e=mr("getStyle"in n?n.getStyle():n.style),i=Object.entries(t).reduce((s,[r,a])=>(a instanceof Function?s[r]=a(e[r]):a===null?delete s[r]:s[r]=a,s),{...e}),o=function(s){let r="";for(const a in s)a&&(r+=`${a}: ${s[a]};`);return r}(i);n.setStyle(o),uo.set(o,i)}function fa(n,t){const e=n.getNodes(),i=e.length,o=n.getStartEndPoints();if(o===null)return;const[s,r]=o,a=i-1;let l=e[0],c=e[a];if(n.isCollapsed()&&R(n))return void sn(n,t);const u=l.getTextContent().length,d=r.offset;let h=s.offset;const p=s.isBefore(r);let g=p?h:d,y=p?d:h;const _=p?s.type:r.type,w=p?r.type:s.type,f=p?r.key:s.key;if(B(l)&&g===u){const m=l.getNextSibling();B(m)&&(h=0,g=0,l=m)}if(e.length===1){if(B(l)&&l.canHaveFormat()){if(g=_==="element"?0:h>d?d:h,y=w==="element"?u:h>d?h:d,g===y)return;if(g===0&&y===u)sn(l,t),l.select(g,y);else{const m=l.splitText(g,y),b=g===0?m[0]:m[1];sn(b,t),b.select(0,y-g)}}}else{if(B(l)&&g<l.getTextContentSize()&&l.canHaveFormat()&&(g!==0&&(l=l.splitText(g)[1],g=0,p?s.set(l.getKey(),g,"text"):r.set(l.getKey(),g,"text")),sn(l,t)),B(c)&&c.canHaveFormat()){const m=c.getTextContent().length;c.__key!==f&&y!==0&&(y=m),y!==m&&([c]=c.splitText(y)),y===0&&w!=="element"||sn(c,t)}for(let m=1;m<a;m++){const b=e[m],v=b.getKey();B(b)&&b.canHaveFormat()&&v!==l.getKey()&&v!==c.getKey()&&!b.isToken()&&sn(b,t)}}}function Hi(n,t){if(n===null)return;const e=n.getStartEndPoints(),i=e?e[0]:null;if(i!==null&&i.key==="root"){const r=t(),a=xt(),l=a.getFirstChild();return void(l?l.replace(r,!0):a.append(r))}const o=n.getNodes(),s=i!==null&&function(r,a){let l=r;for(;l!==null&&l.getParent()!==null&&!a(l);)l=l.getParentOrThrow();return a(l)?l:null}(i.getNode(),_a);s&&o.indexOf(s)===-1&&o.push(s);for(let r=0;r<o.length;r++){const a=o[r];if(!_a(a))continue;D(a)||Sc(178);const l=t();l.setFormat(a.getFormatType()),l.setIndent(a.getIndent()),a.replace(l,!0)}}function ma(n,t){const e=hi(n.focus,t);return pt(e)&&!e.isIsolated()||D(e)&&!e.isInline()&&!e.canBeEmpty()}function $d(n,t,e,i){n.modify(t?"extend":"move",e,i)}function Ud(n){const t=n.anchor.getNode();return(Ft(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function ya(n,t,e){const i=Ud(n);$d(n,t,e?!i:i,"character")}function Vd(n,t,e){const i=mr(n.getStyle());return i!==null&&i[t]||e}function Qo(n,t,e=""){let i=null;const o=n.getNodes(),s=n.anchor,r=n.focus,a=n.isBackward(),l=a?r.offset:s.offset,c=a?r.getNode():s.getNode();if(R(n)&&n.isCollapsed()&&n.style!==""){const u=mr(n.style);if(u!==null&&t in u)return u[t]}for(let u=0;u<o.length;u++){const d=o[u];if((u===0||l!==0||!d.is(c))&&B(d)){const h=Vd(d,t,e);if(i===null)i=h;else if(i!==h){i="";break}}}return i===null?e:i}function _a(n){if(pt(n)||!D(n)||ce(n))return!1;const t=n.getFirstChild(),e=t===null||Fe(t)||B(t)||t.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&e}function jd(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kd=jd(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const Nc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Zd=Nc&&"documentMode"in document?document.documentMode:null;!(!Nc||!("InputEvent"in window)||Zd)&&"getTargetRanges"in new window.InputEvent("input");function Mc(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[i]of e.matchAll(/\S+/g))t.push(i);return t}function Dc(...n){return()=>{for(let t=n.length-1;t>=0;t--)n[t]();n.length=0}}function qt(n,...t){const e=Mc(...t);e.length>0&&n.classList.add(...e)}function yr(n,...t){const e=Mc(...t);e.length>0&&n.classList.remove(...e)}function Oc(n,t){let e=n;for(;e!=null;){if(e instanceof t)return e;e=e.getParent()}return null}function Pc(n){const t=he(n,e=>D(e)&&!e.isInline());return D(t)||Kd(4,n.__key),t}const he=(n,t)=>{let e=n;for(;e!==xt()&&e!=null;){if(t(e))return e;e=e.getParent()}return null};function Ke(n,t){return n!==null&&Object.getPrototypeOf(n).constructor.name===t.name}function qd(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}qd(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const ba=n=>{try{return!!n&&window.Prism.languages.hasOwnProperty(n)}catch{return!1}};function Fc(n,t){for(const e of n.childNodes){if(ge(e)&&e.tagName===t)return!0;Fc(e,t)}return!1}const ni="data-language",Wi="data-highlight-language";let _r=class Ic extends Kt{static getType(){return"code"}static clone(t){return new Ic(t.__language,t.__key)}constructor(t,e){super(e),this.__language=t,this.__isSyntaxHighlightSupported=ba(t)}createDOM(t){const e=document.createElement("code");qt(e,t.theme.code),e.setAttribute("spellcheck","false");const i=this.getLanguage();return i&&(e.setAttribute(ni,i),this.getIsSyntaxHighlightSupported()&&e.setAttribute(Wi,i)),e}updateDOM(t,e,i){const o=this.__language,s=t.__language;return o?o!==s&&(e.setAttribute(ni,o),this.__isSyntaxHighlightSupported&&e.setAttribute(Wi,o)):s&&(e.removeAttribute(ni),t.__isSyntaxHighlightSupported&&e.removeAttribute(Wi)),!1}exportDOM(t){const e=document.createElement("pre");qt(e,t._config.theme.code),e.setAttribute("spellcheck","false");const i=this.getLanguage();return i&&(e.setAttribute(ni,i),this.getIsSyntaxHighlightSupported()&&e.setAttribute(Wi,i)),{element:e}}static importDOM(){return{code:t=>t.textContent!=null&&(/\r?\n/.test(t.textContent)||Fc(t,"BR"))?{conversion:va,priority:1}:null,div:()=>({conversion:Xd,priority:1}),pre:()=>({conversion:va,priority:0}),table:t=>ts(t)?{conversion:Jd,priority:3}:null,td:t=>{const e=t,i=e.closest("table");return e.classList.contains("js-file-line")||i&&ts(i)?{conversion:wa,priority:3}:null},tr:t=>{const e=t.closest("table");return e&&ts(e)?{conversion:wa,priority:3}:null}}}static importJSON(t){const e=Qe(t.language);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(t,e=!0){const i=this.getChildren(),o=i.length;if(o>=2&&i[o-1].getTextContent()===`
`&&i[o-2].getTextContent()===`
`&&t.isCollapsed()&&t.anchor.key===this.__key&&t.anchor.offset===o){i[o-1].remove(),i[o-2].remove();const l=ut();return this.insertAfter(l,e),l}const{anchor:s,focus:r}=t,a=(s.isBefore(r)?s:r).getNode();if(B(a)){let l=Gd(a);const c=[];for(;;)if(ur(l))c.push(Ln()),l=l.getNextSibling();else{if(!Bc(l))break;{let _=0;const w=l.getTextContent(),f=l.getTextContentSize();for(;_<f&&w[_]===" ";)_++;if(_!==0&&c.push(Rc(" ".repeat(_))),_!==f)break;l=l.getNextSibling()}}const u=a.splitText(s.offset)[0],d=s.offset===0?0:1,h=u.getIndexWithinParent()+d,p=a.getParentOrThrow(),g=[xe(),...c];p.splice(h,0,g);const y=c[c.length-1];y?y.select():s.offset===0?u.selectPrevious():u.getNextSibling().selectNext(0,0)}if(Yd(a)){const{offset:l}=t.anchor;a.splice(l,0,[xe()]),a.select(l+1,l+1)}return null}canIndent(){return!1}collapseAtStart(){const t=ut();return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}setLanguage(t){const e=this.getWritable();e.__language=t,e.__isSyntaxHighlightSupported=ba(t)}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};function Qe(n){return It(new _r(n))}function Yd(n){return n instanceof _r}function va(n){return{node:Qe(n.getAttribute(ni))}}function Xd(n){const t=n,e=xa(t);return e||function(i){let o=i.parentElement;for(;o!==null;){if(xa(o))return!0;o=o.parentElement}return!1}(t)?{node:e?Qe():null}:{node:null}}function Jd(){return{node:Qe()}}function wa(){return{node:null}}function xa(n){return n.style.fontFamily.match("monospace")!==null}function ts(n){return n.classList.contains("js-file-line-container")}class Do extends ee{constructor(t,e,i){super(t,i),this.__highlightType=e}static getType(){return"code-highlight"}static clone(t){return new Do(t.__text,t.__highlightType||void 0,t.__key)}getHighlightType(){return this.getLatest().__highlightType}canHaveFormat(){return!1}createDOM(t){const e=super.createDOM(t),i=es(t.theme,this.__highlightType);return qt(e,i),e}updateDOM(t,e,i){const o=super.updateDOM(t,e,i),s=es(i.theme,t.__highlightType),r=es(i.theme,this.__highlightType);return s!==r&&(s&&yr(e,s),r&&qt(e,r)),o}static importJSON(t){const e=Rc(t.text,t.highlightType);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(t){return this}isParentRequired(){return!0}createParentElementNode(){return Qe()}}function es(n,t){return t&&n&&n.codeHighlight&&n.codeHighlight[t]}function Rc(n,t){return It(new Do(n,t))}function Bc(n){return n instanceof Do}function Gd(n){let t=n,e=n;for(;Bc(e)||ur(e);)t=e,e=e.getPreviousSibling();return t}const ns=0,Ls=1,As=2,Gt=0,Qd=1,Ca=2,th=3,eh=4;function nh(n,t,e,i,o){if(n===null||e.size===0&&i.size===0&&!o)return Gt;const s=t._selection,r=n._selection;if(o)return Qd;if(!(R(s)&&R(r)&&r.isCollapsed()&&s.isCollapsed()))return Gt;const a=function(w,f,m){const b=w._nodeMap,v=[];for(const x of f){const k=b.get(x);k!==void 0&&v.push(k)}for(const[x,k]of m){if(!k)continue;const E=b.get(x);E===void 0||Ft(E)||v.push(E)}return v}(t,e,i);if(a.length===0)return Gt;if(a.length>1){const w=t._nodeMap,f=w.get(s.anchor.key),m=w.get(r.anchor.key);return f&&m&&!n._nodeMap.has(f.__key)&&B(f)&&f.__text.length===1&&s.anchor.offset===1?Ca:Gt}const l=a[0],c=n._nodeMap.get(l.__key);if(!B(c)||!B(l)||c.__mode!==l.__mode)return Gt;const u=c.__text,d=l.__text;if(u===d)return Gt;const h=s.anchor,p=r.anchor;if(h.key!==p.key||h.type!=="text")return Gt;const g=h.offset,y=p.offset,_=d.length-u.length;return _===1&&y===g-1?Ca:_===-1&&y===g+1?th:_===-1&&y===g?eh:Gt}function ih(n,t){let e=Date.now(),i=Gt;return(o,s,r,a,l,c)=>{const u=Date.now();if(c.has("historic"))return i=Gt,e=u,As;const d=nh(o,s,a,l,n.isComposing()),h=(()=>{const p=r===null||r.editor===n,g=c.has("history-push");if(!g&&p&&c.has("history-merge"))return ns;if(o===null)return Ls;const y=s._selection;return a.size>0||l.size>0?g===!1&&d!==Gt&&d===i&&u<e+t&&p||a.size===1&&function(_,w,f){const m=w._nodeMap.get(_),b=f._nodeMap.get(_),v=w._selection,x=f._selection;let k=!1;return R(v)&&R(x)&&(k=v.anchor.type==="element"&&v.focus.type==="element"&&x.anchor.type==="text"&&x.focus.type==="text"),!(k||!B(m)||!B(b))&&m.__type===b.__type&&m.__text===b.__text&&m.__mode===b.__mode&&m.__detail===b.__detail&&m.__style===b.__style&&m.__format===b.__format&&m.__parent===b.__parent}(Array.from(a)[0],o,s)?ns:Ls:y!==null?ns:As})();return e=u,i=d,h}}function ka(n){n.undoStack=[],n.redoStack=[],n.current=null}function oh(n,t,e){const i=ih(n,e);return Dc(n.registerCommand(bo,()=>(function(o,s){const r=s.redoStack,a=s.undoStack;if(a.length!==0){const l=s.current,c=a.pop();l!==null&&(r.push(l),o.dispatchCommand(Gn,!0)),a.length===0&&o.dispatchCommand(Qn,!1),s.current=c||null,c&&c.editor.setEditorState(c.editorState,{tag:"historic"})}}(n,t),!0),it),n.registerCommand(vo,()=>(function(o,s){const r=s.redoStack,a=s.undoStack;if(r.length!==0){const l=s.current;l!==null&&(a.push(l),o.dispatchCommand(Qn,!0));const c=r.pop();r.length===0&&o.dispatchCommand(Gn,!1),s.current=c||null,c&&c.editor.setEditorState(c.editorState,{tag:"historic"})}}(n,t),!0),it),n.registerCommand(Wu,()=>(ka(t),!1),it),n.registerCommand(zu,()=>(ka(t),n.dispatchCommand(Gn,!1),n.dispatchCommand(Qn,!1),!0),it),n.registerUpdateListener(({editorState:o,prevEditorState:s,dirtyLeaves:r,dirtyElements:a,tags:l})=>{const c=t.current,u=t.redoStack,d=t.undoStack,h=c===null?null:c.editorState;if(c!==null&&o===h)return;const p=i(s,o,c,r,a,l);if(p===Ls)u.length!==0&&(t.redoStack=[],n.dispatchCommand(Gn,!1)),c!==null&&(d.push({...c}),n.dispatchCommand(Qn,!0));else if(p===As)return;t.current={editor:n,editorState:o}}))}function sh(){return{current:null,redoStack:[],undoStack:[]}}function Hc(n,t){const e=t.body?t.body.childNodes:[];let i=[];const o=[];for(let s=0;s<e.length;s++){const r=e[s];if(!$c.has(r.nodeName)){const a=Uc(r,n,o,!1);a!==null&&(i=i.concat(a))}}return function(s){for(const r of s)r.getNextSibling()instanceof fr&&r.insertAfter(xe());for(const r of s){const a=r.getChildren();for(const l of a)r.insertBefore(l);r.remove()}}(o),i}function Wc(n,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const e=document.createElement("div"),i=xt().getChildren();for(let o=0;o<i.length;o++)zc(n,i[o],e,t);return e.innerHTML}function zc(n,t,e,i=null){let o=i===null||t.isSelected(i);const s=D(t)&&t.excludeFromCopy("html");let r=t;if(i!==null){let p=Lc(t);p=B(p)&&i!==null?Ac(i,p):p,r=p}const a=D(r)?r.getChildren():[],l=n._nodes.get(r.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(n,r):r.exportDOM(n);const{element:u,after:d}=c;if(!u)return!1;const h=document.createDocumentFragment();for(let p=0;p<a.length;p++){const g=a[p],y=zc(n,g,h,i);!o&&D(t)&&y&&t.extractWithChild(g,i,"html")&&(o=!0)}if(o&&!s){if(ge(u)&&u.append(h),e.append(u),d){const p=d.call(r,u);p&&u.replaceWith(p)}}else e.append(h);return o}const $c=new Set(["STYLE","SCRIPT"]);function Uc(n,t,e,i,o=new Map,s){let r=[];if($c.has(n.nodeName))return r;let a=null;const l=function(g,y){const{nodeName:_}=g,w=y._htmlConversions.get(_.toLowerCase());let f=null;if(w!==void 0)for(const m of w){const b=m(g);b!==null&&(f===null||(f.priority||0)<(b.priority||0))&&(f=b)}return f!==null?f.conversion:null}(n,t),c=l?l(n):null;let u=null;if(c!==null){u=c.after;const g=c.node;if(a=Array.isArray(g)?g[g.length-1]:g,a!==null){for(const[,y]of o)if(a=y(a,s),!a)break;a&&r.push(...Array.isArray(g)?g:[a])}c.forChild!=null&&o.set(n.nodeName,c.forChild)}const d=n.childNodes;let h=[];const p=(a==null||!ce(a))&&(a!=null&&Ss(a)||i);for(let g=0;g<d.length;g++)h.push(...Uc(d[g],t,e,p,new Map(o),a));return u!=null&&(h=u(h)),vd(n)&&(h=rh(n,h,p?()=>{const g=new fr;return e.push(g),g}:ut)),a==null?r=r.concat(h):D(a)&&a.append(...h),r}function rh(n,t,e){const i=n.style.textAlign,o=[];let s=[];for(let r=0;r<t.length;r++){const a=t[r];if(Ss(a))i&&!a.getFormat()&&a.setFormat(i),o.push(a);else if(s.push(a),r===t.length-1||r<t.length-1&&Ss(t[r+1])){const l=e();l.setFormat(i),l.append(...s),o.push(l),s=[]}}return o}const ah=new Set(["http:","https:","mailto:","sms:","tel:"]);class Mn extends Kt{static getType(){return"link"}static clone(t){return new Mn(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t,e={},i){super(i);const{target:o=null,rel:s=null,title:r=null}=e;this.__url=t,this.__target=o,this.__rel=s,this.__title=r}createDOM(t){const e=document.createElement("a");return e.href=this.sanitizeUrl(this.__url),this.__target!==null&&(e.target=this.__target),this.__rel!==null&&(e.rel=this.__rel),this.__title!==null&&(e.title=this.__title),qt(e,t.theme.link),e}updateDOM(t,e,i){if(e instanceof HTMLAnchorElement){const o=this.__url,s=this.__target,r=this.__rel,a=this.__title;o!==t.__url&&(e.href=o),s!==t.__target&&(s?e.target=s:e.removeAttribute("target")),r!==t.__rel&&(r?e.rel=r:e.removeAttribute("rel")),a!==t.__title&&(a?e.title=a:e.removeAttribute("title"))}return!1}static importDOM(){return{a:t=>({conversion:lh,priority:1})}}static importJSON(t){const e=Sn(t.url,{rel:t.rel,target:t.target,title:t.title});return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}sanitizeUrl(t){try{const e=new URL(t);if(!ah.has(e.protocol))return"about:blank"}catch{return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(t){this.getWritable().__url=t}getTarget(){return this.getLatest().__target}setTarget(t){this.getWritable().__target=t}getRel(){return this.getLatest().__rel}setRel(t){this.getWritable().__rel=t}getTitle(){return this.getLatest().__title}setTitle(t){this.getWritable().__title=t}insertNewAfter(t,e=!0){const i=Sn(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(i,e),i}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,e,i){if(!R(e))return!1;const o=e.anchor.getNode(),s=e.focus.getNode();return this.isParentOf(o)&&this.isParentOf(s)&&e.getTextContent().length>0}}function lh(n){let t=null;if(_d(n)){const e=n.textContent;(e!==null&&e!==""||n.children.length>0)&&(t=Sn(n.getAttribute("href")||"",{rel:n.getAttribute("rel"),target:n.getAttribute("target"),title:n.getAttribute("title")}))}return{node:t}}function Sn(n,t){return It(new Mn(n,t))}function yt(n){return n instanceof Mn}class Oo extends Mn{constructor(t,e={},i){super(t,e,i),this.__isUnlinked=e.isUnlinked!==void 0&&e.isUnlinked!==null&&e.isUnlinked}static getType(){return"autolink"}static clone(t){return new Oo(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(t){const e=this.getWritable();return e.__isUnlinked=t,e}createDOM(t){return this.__isUnlinked?document.createElement("span"):super.createDOM(t)}updateDOM(t,e,i){return super.updateDOM(t,e,i)||t.__isUnlinked!==this.__isUnlinked}static importJSON(t){const e=Ea(t.url,{isUnlinked:t.isUnlinked,rel:t.rel,target:t.target,title:t.title});return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked,type:"autolink",version:1}}insertNewAfter(t,e=!0){const i=this.getParentOrThrow().insertNewAfter(t,e);if(D(i)){const o=Ea(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return i.append(o),o}return null}}function Ea(n,t){return It(new Oo(n,t))}function ch(n){return n instanceof Oo}const Sa=Ce();function uh(n,t={}){const{target:e,title:i}=t,o=t.rel===void 0?"noreferrer":t.rel,s=W();if(!R(s))return;const r=s.extract();if(n===null)r.forEach(a=>{const l=a.getParent();if(!ch(l)&&yt(l)){const c=l.getChildren();for(let u=0;u<c.length;u++)l.insertBefore(c[u]);l.remove()}});else{if(r.length===1){const c=function(u,d){let h=u;for(;h!==null&&h.getParent()!==null&&!d(h);)h=h.getParentOrThrow();return d(h)?h:null}(r[0],yt);if(c!==null)return c.setURL(n),e!==void 0&&c.setTarget(e),o!==null&&c.setRel(o),void(i!==void 0&&c.setTitle(i))}let a=null,l=null;r.forEach(c=>{const u=c.getParent();if(u!==l&&u!==null&&(!D(c)||c.isInline())){if(yt(u))return l=u,u.setURL(n),e!==void 0&&u.setTarget(e),o!==null&&l.setRel(o),void(i!==void 0&&l.setTitle(i));if(u.is(a)||(a=u,l=Sn(n,{rel:o,target:e,title:i}),yt(u)?c.getPreviousSibling()===null?u.insertBefore(l):u.insertAfter(l):c.insertBefore(l)),yt(c)){if(c.is(l))return;if(l!==null){const d=c.getChildren();for(let h=0;h<d.length;h++)l.append(d[h])}c.remove()}else l!==null&&l.append(c)}})}}const Ta=uh;function dh(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Me=dh(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function hh(n){let t=1,e=n.getParent();for(;e!=null;){if(kt(e)){const i=e.getParent();if(rt(i)){t++,e=i.getParent();continue}Me(40)}return t}return t}function La(n){let t=n.getParent();rt(t)||Me(40);let e=t;for(;e!==null;)e=e.getParent(),rt(e)&&(t=e);return t}function Vc(n){let t=[];const e=n.getChildren().filter(kt);for(let i=0;i<e.length;i++){const o=e[i],s=o.getFirstChild();rt(s)?t=t.concat(Vc(s)):t.push(o)}return t}function re(n){return kt(n)&&rt(n.getFirstChild())}function Aa(n){return ne().append(n)}function jc(n,t){return kt(n)&&(t.length===0||t.length===1&&n.is(t[0])&&n.getChildrenSize()===0)}function is(n,t){n.update(()=>{const e=W();if(e!==null){const i=e.getNodes();if(R(e)){const s=e.getStartEndPoints();s===null&&Me(143);const[r]=s,a=r.getNode(),l=a.getParent();if(jc(a,i)){const c=jt(t);if(ce(l)){a.replace(c);const u=ne();D(a)&&(u.setFormat(a.getFormatType()),u.setIndent(a.getIndent())),c.append(u)}else if(kt(a)){const u=a.getParentOrThrow();tn(c,u.getChildren()),u.replace(c)}return}}const o=new Set;for(let s=0;s<i.length;s++){const r=i[s];if(!D(r)||!r.isEmpty()||kt(r)||o.has(r.getKey())){if(Zl(r)){let a=r.getParent();for(;a!=null;){const l=a.getKey();if(rt(a)){if(!o.has(l)){const c=jt(t);tn(c,a.getChildren()),a.replace(c),o.add(l)}break}{const c=a.getParent();if(ce(c)&&!o.has(l)){o.add(l),Na(a,t);break}a=c}}}}else Na(r,t)}}})}function tn(n,t){n.splice(n.getChildrenSize(),0,t)}function Na(n,t){if(rt(n))return n;const e=n.getPreviousSibling(),i=n.getNextSibling(),o=ne();if(o.setFormat(n.getFormatType()),o.setIndent(n.getIndent()),tn(o,n.getChildren()),rt(e)&&t===e.getListType())return e.append(o),n.remove(),rt(i)&&t===i.getListType()&&(tn(e,i.getChildren()),i.remove()),e;if(rt(i)&&t===i.getListType())return i.getFirstChildOrThrow().insertBefore(o),n.remove(),i;{const s=jt(t);return s.append(o),n.replace(s),s}}function br(n,t){const e=n.getLastChild(),i=t.getFirstChild();e&&i&&re(e)&&re(i)&&(br(e.getFirstChild(),i.getFirstChild()),i.remove());const o=t.getChildren();o.length>0&&n.append(...o),t.remove()}function ph(n){n.update(()=>{const t=W();if(R(t)){const e=new Set,i=t.getNodes(),o=t.anchor.getNode();if(jc(o,i))e.add(La(o));else for(let s=0;s<i.length;s++){const r=i[s];if(Zl(r)){const a=Oc(r,en);a!=null&&e.add(La(a))}}for(const s of e){let r=s;const a=Vc(s);for(const l of a){const c=ut();tn(c,l.getChildren()),r.insertAfter(c),r=c,l.__key===t.anchor.key&&t.anchor.set(c.getKey(),0,"element"),l.__key===t.focus.key&&t.focus.set(c.getKey(),0,"element"),l.remove()}s.remove()}}})}function gh(n){const t=new Set;if(re(n)||t.has(n.getKey()))return;const e=n.getParent(),i=n.getNextSibling(),o=n.getPreviousSibling();if(re(i)&&re(o)){const s=o.getFirstChild();if(rt(s)){s.append(n);const r=i.getFirstChild();rt(r)&&(tn(s,r.getChildren()),i.remove(),t.add(i.getKey()))}}else if(re(i)){const s=i.getFirstChild();if(rt(s)){const r=s.getFirstChild();r!==null&&r.insertBefore(n)}}else if(re(o)){const s=o.getFirstChild();rt(s)&&s.append(n)}else if(rt(e)){const s=ne(),r=jt(e.getListType());s.append(r),r.append(n),o?o.insertAfter(s):i?i.insertBefore(s):e.append(s)}}function fh(n){if(re(n))return;const t=n.getParent(),e=t?t.getParent():void 0;if(rt(e?e.getParent():void 0)&&kt(e)&&rt(t)){const i=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(n.is(i))e.insertBefore(n),t.isEmpty()&&e.remove();else if(n.is(o))e.insertAfter(n),t.isEmpty()&&e.remove();else{const s=t.getListType(),r=ne(),a=jt(s);r.append(a),n.getPreviousSiblings().forEach(u=>a.append(u));const l=ne(),c=jt(s);l.append(c),tn(c,n.getNextSiblings()),e.insertBefore(r),e.insertAfter(l),e.replace(n)}}}function ho(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[i]of e.matchAll(/\S+/g))t.push(i);return t}class en extends Kt{static getType(){return"listitem"}static clone(t){return new en(t.__value,t.__checked,t.__key)}constructor(t,e,i){super(i),this.__value=t===void 0?1:t,this.__checked=e}createDOM(t){const e=document.createElement("li"),i=this.getParent();return rt(i)&&i.getListType()==="check"&&Da(e,this,null),e.value=this.__value,Ma(e,t.theme,this),e}updateDOM(t,e,i){const o=this.getParent();return rt(o)&&o.getListType()==="check"&&Da(e,this,t),e.value=this.__value,Ma(e,i.theme,this),!1}static transform(){return t=>{if(kt(t)||Me(144),t.__checked==null)return;const e=t.getParent();rt(e)&&e.getListType()!=="check"&&t.getChecked()!=null&&t.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:mh,priority:0})}}static importJSON(t){const e=ne();return e.setChecked(t.checked),e.setValue(t.value),e.setFormat(t.format),e.setDirection(t.direction),e}exportDOM(t){const e=this.createDOM(t._config);return e.style.textAlign=this.getFormatType(),{element:e}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...t){for(let e=0;e<t.length;e++){const i=t[e];if(D(i)&&this.canMergeWith(i)){const o=i.getChildren();this.append(...o),i.remove()}else super.append(i)}return this}replace(t,e){if(kt(t))return super.replace(t);this.setIndent(0);const i=this.getParentOrThrow();if(!rt(i))return t;if(i.__first===this.getKey())i.insertBefore(t);else if(i.__last===this.getKey())i.insertAfter(t);else{const o=jt(i.getListType());let s=this.getNextSibling();for(;s;){const r=s;s=s.getNextSibling(),o.append(r)}i.insertAfter(t),t.insertAfter(o)}return e&&(D(t)||Me(139),this.getChildren().forEach(o=>{t.append(o)})),this.remove(),i.getChildrenSize()===0&&i.remove(),t}insertAfter(t,e=!0){const i=this.getParentOrThrow();if(rt(i)||Me(39),kt(t))return super.insertAfter(t,e);const o=this.getNextSiblings();if(i.insertAfter(t,e),o.length!==0){const s=jt(i.getListType());o.forEach(r=>s.append(r)),t.insertAfter(s,e)}return t}remove(t){const e=this.getPreviousSibling(),i=this.getNextSibling();super.remove(t),e&&i&&re(e)&&re(i)&&(br(e.getFirstChild(),i.getFirstChild()),i.remove())}insertNewAfter(t,e=!0){const i=ne(this.__checked==null&&void 0);return this.insertAfter(i,e),i}collapseAtStart(t){const e=ut();this.getChildren().forEach(r=>e.append(r));const i=this.getParentOrThrow(),o=i.getParentOrThrow(),s=kt(o);if(i.getChildrenSize()===1)if(s)i.remove(),o.select();else{i.insertBefore(e),i.remove();const r=t.anchor,a=t.focus,l=e.getKey();r.type==="element"&&r.getNode().is(this)&&r.set(l,r.offset,"element"),a.type==="element"&&a.getNode().is(this)&&a.set(l,a.offset,"element")}else i.insertBefore(e),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){this.getWritable().__value=t}getChecked(){return this.getLatest().__checked}setChecked(t){this.getWritable().__checked=t}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){const t=this.getParent();if(t===null)return this.getLatest().__indent;let e=t.getParentOrThrow(),i=0;for(;kt(e);)e=e.getParentOrThrow().getParentOrThrow(),i++;return i}setIndent(t){typeof t=="number"&&t>-1||Me(117);let e=this.getIndent();for(;e!==t;)e<t?(gh(this),e++):(fh(this),e--);return this}canInsertAfter(t){return kt(t)}canReplaceWith(t){return kt(t)}canMergeWith(t){return En(t)||kt(t)}extractWithChild(t,e){if(!R(e))return!1;const i=e.anchor.getNode(),o=e.focus.getNode();return this.isParentOf(i)&&this.isParentOf(o)&&this.getTextContent().length===e.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return jt("bullet")}}function Ma(n,t,e){const i=[],o=[],s=t.list,r=s?s.listitem:void 0;let a;if(s&&s.nested&&(a=s.nested.listitem),r!==void 0&&i.push(...ho(r)),s){const l=e.getParent(),c=rt(l)&&l.getListType()==="check",u=e.getChecked();c&&!u||o.push(s.listitemUnchecked),c&&u||o.push(s.listitemChecked),c&&i.push(u?s.listitemChecked:s.listitemUnchecked)}if(a!==void 0){const l=ho(a);e.getChildren().some(c=>rt(c))?i.push(...l):o.push(...l)}o.length>0&&yr(n,...o),i.length>0&&qt(n,...i)}function Da(n,t,e,i){rt(t.getFirstChild())?(n.removeAttribute("role"),n.removeAttribute("tabIndex"),n.removeAttribute("aria-checked")):(n.setAttribute("role","checkbox"),n.setAttribute("tabIndex","-1"),e&&t.__checked===e.__checked||n.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function mh(n){if(n.classList.contains("task-list-item")){for(const e of n.children)if(e.tagName==="INPUT")return yh(e)}const t=n.getAttribute("aria-checked");return{node:ne(t==="true"||t!=="false"&&void 0)}}function yh(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:ne(n.hasAttribute("checked"))}}function ne(n){return It(new en(void 0,n))}function kt(n){return n instanceof en}class Dn extends Kt{static getType(){return"list"}static clone(t){const e=t.__listType||Fa[t.__tag];return new Dn(e,t.__start,t.__key)}constructor(t,e,i){super(i);const o=Fa[t]||t;this.__listType=o,this.__tag=o==="number"?"ol":"ul",this.__start=e}getTag(){return this.__tag}setListType(t){const e=this.getWritable();e.__listType=t,e.__tag=t==="number"?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(t,e){const i=this.__tag,o=document.createElement(i);return this.__start!==1&&o.setAttribute("start",String(this.__start)),o.__lexicalListType=this.__listType,Oa(o,t.theme,this),o}updateDOM(t,e,i){return t.__tag!==this.__tag||(Oa(e,i.theme,this),!1)}static transform(){return t=>{rt(t)||Me(163),function(e){const i=e.getNextSibling();rt(i)&&e.getListType()===i.getListType()&&br(e,i)}(t),function(e){const i=e.getListType()!=="check";let o=e.getStart();for(const s of e.getChildren())kt(s)&&(s.getValue()!==o&&s.setValue(o),i&&s.getChecked()!=null&&s.setChecked(void 0),rt(s.getFirstChild())||o++)}(t)}}static importDOM(){return{ol:()=>({conversion:Pa,priority:0}),ul:()=>({conversion:Pa,priority:0})}}static importJSON(t){const e=jt(t.listType,t.start);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportDOM(t){const{element:e}=super.exportDOM(t);return e&&ge(e)&&(this.__start!==1&&e.setAttribute("start",String(this.__start)),this.__listType==="check"&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...t){for(let e=0;e<t.length;e++){const i=t[e];if(kt(i))super.append(i);else{const o=ne();if(rt(i))o.append(i);else if(D(i)){const s=Ct(i.getTextContent());o.append(s)}else o.append(i);super.append(o)}}return this}extractWithChild(t){return kt(t)}}function Oa(n,t,e){const i=[],o=[],s=t.list;if(s!==void 0){const r=s[`${e.__tag}Depth`]||[],a=hh(e)-1,l=a%r.length,c=r[l],u=s[e.__tag];let d;const h=s.nested,p=s.checklist;if(h!==void 0&&h.list&&(d=h.list),u!==void 0&&i.push(u),p!==void 0&&e.__listType==="check"&&i.push(p),c!==void 0){i.push(...ho(c));for(let g=0;g<r.length;g++)g!==l&&o.push(e.__tag+g)}if(d!==void 0){const g=ho(d);a>1?i.push(...g):o.push(...g)}}o.length>0&&yr(n,...o),i.length>0&&qt(n,...i)}function _h(n){const t=[];for(let e=0;e<n.length;e++){const i=n[e];if(kt(i)){t.push(i);const o=i.getChildren();o.length>1&&o.forEach(s=>{rt(s)&&t.push(Aa(s))})}else t.push(Aa(i))}return t}function Pa(n){const t=n.nodeName.toLowerCase();let e=null;return t==="ol"?e=jt("number",n.start):t==="ul"&&(e=function(i){if(i.getAttribute("__lexicallisttype")==="check"||i.classList.contains("contains-task-list"))return!0;for(const o of i.childNodes)if(ge(o)&&o.hasAttribute("aria-checked"))return!0;return!1}(n)?jt("check"):jt("bullet")),{after:_h,node:e}}const Fa={ol:"number",ul:"bullet"};function jt(n,t=1){return It(new Dn(n,t))}function rt(n){return n instanceof Dn}const Ia=Ce(),Ra=Ce(),Ba=Ce(),Ha=Ce();function bh(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var po=bh(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const vh=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Kc=n=>vh?(n||window).getSelection():null;function wh(n){const t=W();return t==null&&po(166),R(t)&&t.isCollapsed()||t.getNodes().length===0?"":Wc(n,t)}function xh(n){const t=W();return t==null&&po(166),R(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(Ch(n,t))}function Wa(n,t,e){const i=n.getData("application/x-lexical-editor");if(i)try{const r=JSON.parse(i);if(r.namespace===e._config.namespace&&Array.isArray(r.nodes))return za(e,kh(r.nodes),t)}catch{}const o=n.getData("text/html");if(o)try{const r=new DOMParser().parseFromString(o,"text/html");return za(e,Hc(e,r),t)}catch{}const s=n.getData("text/plain")||n.getData("text/uri-list");if(s!=null)if(R(t)){const r=s.split(/(\r?\n|\t)/);r[r.length-1]===""&&r.pop();for(let a=0;a<r.length;a++){const l=W();if(R(l)){const c=r[a];c===`
`||c===`\r
`?l.insertParagraph():c==="	"?l.insertNodes([Ln()]):l.insertText(c)}}}else t.insertRawText(s)}function za(n,t,e){n.dispatchCommand(Du,{nodes:t,selection:e})||e.insertNodes(t)}function Zc(n,t,e,i=[]){let o=t===null||e.isSelected(t);const s=D(e)&&e.excludeFromCopy("html");let r=e;if(t!==null){let c=Lc(e);c=B(c)&&t!==null?Ac(t,c):c,r=c}const a=D(r)?r.getChildren():[],l=function(c){const u=c.exportJSON(),d=c.constructor;if(u.type!==d.getType()&&po(58,d.name),D(c)){const h=u.children;Array.isArray(h)||po(59,d.name)}return u}(r);if(B(r)){const c=r.__text;c.length>0?l.text=c:o=!1}for(let c=0;c<a.length;c++){const u=a[c],d=Zc(n,t,u,l.children);!o&&D(e)&&d&&e.extractWithChild(u,t,"clone")&&(o=!0)}if(o&&!s)i.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const u=l.children[c];i.push(u)}return o}function Ch(n,t){const e=[],i=xt().getChildren();for(let o=0;o<i.length;o++)Zc(n,t,i[o],e);return{namespace:n._config.namespace,nodes:e}}function kh(n){const t=[];for(let e=0;e<n.length;e++){const i=n[e],o=Id(i);B(o)&&zd(o),t.push(o)}return t}let rn=null;async function $a(n,t){if(rn!==null)return!1;if(t!==null)return new Promise((a,l)=>{n.update(()=>{a(Ua(n,t))})});const e=n.getRootElement(),i=n._window==null?window.document:n._window.document,o=Kc(n._window);if(e===null||o===null)return!1;const s=i.createElement("span");s.style.cssText="position: fixed; top: -1000px;",s.append(i.createTextNode("#")),e.append(s);const r=new Range;return r.setStart(s,0),r.setEnd(s,1),o.removeAllRanges(),o.addRange(r),new Promise((a,l)=>{const c=n.registerCommand(wo,u=>(Ke(u,ClipboardEvent)&&(c(),rn!==null&&(window.clearTimeout(rn),rn=null),a(Ua(n,u))),!0),Bd);rn=window.setTimeout(()=>{c(),rn=null,a(!1)},50),i.execCommand("copy"),s.remove()})}function Ua(n,t){const e=Kc(n._window);if(!e)return!1;const i=e.anchorNode,o=e.focusNode;if(i!==null&&o!==null&&!vi(n,i,o))return!1;t.preventDefault();const s=t.clipboardData,r=W();if(s===null||r===null)return!1;const a=wh(n),l=xh(n);let c="";return r!==null&&(c=r.getTextContent()),a!==null&&s.setData("text/html",a),l!==null&&s.setData("application/x-lexical-editor",l),s.setData("text/plain",c),!0}function Va(n,t){if(document.caretRangeFromPoint!==void 0){const e=document.caretRangeFromPoint(n,t);return e===null?null:{node:e.startContainer,offset:e.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const e=document.caretPositionFromPoint(n,t);return e===null?null:{node:e.offsetNode,offset:e.offset}}return null}const On=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Eh=On&&"documentMode"in document?document.documentMode:null,Sh=!(!On||!("InputEvent"in window)||Eh)&&"getTargetRanges"in new window.InputEvent("input"),Th=On&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Lh=On&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ah=On&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Nh=On&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Ah,ja=Ce();class Ei extends Kt{static getType(){return"quote"}static clone(t){return new Ei(t.__key)}constructor(t){super(t)}createDOM(t){const e=document.createElement("blockquote");return qt(e,t.theme.quote),e}updateDOM(t,e){return!1}static importDOM(){return{blockquote:t=>({conversion:Dh,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&ge(e)){this.isEmpty()&&e.append(document.createElement("br"));const i=this.getFormatType();e.style.textAlign=i;const o=this.getDirection();o&&(e.dir=o)}return{element:e}}static importJSON(t){const e=vr();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(t,e){const i=ut(),o=this.getDirection();return i.setDirection(o),this.insertAfter(i,e),i}collapseAtStart(){const t=ut();return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}}function vr(){return It(new Ei)}function Mh(n){return n instanceof Ei}class Si extends Kt{static getType(){return"heading"}static clone(t){return new Si(t.__tag,t.__key)}constructor(t,e){super(e),this.__tag=t}getTag(){return this.__tag}createDOM(t){const e=this.__tag,i=document.createElement(e),o=t.theme.heading;if(o!==void 0){const s=o[e];qt(i,s)}return i}updateDOM(t,e){return!1}static importDOM(){return{h1:t=>({conversion:an,priority:0}),h2:t=>({conversion:an,priority:0}),h3:t=>({conversion:an,priority:0}),h4:t=>({conversion:an,priority:0}),h5:t=>({conversion:an,priority:0}),h6:t=>({conversion:an,priority:0}),p:t=>{const e=t.firstChild;return e!==null&&Ka(e)?{conversion:()=>({node:null}),priority:3}:null},span:t=>Ka(t)?{conversion:e=>({node:fn("h1")}),priority:3}:null}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&ge(e)){this.isEmpty()&&e.append(document.createElement("br"));const i=this.getFormatType();e.style.textAlign=i;const o=this.getDirection();o&&(e.dir=o)}return{element:e}}static importJSON(t){const e=fn(t.tag);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(t,e=!0){const i=t?t.anchor.offset:0,o=i!==this.getTextContentSize()&&t?fn(this.getTag()):ut(),s=this.getDirection();if(o.setDirection(s),this.insertAfter(o,e),i===0&&!this.isEmpty()&&t){const r=ut();r.select(),this.replace(r,!0)}return o}collapseAtStart(){const t=this.isEmpty()?ut():fn(this.getTag());return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}extractWithChild(){return!0}}function Ka(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function an(n){const t=n.nodeName.toLowerCase();let e=null;return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6"||(e=fn(t),n.style!==null&&e.setFormat(n.style.textAlign)),{node:e}}function Dh(n){const t=vr();return n.style!==null&&t.setFormat(n.style.textAlign),{node:t}}function fn(n){return It(new Si(n))}function Oh(n){return n instanceof Si}function zi(n){let t=null;if(Ke(n,DragEvent)?t=n.dataTransfer:Ke(n,ClipboardEvent)&&(t=n.clipboardData),t===null)return[!1,[],!1];const e=t.types,i=e.includes("Files"),o=e.includes("text/html")||e.includes("text/plain");return[i,Array.from(t.files),o]}function Za(n){const t=W();if(!R(t))return!1;const e=new Set,i=t.getNodes();for(let o=0;o<i.length;o++){const s=i[o],r=s.getKey();if(e.has(r))continue;const a=he(s,c=>D(c)&&!c.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!e.has(l)&&(e.add(l),n(a))}return e.size>0}function $i(n){const t=we(n);return pt(t)}function Ph(n){return Dc(n.registerCommand(Ll,t=>{const e=W();return!!Qt(e)&&(e.clear(),!0)},0),n.registerCommand(Ze,t=>{const e=W();return!!R(e)&&(e.deleteCharacter(t),!0)},it),n.registerCommand(ui,t=>{const e=W();return!!R(e)&&(e.deleteWord(t),!0)},it),n.registerCommand(di,t=>{const e=W();return!!R(e)&&(e.deleteLine(t),!0)},it),n.registerCommand(vn,t=>{const e=W();if(typeof t=="string")e!==null&&e.insertText(t);else{if(e===null)return!1;const i=t.dataTransfer;if(i!=null)Wa(i,e,n);else if(R(e)){const o=t.data;return o&&e.insertText(o),!0}}return!0},it),n.registerCommand(ls,()=>{const t=W();return!!R(t)&&(t.removeText(),!0)},it),n.registerCommand(be,t=>{const e=W();return!!R(e)&&(e.formatText(t),!0)},it),n.registerCommand(Il,t=>{const e=W();if(!R(e)&&!Qt(e))return!1;const i=e.getNodes();for(const o of i){const s=he(o,r=>D(r)&&!r.isInline());s!==null&&s.setFormat(t)}return!0},it),n.registerCommand(bn,t=>{const e=W();return!!R(e)&&(e.insertLineBreak(t),!0)},it),n.registerCommand(qi,()=>{const t=W();return!!R(t)&&(t.insertParagraph(),!0)},it),n.registerCommand(Bu,()=>(Ts([Ln()]),!0),it),n.registerCommand(Pl,()=>Za(t=>{const e=t.getIndent();t.setIndent(e+1)}),it),n.registerCommand(cs,()=>Za(t=>{const e=t.getIndent();e>0&&t.setIndent(e-1)}),it),n.registerCommand(Ml,t=>{const e=W();if(Qt(e)&&!$i(t.target)){const i=e.getNodes();if(i.length>0)return i[0].selectPrevious(),!0}else if(R(e)){const i=hi(e.focus,!0);if(!t.shiftKey&&pt(i)&&!i.isIsolated()&&!i.isInline())return i.selectPrevious(),t.preventDefault(),!0}return!1},it),n.registerCommand(Dl,t=>{const e=W();if(Qt(e)){const i=e.getNodes();if(i.length>0)return i[0].selectNext(0,0),!0}else if(R(e)){if(function(o){const s=o.focus;return s.key==="root"&&s.offset===xt().getChildrenSize()}(e))return t.preventDefault(),!0;const i=hi(e.focus,!1);if(!t.shiftKey&&pt(i)&&!i.isIsolated()&&!i.isInline())return i.selectNext(),t.preventDefault(),!0}return!1},it),n.registerCommand(Nl,t=>{const e=W();if(Qt(e)){const i=e.getNodes();if(i.length>0)return t.preventDefault(),i[0].selectPrevious(),!0}if(!R(e))return!1;if(ma(e,!0)){const i=t.shiftKey;return t.preventDefault(),ya(e,i,!0),!0}return!1},it),n.registerCommand(Al,t=>{const e=W();if(Qt(e)&&!$i(t.target)){const o=e.getNodes();if(o.length>0)return t.preventDefault(),o[0].selectNext(0,0),!0}if(!R(e))return!1;const i=t.shiftKey;return!!ma(e,!1)&&(t.preventDefault(),ya(e,i,!1),!0)},it),n.registerCommand(Xi,t=>{if($i(t.target))return!1;const e=W();if(!R(e))return!1;t.preventDefault();const{anchor:i}=e,o=i.getNode();return e.isCollapsed()&&i.offset===0&&!Ft(o)&&Pc(o).getIndent()>0?n.dispatchCommand(cs,void 0):n.dispatchCommand(Ze,!0)},it),n.registerCommand(Vs,t=>{if($i(t.target))return!1;const e=W();return!!R(e)&&(t.preventDefault(),n.dispatchCommand(Ze,!1))},it),n.registerCommand(Yi,t=>{const e=W();if(!R(e))return!1;if(t!==null){if((Lh||Th||Nh)&&Sh)return!1;if(t.preventDefault(),t.shiftKey)return n.dispatchCommand(bn,!1)}return n.dispatchCommand(qi,void 0)},it),n.registerCommand(Ol,()=>{const t=W();return!!R(t)&&(n.blur(),!0)},it),n.registerCommand(Fl,t=>{const[,e]=zi(t);if(e.length>0){const o=Va(t.clientX,t.clientY);if(o!==null){const{offset:s,node:r}=o,a=we(r);if(a!==null){const l=Dd();if(B(a))l.anchor.set(a.getKey(),s,"text"),l.focus.set(a.getKey(),s,"text");else{const u=a.getParentOrThrow().getKey(),d=a.getIndexWithinParent()+1;l.anchor.set(u,d,"element"),l.focus.set(u,d,"element")}const c=nr(l);le(c)}n.dispatchCommand(ja,e)}return t.preventDefault(),!0}const i=W();return!!R(i)},it),n.registerCommand(Rl,t=>{const[e]=zi(t),i=W();return!(e&&!R(i))},it),n.registerCommand(Bl,t=>{const[e]=zi(t),i=W();if(e&&!R(i))return!1;const o=Va(t.clientX,t.clientY);if(o!==null){const s=we(o.node);pt(s)&&t.preventDefault()}return!0},it),n.registerCommand(us,()=>(fd(),!0),it),n.registerCommand(wo,t=>($a(n,Ke(t,ClipboardEvent)?t:null),!0),it),n.registerCommand(js,t=>(async function(e,i){await $a(i,Ke(e,ClipboardEvent)?e:null),i.update(()=>{const o=W();R(o)?o.removeText():Qt(o)&&o.getNodes().forEach(s=>s.remove())})}(t,n),!0),it),n.registerCommand(Us,t=>{const[,e,i]=zi(t);return e.length>0&&!i?(n.dispatchCommand(ja,e),!0):ir(t.target)?!1:W()!==null&&(function(o,s){o.preventDefault(),s.update(()=>{const r=W(),a=Ke(o,InputEvent)||Ke(o,KeyboardEvent)?null:o.clipboardData;a!=null&&r!==null&&Wa(a,r,s)},{tag:"paste"})}(t,n),!0)},it))}const qc=/^(\d+(?:\.\d+)?)px$/,Ot={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class Pn extends Kt{static getType(){return"tablecell"}static clone(t){const e=new Pn(t.__headerState,t.__colSpan,t.__width,t.__key);return e.__rowSpan=t.__rowSpan,e.__backgroundColor=t.__backgroundColor,e}static importDOM(){return{td:t=>({conversion:qa,priority:0}),th:t=>({conversion:qa,priority:0})}}static importJSON(t){const e=t.colSpan||1,i=t.rowSpan||1,o=Tn(t.headerState,e,t.width||void 0);return o.__rowSpan=i,o.__backgroundColor=t.backgroundColor||null,o}constructor(t=Ot.NO_STATUS,e=1,i,o){super(o),this.__colSpan=e,this.__rowSpan=1,this.__headerState=t,this.__width=i,this.__backgroundColor=null}createDOM(t){const e=document.createElement(this.getTag());return this.__width&&(e.style.width=`${this.__width}px`),this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(e.style.backgroundColor=this.__backgroundColor),qt(e,t.theme.tableCell,this.hasHeader()&&t.theme.tableCellHeader),e}exportDOM(t){const{element:e}=super.exportDOM(t);if(e){const i=e;i.style.border="1px solid black",this.__colSpan>1&&(i.colSpan=this.__colSpan),this.__rowSpan>1&&(i.rowSpan=this.__rowSpan),i.style.width=`${this.getWidth()||75}px`,i.style.verticalAlign="top",i.style.textAlign="start";const o=this.getBackgroundColor();o!==null?i.style.backgroundColor=o:this.hasHeader()&&(i.style.backgroundColor="#f2f3f5")}return{element:e}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,type:"tablecell",width:this.getWidth()}}getColSpan(){return this.__colSpan}setColSpan(t){return this.getWritable().__colSpan=t,this}getRowSpan(){return this.__rowSpan}setRowSpan(t){return this.getWritable().__rowSpan=t,this}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(t){return this.getWritable().__headerState=t,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(t){return this.getWritable().__width=t,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(t){this.getWritable().__backgroundColor=t}toggleHeaderStyle(t){const e=this.getWritable();return(e.__headerState&t)===t?e.__headerState-=t:e.__headerState+=t,e}hasHeaderState(t){return(this.getHeaderStyles()&t)===t}hasHeader(){return this.getLatest().__headerState!==Ot.NO_STATUS}updateDOM(t){return t.__headerState!==this.__headerState||t.__width!==this.__width||t.__colSpan!==this.__colSpan||t.__rowSpan!==this.__rowSpan||t.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function qa(n){const t=n,e=n.nodeName.toLowerCase();let i;qc.test(t.style.width)&&(i=parseFloat(t.style.width));const o=Tn(e==="th"?Ot.ROW:Ot.NO_STATUS,t.colSpan,i);o.__rowSpan=t.rowSpan;const s=t.style.backgroundColor;s!==""&&(o.__backgroundColor=s);const r=t.style,a=r.textDecoration.split(" "),l=r.fontWeight==="700"||r.fontWeight==="bold",c=a.includes("line-through"),u=r.fontStyle==="italic",d=a.includes("underline");return{after:h=>(h.length===0&&h.push(ut()),h),forChild:(h,p)=>{if(_t(p)&&!D(h)){const g=ut();return Fe(h)&&h.getTextContent()===`
`?null:(B(h)&&(l&&h.toggleFormat("bold"),c&&h.toggleFormat("strikethrough"),u&&h.toggleFormat("italic"),d&&h.toggleFormat("underline")),g.append(h),g)}return h},node:o}}function Tn(n,t=1,e){return It(new Pn(n,t,e))}function _t(n){return n instanceof Pn}class Ti extends Kt{static getType(){return"tablerow"}static clone(t){return new Ti(t.__height,t.__key)}static importDOM(){return{tr:t=>({conversion:Fh,priority:0})}}static importJSON(t){return fi(t.height)}constructor(t,e){super(e),this.__height=t}exportJSON(){return{...super.exportJSON(),...this.getHeight()&&{height:this.getHeight()},type:"tablerow",version:1}}createDOM(t){const e=document.createElement("tr");return this.__height&&(e.style.height=`${this.__height}px`),qt(e,t.theme.tableRow),e}isShadowRoot(){return!0}setHeight(t){return this.getWritable().__height=t,this.__height}getHeight(){return this.getLatest().__height}updateDOM(t){return t.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function Fh(n){const t=n;let e;return qc.test(t.style.height)&&(e=parseFloat(t.style.height)),{node:fi(e)}}function fi(n){return It(new Ti(n))}function Ut(n){return n instanceof Ti}function Ih(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ot=Ih(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function Rh(n,t,e=!0){const i=xr();for(let o=0;o<n;o++){const s=fi();for(let r=0;r<t;r++){let a=Ot.NO_STATUS;typeof e=="object"?(o===0&&e.rows&&(a|=Ot.ROW),r===0&&e.columns&&(a|=Ot.COLUMN)):e&&(o===0&&(a|=Ot.ROW),r===0&&(a|=Ot.COLUMN));const l=Tn(a),c=ut();c.append(Ct()),l.append(c),s.append(l)}i.append(s)}return i}function Yc(n){const t=he(n,e=>Ut(e));if(Ut(t))return t;throw new Error("Expected table cell to be inside of table row.")}function ii(n){const t=he(n,e=>go(e));if(go(t))return t;throw new Error("Expected table cell to be inside of table.")}function Bh(n){const t=Yc(n);return ii(t).getChildren().findIndex(e=>e.is(t))}function Hh(n){return Yc(n).getChildren().findIndex(t=>t.is(n))}const Ns=(n,t)=>n===Ot.BOTH||n===t?t:Ot.NO_STATUS;function Wh(n=!0){const t=W();R(t)||Ai(t)||ot(118);const e=t.focus.getNode(),[i,,o]=Re(e),[s,r]=Li(o,i,i),a=s[0].length,{startRow:l}=r;if(n){const c=l+i.__rowSpan-1,u=s[c],d=fi();for(let p=0;p<a;p++){const{cell:g,startRow:y}=u[p];if(y+g.__rowSpan-1<=c){const _=u[p].cell.__headerState,w=Ns(_,Ot.COLUMN);d.append(Tn(w).append(ut()))}else g.setRowSpan(g.__rowSpan+1)}const h=o.getChildAtIndex(c);Ut(h)||ot(145),h.insertAfter(d)}else{const c=s[l],u=fi();for(let h=0;h<a;h++){const{cell:p,startRow:g}=c[h];if(g===l){const y=c[h].cell.__headerState,_=Ns(y,Ot.COLUMN);u.append(Tn(_).append(ut()))}else p.setRowSpan(p.__rowSpan+1)}const d=o.getChildAtIndex(l);Ut(d)||ot(145),d.insertBefore(u)}}function zh(n=!0){const t=W();R(t)||Ai(t)||ot(118);const e=t.anchor.getNode(),i=t.focus.getNode(),[o]=Re(e),[s,,r]=Re(i),[a,l,c]=Li(r,s,o),u=a.length,d=n?Math.max(l.startColumn,c.startColumn):Math.min(l.startColumn,c.startColumn),h=n?d+s.__colSpan-1:d-1,p=r.getFirstChild();Ut(p)||ot(120);let g=null;function y(w=Ot.NO_STATUS){const f=Tn(w).append(ut());return g===null&&(g=f),f}let _=p;t:for(let w=0;w<u;w++){if(w!==0){const E=_.getNextSibling();Ut(E)||ot(121),_=E}const f=a[w],m=f[h<0?0:h].cell.__headerState,b=Ns(m,Ot.ROW);if(h<0){Xc(_,y(b));continue}const{cell:v,startColumn:x,startRow:k}=f[h];if(x+v.__colSpan-1<=h){let E=v,L=k,I=h;for(;L!==w&&E.__rowSpan>1;){if(I-=v.__colSpan,!(I>=0)){_.append(y(b));continue t}{const{cell:H,startRow:j}=f[I];E=H,L=j}}E.insertAfter(y(b))}else v.setColSpan(v.__colSpan+1)}g!==null&&mi(g)}function $h(){const n=W();R(n)||Ai(n)||ot(118);const t=n.anchor.getNode(),e=n.focus.getNode(),[i,,o]=Re(t),[s]=Re(e),[r,a,l]=Li(o,i,s),{startRow:c}=a,{startRow:u}=l,d=u+s.__rowSpan-1;if(r.length===d-c+1)return void o.remove();const h=r[0].length,p=r[d+1],g=o.getChildAtIndex(d+1);for(let y=d;y>=c;y--){for(let w=h-1;w>=0;w--){const{cell:f,startRow:m,startColumn:b}=r[y][w];if(b===w&&(y===c&&m<c&&f.setRowSpan(f.__rowSpan-(m-c)),m>=c&&m+f.__rowSpan-1>d))if(f.setRowSpan(f.__rowSpan-(d-m+1)),g===null&&ot(122),w===0)Xc(g,f);else{const{cell:v}=p[w-1];v.insertAfter(f)}}const _=o.getChildAtIndex(y);Ut(_)||ot(123,String(y)),_.remove()}if(p!==void 0){const{cell:y}=p[0];mi(y)}else{const y=r[c-1],{cell:_}=y[0];mi(_)}}function Uh(){const n=W();R(n)||Ai(n)||ot(118);const t=n.anchor.getNode(),e=n.focus.getNode(),[i,,o]=Re(t),[s]=Re(e),[r,a,l]=Li(o,i,s),{startColumn:c}=a,{startRow:u,startColumn:d}=l,h=Math.min(c,d),p=Math.max(c+i.__colSpan-1,d+s.__colSpan-1),g=p-h+1;if(r[0].length===p-h+1)return o.selectPrevious(),void o.remove();const y=r.length;for(let f=0;f<y;f++)for(let m=h;m<=p;m++){const{cell:b,startColumn:v}=r[f][m];if(v<h){if(m===h){const x=h-v;b.setColSpan(b.__colSpan-Math.min(g,b.__colSpan-x))}}else if(v+b.__colSpan-1>p){if(m===p){const x=p-v+1;b.setColSpan(b.__colSpan-x)}}else b.remove()}const _=r[u],w=c>d?_[c+i.__colSpan]:_[d+s.__colSpan];if(w!==void 0){const{cell:f}=w;mi(f)}else{const f=d<c?_[d-1]:_[c-1],{cell:m}=f;mi(m)}}function mi(n){const t=n.getFirstDescendant();t==null?n.selectStart():t.getParentOrThrow().selectStart()}function Xc(n,t){const e=n.getFirstChild();e!==null?e.insertBefore(t):n.append(t)}function Li(n,t,e){const[i,o,s]=Vh(n,t,e);return o===null&&ot(110),s===null&&ot(111),[i,o,s]}function Vh(n,t,e){const i=[];let o=null,s=null;function r(c,u,d){const h={cell:d,startColumn:u,startRow:c},p=d.__rowSpan,g=d.__colSpan;for(let y=0;y<p;y++){i[c+y]===void 0&&(i[c+y]=[]);for(let _=0;_<g;_++)i[c+y][u+_]=h}t!==null&&t.is(d)&&(o=h),e!==null&&e.is(d)&&(s=h)}function a(c,u){return i[c]===void 0||i[c][u]===void 0}const l=n.getChildren();for(let c=0;c<l.length;c++){const u=l[c];Ut(u)||ot(146);const d=u.getChildren();let h=0;for(const p of d){for(_t(p)||ot(147);!a(c,h);)h++;r(c,h,p),h+=p.__colSpan}}return[i,o,s]}function Re(n){let t;if(n instanceof Pn)t=n;else if("__type"in n){const o=he(n,_t);_t(o)||ot(148),t=o}else{const o=he(n.getNode(),_t);_t(o)||ot(148),t=o}const e=t.getParent();Ut(e)||ot(149);const i=e.getParent();return go(i)||ot(150),[t,e,i]}function Ya(n){const[t,,e]=Re(n),i=e.getChildren(),o=i.length,s=i[0].getChildren().length,r=new Array(o);for(let a=0;a<o;a++)r[a]=new Array(s);for(let a=0;a<o;a++){const l=i[a].getChildren();let c=0;for(let u=0;u<l.length;u++){for(;r[a][c];)c++;const d=l[u],h=d.__rowSpan||1,p=d.__colSpan||1;for(let g=0;g<h;g++)for(let y=0;y<p;y++)r[a+g][c+y]=d;if(t===d)return{colSpan:p,columnIndex:c,rowIndex:a,rowSpan:h};c+=p}}return null}class wr{constructor(t,e,i){this.anchor=e,this.focus=i,e._selection=this,i._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=t}getStartEndPoints(){return[this.anchor,this.focus]}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!Ai(t)&&this.tableKey===t.tableKey&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)}set(t,e,i){this.dirty=!0,this.tableKey=t,this.anchor.key=e,this.focus.key=i,this._cachedNodes=null}clone(){return new wr(this.tableKey,this.anchor,this.focus)}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const e=this.focus.getNode();D(e)||ot(151),nr(e.select(0,e.getChildrenSize())).insertNodes(t)}getShape(){const t=ct(this.anchor.key);_t(t)||ot(152);const e=Ya(t);e===null&&ot(153);const i=ct(this.focus.key);_t(i)||ot(154);const o=Ya(i);o===null&&ot(155);const s=Math.min(e.columnIndex,o.columnIndex),r=Math.max(e.columnIndex,o.columnIndex),a=Math.min(e.rowIndex,o.rowIndex),l=Math.max(e.rowIndex,o.rowIndex);return{fromX:Math.min(s,r),fromY:Math.min(a,l),toX:Math.max(s,r),toY:Math.max(a,l)}}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const e=this.anchor.getNode(),i=this.focus.getNode(),o=he(e,_t),s=he(i,_t);_t(o)||ot(152),_t(s)||ot(154);const r=o.getParent();Ut(r)||ot(156);const a=r.getParent();go(a)||ot(157);const l=s.getParents()[1];if(l!==a){if(a.isParentOf(s)){const k=l.getParent();k==null&&ot(159),this.set(this.tableKey,s.getKey(),k.getKey())}else{const k=a.getParent();k==null&&ot(158),this.set(this.tableKey,k.getKey(),s.getKey())}return this.getNodes()}const[c,u,d]=Li(a,o,s);let h=Math.min(u.startColumn,d.startColumn),p=Math.min(u.startRow,d.startRow),g=Math.max(u.startColumn+u.cell.__colSpan-1,d.startColumn+d.cell.__colSpan-1),y=Math.max(u.startRow+u.cell.__rowSpan-1,d.startRow+d.cell.__rowSpan-1),_=h,w=p,f=h,m=p;function b(k){const{cell:E,startColumn:L,startRow:I}=k;h=Math.min(h,L),p=Math.min(p,I),g=Math.max(g,L+E.__colSpan-1),y=Math.max(y,I+E.__rowSpan-1)}for(;h<_||p<w||g>f||y>m;){if(h<_){const k=m-w,E=_-1;for(let L=0;L<=k;L++)b(c[w+L][E]);_=E}if(p<w){const k=f-_,E=w-1;for(let L=0;L<=k;L++)b(c[E][_+L]);w=E}if(g>f){const k=m-w,E=f+1;for(let L=0;L<=k;L++)b(c[w+L][E]);f=E}if(y>m){const k=f-_,E=m+1;for(let L=0;L<=k;L++)b(c[E][_+L]);m=E}}const v=[a];let x=null;for(let k=p;k<=y;k++)for(let E=h;E<=g;E++){const{cell:L}=c[k][E],I=L.getParent();Ut(I)||ot(160),I!==x&&v.push(I),v.push(L,...jh(L)),x=I}return An()||(this._cachedNodes=v),v}getTextContent(){const t=this.getNodes();let e="";for(let i=0;i<t.length;i++)e+=t[i].getTextContent();return e}}function Ai(n){return n instanceof wr}function jh(n){const t=[],e=[n];for(;e.length>0;){const i=e.pop();i===void 0&&ot(112),D(i)&&e.unshift(...i.getChildren()),i!==n&&t.push(i)}return t}const Kh="__lexicalTableSelection";function Zh(n){return n[Kh]}class Ni extends Kt{static getType(){return"table"}static clone(t){return new Ni(t.__key)}static importDOM(){return{table:t=>({conversion:qh,priority:1})}}static importJSON(t){return xr()}constructor(t){super(t)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(t,e){const i=document.createElement("table");return qt(i,t.theme.table),i}updateDOM(){return!1}exportDOM(t){return{...super.exportDOM(t),after:e=>{if(e){const i=e.cloneNode(),o=document.createElement("colgroup"),s=document.createElement("tbody");ge(e)&&s.append(...e.children);const r=this.getFirstChildOrThrow();if(!Ut(r))throw new Error("Expected to find row node.");const a=r.getChildrenSize();for(let l=0;l<a;l++){const c=document.createElement("col");o.append(c)}return i.replaceChildren(o,s),i}}}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(t,e){const{rows:i,domRows:o}=e;for(let s=0;s<i;s++){const r=o[s];if(r==null)continue;const a=r.findIndex(l=>{if(!l)return;const{elem:c}=l;return we(c)===t});if(a!==-1)return{x:a,y:s}}throw new Error("Cell not found in table.")}getDOMCellFromCords(t,e,i){const{domRows:o}=i,s=o[e];return s==null?null:s[t]??null}getDOMCellFromCordsOrThrow(t,e,i){const o=this.getDOMCellFromCords(t,e,i);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(t,e,i){const o=this.getDOMCellFromCords(t,e,i);if(o==null)return null;const s=we(o.elem);return _t(s)?s:null}getCellNodeFromCordsOrThrow(t,e,i){const o=this.getCellNodeFromCords(t,e,i);if(!o)throw new Error("Node at cords not TableCellNode.");return o}canSelectBefore(){return!0}canIndent(){return!1}}function qh(n){return{node:xr()}}function xr(){return It(new Ni)}function go(n){return n instanceof Ni}function Xa(n=[],t){const e=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),s=document.createElement("ul"),r=document.createElement("div");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>',r.style.transition="transform 500ms ease-out",e.style.position="relative",e.style.display="block",i.style.padding="8px",i.style.borderRadius="8px",i.style.cursor="pointer",i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="space-between",i.style.gap="8px",i.style.color=t==="light"?"white":"black",o.style.flex="1",r.style.width="18px",r.style.height="18px",s.style.backgroundColor="white",s.style.position="absolute",s.style.top="100%",s.style.transform="translateY(-10px)",s.style.opacity="0",s.style.borderRadius="8px",s.style.display="grid",s.style.boxShadow="0px 20px 30px rgba(0, 0, 0, 0.3)",s.style.zIndex="99",s.style.pointerEvents="none",s.style.overflowX="hidden",s.style.overflowY="auto",s.style.maxHeight="360px",s.style.listStyleType="none",s.style.padding="8px",s.style.gap="8px",s.style.transition="all 150ms ease-out",s.style.color="black",s.classList.add("select-dropdown-wrapper"),e.setAttribute("aria-label","Select Option"),n.forEach(l),i.appendChild(o),i.appendChild(r),i.setAttribute("drop-down-state",!1),e.appendChild(i),e.appendChild(s),a(i),window.addEventListener("click",g=>{e.contains(g.target)||d()});function a(g,y){g.onmouseenter=()=>{g.getAttribute("selected")||(g.style.backgroundColor="#e7e7e730",g.style.color="black")},g.onmouseleave=()=>{g.getAttribute("selected")||(g.style.backgroundColor="transparent",g.style.color=t==="light"?"white":"black")}}function l(g){const y=document.createElement("li");g.style.padding="16px",g.style.cursor="pointer",g.style.position="relative",g.style.borderRadius="8px",g.style.transition="all 150ms ease-out",g.style.whiteSpace="nowrap",g.style.backgroundColor="tranparent",y.append(g),y.onclick=function(){c(g)},a(g),s.childElementCount===0&&(o.innerHTML="",o.insertAdjacentElement("afterbegin",g.cloneNode(!0))),s.append(y)}function c(g){[...s.children].forEach(_=>{_.children[0].style.backgroundColor="transparent",_.children[0].removeAttribute("selected")});const y=g.cloneNode(!0);s.contains(g)&&(g.style.backgroundColor="#e7e7e7",g.setAttribute("selected",!0)),y.style.padding="0px",y.style.backgroundColor="transparent",d(),o.innerHTML=null,o.insertAdjacentElement("afterbegin",y)}function u(){i.setAttribute("drop-down-state",!0),s.style.pointerEvents="auto",s.style.opacity="1",s.style.transform="translateY(0px)",r.style.transform="rotate(180deg)"}function d(){i.setAttribute("drop-down-state",!1),s.style.pointerEvents="none",s.style.opacity="0",s.style.transform="translateY(-10px)",r.style.transform="rotate(0deg)"}function h(){i.getAttribute("drop-down-state")==="true"?d():u()}function p(g){const y=s.querySelector(`[data-id=${g}]`);y&&c(y)}return i.onclick=h,e.appendOption=l,e.open=u,e.close=d,e.toggle=h,e.updateSelectedOption=p,e}function Yh(n){const t=document.createElement("span");t.style.position="absolute",t.style.backgroundColor="white",t.style.borderRadius="10px",t.style.border="1px solid rgb(228, 228, 228)",t.style.padding="4px",t.style.opacity="0",t.style.transform="translateY(20px)",t.style.boxShadow="0px 6px 20px rgba(0, 0, 0, 0.16)",t.style.display="block",t.style.color="black",t.appendChild(n);let e=null,i=null;return t.attachTo=(o,s)=>{s=s.tagName==="IMG"||s.tagName==="VIDEO"?s.parentElement:s,e=o,i=s,e.style.position="relative",e.appendChild(t);const r=t.getBoundingClientRect();let a=Number(s==null?void 0:s.offsetLeft)+Number(s.offsetWidth)-r.width||e.offsetLeft||e.offsetLeft;const l=Number(s==null?void 0:s.offsetTop)+Number(s.offsetHeight)||e.offsetTop,c=e.offsetWidth-r.width-parseInt(window.getComputedStyle(e).paddingRight);t.style.left=`clamp(0px, ${a}px, ${c}px)`,t.style.top=l+"px",t.animate({opacity:"1",transform:"translateY(0px)"},{duration:600,easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fill:"forwards"})},t.updatePosition=()=>{if(e&&i&&e.contains(i)){let o=i.tagName==="IMG"?i.parentElement:i;e.style.position="relative";const s=t.getBoundingClientRect();let r=Number(o==null?void 0:o.offsetLeft)+Number(o.offsetWidth)-s.width||e.offsetLeft;const a=Number(o==null?void 0:o.offsetTop)+Number(o.offsetHeight)||e.offsetTop,l=e.offsetWidth-s.width-parseInt(window.getComputedStyle(e).paddingRight);t.style.left=`clamp(0px, ${r}px, ${l}px)`,t.style.top=a+"px"}},t.close=()=>{if(e&&e.contains(t)){const o=t.animate({opacity:"0",transform:"translateY(20px)"},{duration:300,easing:"ease-out",fill:"forwards"});o.onfinish=()=>{e.contains(t)&&(e.style.position="",n.innerHTML=null,e.removeChild(t),setTimeout(()=>{e=null},500))}}},t}function Xh(n){const t=n;if(t.src.startsWith("file:///"))return null;let{alt:e,src:i,width:o,height:s}=t;o=t.getAttribute("width"),s=t.getAttribute("height");const r=JSON.parse(t.getAttribute("cropBoxData")||"{}"),a=t.style.maxWidth;t.style.float;const l=t.getAttribute("data-fit-width")==="true";return{node:Cr({altText:e,height:s,width:o,src:i,maxWidth:a,cropBoxData:r,fitWidth:l})}}class Mi extends pr{static getType(){return"image"}static clone(t){return new Mi(t.__src,t.__altText,t.__maxWidth,t.__width,t.__height,t.__showCaption,t.__caption,t.__captionsEnabled,t.__key,t.__mode,t.__originalSrc,t.__cropBoxData,t.__float,t.__fitWidth)}static importJSON(t){const{altText:e,height:i,width:o,maxWidth:s,caption:r,src:a,showCaption:l,originalSrc:c,cropBoxData:u,float:d,fitWidth:h}=t,p=Cr({altText:e,height:i,maxWidth:s,showCaption:l,src:a,width:o,originalSrc:c,cropBoxData:u,float:d,fitWidth:h}),g=p.__caption,y=g.parseEditorState(r.editorState);return y.isEmpty()||g.setEditorState(y),p}exportDOM(){const t=document.createElement("img");return t.setAttribute("src",this.__src),t.setAttribute("alt",this.__altText),t.setAttribute("width",this.__width.toString()),t.setAttribute("height",this.__height.toString()),t.setAttribute("data-original-src",this.__originalSrc),t.setAttribute("data-crop-box-data",this.__cropBoxData),t.setAttribute("data-fit-width",this.__fitWidth),{element:t}}static importDOM(){return{img:t=>({conversion:Xh,priority:0})}}constructor(t,e,i,o,s,r,a,l,c,u,d,h,p,g){super(c),this.__src=t,this.__altText=e,this.__maxWidth=i,this.__width=o||"inherit",this.__height=s||"inherit",this.__showCaption=r||!1,this.__caption=a||Ec(),this.__captionsEnabled=l||l===void 0,this.__mode=u,this.__originalSrc=d||t||"",this.__cropBoxData=h,this.__float=p,this.__fitWidth=g}exportJSON(){return{altText:this.getAltText(),caption:this.__caption.toJSON(),height:this.__height==="inherit"?0:this.__height,maxWidth:this.__maxWidth,showCaption:this.__showCaption,src:this.getSrc(),originalSrc:this.getOriginalSrc(),cropBoxData:this.getCropBoxData(),type:"image",version:1,float:this.__float,fitWidth:this.__fitWidth,width:this.__width==="inherit"?0:this.__width}}exportDOM(){return{element:this.createDOM()}}setWidthAndHeight(t,e){const i=this.getWritable();i.__width=t,i.__height=e,i.__fitWidth=!1}setShowCaption(t){const e=this.getWritable();e.__showCaption=t}setFloat(t){const e=this.getWritable();e.__float=t,e.__fitWidth=!1}setFitWidth(){const t=this.getWritable();t.__fitWidth=!t.__fitWidth,t.__float=null}createDOM(t){const e=document.createElement("span"),i=document.createElement("img");return i.alt=this.__altText,i.src=this.__src,i.setAttribute("width",this.__width),i.setAttribute("data-original-src",this.__originalSrc),i.setAttribute("data-node-key",this.__key),i.setAttribute("data-fit-width",this.__fitWidth),i.classList.add("image-element"),i.style.maxWidth=this.__maxWidth.toString(),i.style.textAlign="center",i.style.objectFit="contain",i.style.objectPosition="center",i.style.width=this.__fitWidth?"100%":"",i.setAttribute("data-crop-box-data",JSON.stringify(this.__cropBoxData)),e.style.position="relative",e.style.display="inline-block",e.style.fontSize="0px",e.style.width=this.__fitWidth?"100%":"",e.style.float=`${this.__float}`||"none",e.style.cssFloat=`${this.__float}`||"none",e.style.textAlign=`${this.__float}`||"",e.classList.add("image-element-wrapper"),e.classList.add(`float-${this.__float}`),e.appendChild(i),e}updateDOM(t,e,i){return e.style.float=this.__float,!0}getSrc(){return this.__src}getOriginalSrc(){return this.__originalSrc}getAltText(){return this.__altText}getCropBoxData(){return this.__cropBoxData}decorate(){return this.createDOM()}}function Cr({altText:n,height:t,maxWidth:e="100%",captionsEnabled:i,src:o,width:s,showCaption:r,caption:a,key:l,mode:c,originalSrc:u,cropBoxData:d,float:h,fitWidth:p=!1}){return It(new Mi(o,n,e,s,t,r,a,i,l,c,u,d,h,p))}function Te(n){return n instanceof Mi}const os=[];function mn({title:n=""}){const t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),o=document.createElement("p"),s=document.createElement("button");t.id="CrimsonEditorTheme__modal-wrapper",t.classList.add("CrimsonEditorTheme__modal-wrapper"),e.classList.add("CrimsonEditorTheme__modal-content"),i.classList.add("CrimsonEditorTheme__modal-header"),s.type="button",s.classList.add("CrimsonEditorTheme__modal-cancel-button"),s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
</svg>
`,i.appendChild(o),i.appendChild(s),o.innerText=n,e.appendChild(i),t.appendChild(e);const r=c=>{e.appendChild(c),document.body.appendChild(t),t.animate({opacity:1},{duration:350,easing:"ease-out",fill:"forwards"}),e.animate({opacity:1,transform:"translateY(0px)"},{duration:350,easing:"ease-out",delay:200,fill:"forwards"}),os.push(t)},a=()=>{const c=t.animate({opacity:0},{delay:200,duration:350,easing:"ease-out",fill:"forwards"});e.animate({opacity:0,transform:"translateY(20px)"},{duration:350,easing:"ease-out",fill:"forwards"}),c.onfinish=()=>{document.body.contains(t)&&document.body.removeChild(t)}};t.onclick=a,s.onclick=a,e.onclick=c=>{c.stopPropagation()};const l=()=>new Promise((c,u)=>{window.addEventListener("prompt-result",d=>{os.at(-1)===t&&(a(),os.pop(),d.detail?c(d.detail):u(null))})});return document.addEventListener("keydown",function(c){(c.key==="Escape"||c.keyCode===27)&&a()}),t.open=r,t.close=a,t.result=l,t}function Jh(n){const t=n;if(t.src.startsWith("file:///"))return null;let{src:e,width:i,height:o,poster:s,id:r}=t;i=t.getAttribute("width"),o=t.getAttribute("height");const a=t.dataset.float,l=img.getAttribute("data-fit-width")==="true";return{node:kr({height:o,width:i,src:e,float:a,fitWidth:l,poster:s})}}class Di extends pr{static getType(){return"video"}static clone(t){return new Di(t.__src,t.__width,t.__height,t.__key,t.__float,t.__fitWidth,t.__poster)}static importJSON(t){const{height:e,width:i,src:o,float:s,fitWidth:r,poster:a,id:l}=t,c=kr({height:e,src:o,width:i,float:s,fitWidth:r,poster:a}),u=nestedEditor.parseEditorState(caption.editorState);return u.isEmpty()||nestedEditor.setEditorState(u),c}exportDOM(){const t=this.createDOM();return t.firstChild.controls=this,{element:t}}static importDOM(){return{img:t=>({conversion:Jh,priority:0})}}constructor(t,e,i,o,s,r,a){super(o),this.__src=t,this.__width=e||"inherit",this.__height=i||"inherit",this.__float=s,this.__fitWidth=r,this.__poster=a}exportJSON(){return{height:this.__height==="inherit"?0:this.__height,src:this.getSrc(),type:"video",version:1,float:this.__float,fitWidth:this.__fitWidth,poster:this.__poster,width:this.__width==="inherit"?0:this.__width}}setWidthAndHeight(t,e){const i=this.getWritable();i.__width=t,i.__height=e,i.__fitWidth=!1}setShowCaption(t){const e=this.getWritable();e.__showCaption=t}setFloat(t){const e=this.getWritable();e.__float=t,e.__fitWidth=!1}setFitWidth(){const t=this.getWritable();t.__fitWidth=!0,t.__float=null}createDOM(t){const e=document.createElement("span"),i=document.createElement("video");return i.src=this.__src,i.setAttribute("width",this.__width),i.setAttribute("data-node-key",this.__key),i.setAttribute("data-float",this.__float),i.setAttribute("data-fit-width",this.__fitWidth),i.classList.add("video-element"),i.poster=this.__poster,i.style.textAlign="center",i.style.objectFit="contain",i.style.objectPosition="center",i.style.maxWidth="100%",i.style.width=this.__fitWidth?"100%":"",e.style.position="relative",e.style.display="inline-block",e.style.fontSize="0px",e.style.float=`${this.__float}`||"none",e.style.width=this.__fitWidth?"100%":"",e.style.cssFloat=`${this.__float}`||"none",e.style.textAlign=`${this.__float||"center"}`,e.style.maxWidth="100%",e.classList.add("video-element-wrapper"),e.classList.add(`float-${this.__float}`),e.appendChild(i),e}updateDOM(t,e,i){return e.style.float=this.__float,!1}getSrc(){return this.__src}decorate(){return this.createDOM()}}function kr({height:n,src:t,width:e,key:i,float:o,fitWidth:s,poster:r}){return new Di(t,e,n,i,o,s,r)}function ln(n){return n instanceof Di}class fo extends ee{constructor(t,e){super(t,e)}static getType(){return"extended-text"}static clone(t){return new fo(t.__text,t.__key)}static importDOM(){const t=ee.importDOM();return{...t,code:()=>({conversion:cn(t==null?void 0:t.code),priority:1}),em:()=>({conversion:cn(t==null?void 0:t.em),priority:1}),span:()=>({conversion:cn(t==null?void 0:t.span),priority:1}),strong:()=>({conversion:cn(t==null?void 0:t.strong),priority:1}),sub:()=>({conversion:cn(t==null?void 0:t.sub),priority:1}),sup:()=>({conversion:cn(t==null?void 0:t.sup),priority:1})}}static importJSON(t){return ee.importJSON(t)}isSimpleText(){return(this.__type==="text"||this.__type==="extended-text")&&this.__mode===0}exportJSON(){return{...super.exportJSON(),type:"extended-text",version:1}}}function cn(n){return t=>{const e=n==null?void 0:n(t);if(!e)return null;const i=e.conversion(t);if(!i)return i;const o=t.style.backgroundColor,s=t.style.color,r=t.style.fontFamily,a=t.style.fontWeight,l=t.style.fontSize,c=t.style.textDecoration,u=t.style.whiteSpace;return{...i,forChild:(d,h)=>{const p=((i==null?void 0:i.forChild)??(g=>g))(d,h);if(B(p)){const g=[o?`background-color: ${o}`:null,s?`color: ${s}`:null,r?`font-family: ${r}`:null,a?`font-weight: ${a}`:null,l?`font-size: ${l}`:null,c?`text-decoration: ${c}`:null,u?`white-space: ${u}`:null].filter(y=>y!=null).join("; ");if(g.length)return p.setStyle(g)}return p}}}}const Ja={namespace:"CrimsonEditor",onError:console.error,nodes:[fo,{replace:ee,with:n=>new fo(n.__text)},Mn,Ei,Dn,en,Si,_r,en,Mi,Di,Ni,Pn,Ti],theme:{text:{bold:"CrimsonEditorTheme__textBold",code:"CrimsonEditorTheme__textCode",italic:"CrimsonEditorTheme__textItalic",strikethrough:"CrimsonEditorTheme__textStrikethrough",subscript:"CrimsonEditorTheme__textSubscript",superscript:"CrimsonEditorTheme__textSuperscript",underline:"CrimsonEditorTheme__textUnderline",underlineStrikethrough:"CrimsonEditorTheme__textUnderlineStrikethrough"},list:{listitem:"CrimsonEditorTheme__listItem",listitemChecked:"CrimsonEditorTheme__listItemChecked",listitemUnchecked:"CrimsonEditorTheme__listItemUnchecked",nested:{listitem:"CrimsonEditorTheme__nestedListItem"},olDepth:["CrimsonEditorTheme__ol1","CrimsonEditorTheme__ol2","CrimsonEditorTheme__ol3","CrimsonEditorTheme__ol4","CrimsonEditorTheme__ol5"],ul:"CrimsonEditorTheme__ul"},link:"CrimsonEditorTheme__link",paragraph:"CrimsonEditorTheme__paragraph"}},Gh=[10,12,14,16,18,20,24,28,32,36,40,48,56,64,72,80,96,128,160,192,256,320],Qh=[{value:"_blank",text:"Blank"},{value:"_self",text:"Self"},{value:"_parent",text:"Parent"},{value:"_top",text:"Top"}],tp=[{value:"nofollow",text:"No Follow"},{value:"sponsor",text:"Sponsor"},{value:"dofollow",text:"Do Follow"},{value:"follow",text:"Follow"}];function mo(n){return new Promise((t,e)=>{if(n)if(n instanceof File){const i=new FileReader;i.onload=function(o){const s=o.target.result;t(s)},i.readAsDataURL(n)}else if(typeof n=="string"){const i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){const o=document.createElement("canvas"),s=o.getContext("2d");o.width=i.width,o.height=i.height,s.drawImage(i,0,0);const r=o.toDataURL("image/jpeg");t(r)},i.onerror=function(){e("This is not a valid Image URL")},i.src=n}else e("Please pass in an image file or an image URL!");else e("Please pass in an image file or an image URL!")})}const lt={bold:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.25 11.8C15.7397 11.5018 16.1529 11.0934 16.4567 10.6073C16.7605 10.1212 16.9466 9.57077 17 9C17.0093 8.48388 16.9168 7.971 16.7278 7.49063C16.5388 7.01027 16.2571 6.57184 15.8986 6.20039C15.5402 5.82894 15.1121 5.53174 14.6387 5.32578C14.1654 5.11981 13.6561 5.00911 13.14 5H6.65002V19H13.65C14.1412 18.9948 14.6265 18.8929 15.0782 18.7001C15.53 18.5073 15.9394 18.2274 16.283 17.8764C16.6265 17.5253 16.8976 17.1101 17.0807 16.6543C17.2638 16.1985 17.3553 15.7112 17.35 15.22V15.1C17.3504 14.4071 17.1529 13.7285 16.781 13.144C16.409 12.5594 15.8778 12.0931 15.25 11.8ZM8.65002 7H12.85C13.2762 6.98681 13.6962 7.10428 14.0537 7.33665C14.4112 7.56902 14.6891 7.90517 14.85 8.3C15.0129 8.82779 14.9602 9.39859 14.7035 9.88765C14.4468 10.3767 14.0069 10.7443 13.48 10.91C13.2754 10.97 13.0632 11.0003 12.85 11H8.65002V7ZM13.25 17H8.65002V13H13.25C13.6762 12.9868 14.0962 13.1043 14.4537 13.3367C14.8112 13.569 15.0891 13.9052 15.25 14.3C15.4129 14.8278 15.3602 15.3986 15.1035 15.8877C14.8468 16.3767 14.4069 16.7443 13.88 16.91C13.6754 16.97 13.4632 17.0003 13.25 17Z" fill="currentColor"/>
    </svg>  
    `,italic:`
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11.76 9H13.76L11.56 19H9.56L11.76 9ZM13.44 5C13.2422 5 13.0489 5.05865 12.8844 5.16853C12.72 5.27841 12.5918 5.43459 12.5161 5.61732C12.4404 5.80004 12.4206 6.00111 12.4592 6.19509C12.4978 6.38907 12.593 6.56725 12.7329 6.70711C12.8727 6.84696 13.0509 6.9422 13.2449 6.98079C13.4389 7.01937 13.64 6.99957 13.8227 6.92388C14.0054 6.84819 14.1616 6.72002 14.2715 6.55557C14.3813 6.39112 14.44 6.19778 14.44 6C14.44 5.73478 14.3346 5.48043 14.1471 5.29289C13.9596 5.10536 13.7052 5 13.44 5Z" fill="currentColor"/>
  </svg>
    `,underline:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 20V22H5V20H19ZM16 13.215C15.9671 13.875 15.7711 14.5165 15.4297 15.0823C15.0883 15.6481 14.6121 16.1205 14.0435 16.4572C13.475 16.794 12.8318 16.9847 12.1716 17.0122C11.5114 17.0397 10.8546 16.9033 10.26 16.615C9.57464 16.3185 8.99341 15.8241 8.59077 15.1952C8.18813 14.5663 7.98242 13.8315 8 13.085V5.005H6V13.215C6.03383 14.1564 6.28885 15.0766 6.74442 15.9012C7.19998 16.7257 7.84329 17.4314 8.62227 17.9611C9.40125 18.4908 10.294 18.8296 11.2283 18.9502C12.1625 19.0707 13.1121 18.9696 14 18.655C15.1811 18.2613 16.2059 17.5012 16.9252 16.485C17.6446 15.4689 18.0211 14.2498 18 13.005V5.005H16V13.215ZM16 5H18H16ZM8 5H6H8Z" fill="currentColor"/>
    </svg>
    `,strikethrough:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 12.2029H21V13.7029H16.6342C16.8711 14.2002 16.9906 14.7451 16.9836 15.2958C16.9977 15.8183 16.8855 16.3365 16.6567 16.8064C16.428 17.2764 16.0893 17.6843 15.6694 17.9955C14.6579 18.7072 13.4378 19.0607 12.2025 19C11.3 19.0061 10.4062 18.8224 9.57916 18.461C8.82387 18.1477 8.16917 17.6329 7.68652 16.9728C7.24212 16.3426 7.00762 15.5884 7.01636 14.8174V14.704H7.30359V14.7029H7.64508V14.704H9.02V14.8173C9.00433 15.1687 9.07382 15.5187 9.22253 15.8374C9.37125 16.1562 9.59479 16.4343 9.87413 16.648C10.5515 17.1303 11.372 17.3697 12.2025 17.3273C12.9356 17.3752 13.6645 17.1835 14.2792 16.7811C14.507 16.6126 14.6901 16.3908 14.8124 16.1351C14.9346 15.8794 14.9923 15.5977 14.9804 15.3145C14.9964 15.041 14.9459 14.7676 14.8332 14.5178C14.7205 14.268 14.5491 14.0493 14.3335 13.8801C14.2451 13.8161 14.1533 13.7569 14.0585 13.7029H3V12.2029ZM16.3447 7.0598C15.9232 6.40481 15.3271 5.88058 14.6236 5.54619C13.8394 5.1726 12.9793 4.98565 12.1107 4.99999C10.8996 4.94801 9.70883 5.32403 8.74719 6.06212C8.33435 6.38097 8.00134 6.79147 7.77448 7.26119C7.54762 7.73091 7.43313 8.24695 7.44006 8.76854C7.43656 9.26283 7.54659 9.75133 7.76166 10.1964H10.3583C10.275 10.1427 10.173 10.0906 10.1056 10.0358C9.90219 9.88567 9.73702 9.68968 9.62358 9.46372C9.51014 9.23777 9.45164 8.98823 9.45282 8.7354C9.43773 8.44679 9.49242 8.15879 9.61226 7.8958C9.73209 7.63282 9.91354 7.40258 10.1412 7.2246C10.7173 6.82506 11.4109 6.63053 12.1107 6.67217C12.8717 6.62379 13.6231 6.86239 14.2167 7.34087C14.465 7.57466 14.6594 7.85967 14.7865 8.17612C14.9136 8.49257 14.9703 8.83288 14.9527 9.17345V9.28686H16.9559V9.17345C16.9592 8.42485 16.7471 7.69109 16.3447 7.0598Z" fill="currentColor"/>
    </svg>
    `,subscript:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.4 12L14 15.6L12.6 17L9 13.4L5.4 17L4 15.6L7.6 12L4 8.4L5.4 7L9 10.6L12.6 7L14 8.4L10.4 12ZM18.3123 19.674L19.3805 18.5275C19.5765 18.3261 19.7514 18.1201 19.9173 17.9187C20.077 17.7245 20.2215 17.5182 20.3493 17.3017C20.469 17.1015 20.567 16.8892 20.6418 16.6683C20.7128 16.4534 20.7488 16.2284 20.7484 16.0021C20.7514 15.7207 20.6994 15.4415 20.5953 15.18C20.4968 14.9343 20.3427 14.7147 20.1451 14.5384C19.9353 14.3549 19.6899 14.2165 19.4242 14.132C18.7861 13.9419 18.1044 13.9575 17.4757 14.1766C17.1887 14.2851 16.9283 14.4538 16.712 14.6715C16.5032 14.8801 16.3413 15.1308 16.2372 15.407C16.1371 15.6735 16.0844 15.9553 16.0813 16.24L16.0777 16.477H17.617L17.6234 16.25C17.625 16.1234 17.643 15.9975 17.6772 15.8755C17.7105 15.7684 17.7637 15.6685 17.8339 15.5811C17.905 15.5007 17.9935 15.4377 18.0928 15.397C18.3174 15.308 18.5665 15.3028 18.7946 15.3824C18.8768 15.4185 18.9501 15.472 19.0096 15.5392C19.0704 15.611 19.1171 15.6935 19.1473 15.7825C19.1829 15.8908 19.2014 16.004 19.202 16.1179C19.2008 16.2075 19.1901 16.2967 19.17 16.384C19.1409 16.4883 19.0993 16.5887 19.046 16.683C18.9687 16.8192 18.8806 16.949 18.7827 17.0712C18.6483 17.2458 18.505 17.4135 18.3534 17.5734L16.197 19.9265V21H21V19.674H18.3123Z" fill="currentColor"/>
    </svg>
    `,superscript:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.4 12L14 15.6L12.6 17L9 13.4L5.4 17L4 15.6L7.6 12L4 8.39999L5.4 6.99999L9 10.6L12.6 6.99999L14 8.39999L10.4 12ZM19.3123 8.67399L20.3805 7.52749C20.5765 7.32608 20.7514 7.1201 20.9173 6.91869C21.077 6.72452 21.2214 6.51823 21.3493 6.30169C21.469 6.10152 21.567 5.8892 21.6418 5.66829C21.7128 5.45337 21.7488 5.22843 21.7484 5.00208C21.7514 4.72071 21.6994 4.44146 21.5953 4.18002C21.4968 3.93428 21.3427 3.71468 21.1451 3.53842C20.9353 3.35487 20.6899 3.21651 20.4242 3.13196C19.7861 2.94191 19.1044 2.95753 18.4757 3.17661C18.1887 3.28506 17.9282 3.45381 17.712 3.67148C17.5032 3.88006 17.3413 4.13081 17.2372 4.40696C17.1371 4.67345 17.0844 4.95534 17.0813 5.23996L17.0777 5.47696H18.617L18.6234 5.24999C18.625 5.12333 18.643 4.99741 18.6772 4.87541C18.7105 4.76834 18.7637 4.66848 18.8339 4.58104C18.905 4.50068 18.9935 4.43769 19.0928 4.39694C19.3173 4.30795 19.5665 4.30277 19.7946 4.38236C19.8768 4.41844 19.9501 4.47194 20.0096 4.53915C20.0704 4.61089 20.1171 4.69344 20.1473 4.78248C20.1829 4.89072 20.2014 5.00389 20.202 5.11786C20.2008 5.20745 20.1901 5.29667 20.17 5.38398C20.1409 5.48826 20.0993 5.58863 20.046 5.68291C19.9687 5.81912 19.8807 5.94894 19.7827 6.07114C19.6483 6.24579 19.505 6.4134 19.3534 6.57331L17.1971 8.92641V9.99999H22V8.67399H19.3123Z" fill="currentColor"/>
    </svg>
    `,fontFamily:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 19H18L13 5H11L6 19H8L9.43 15H14.57L16 19ZM10.14 13L12 7.8L13.86 13H10.14Z" fill="currentColor"/>
    </svg>
    `,fontSize:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M20.75 19H22.25L19.25 9H17.75L14.75 19H16.25L17 16.5H20L20.75 19ZM17.45 15L18.5 11.5L19.55 15H17.45ZM11.75 19H13.75L8.75 5H6.75L1.75 19H3.75L5.18 15H10.32L11.75 19ZM5.89 13L7.75 7.8L9.61 13H5.89Z" fill="currentColor"/>
    </svg>
    `,clearformat:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M11.48 10.09L10.28 8.88L8.80003 7.41L6.43003 5L5.37003 6.1L8.25003 9L4.66003 19H6.66003L8.09003 15H13.23L14.66 19H16.66L15.77 16.49L18.27 19L19.34 17.94L14.59 13.2L11.48 10.09ZM8.80003 13L9.72003 10.44L12.27 13H8.80003ZM9.36003 5.85L9.66003 5H11.66L13.41 9.9L9.36003 5.85Z" fill="currentColor"/>
    </svg>
    `,textColor:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.2 13.494C15.2 13.494 11.6 17.394 11.6 19.794C11.5934 20.2733 11.6813 20.7493 11.8587 21.1946C12.036 21.64 12.2994 22.046 12.6337 22.3896C13.3088 23.0835 14.2319 23.4807 15.2 23.494C16.168 23.5073 17.1017 23.1354 17.7956 22.4603C18.1391 22.126 18.4135 21.7273 18.603 21.287C18.7925 20.8467 18.8934 20.3733 18.9 19.894V19.794C18.9 17.394 15.2 13.494 15.2 13.494ZM13.73 12.137L14.399 11.413L12.1 5H10.1L5.09998 19H7.09998L8.52998 15H11.473C12.1517 13.9909 12.9048 13.0339 13.726 12.137H13.73ZM11.1 7.8L12.96 13H9.24398L11.1 7.8Z" fill="currentColor"/>
    </svg>
    `,backgroundColor:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9.91756 12.2408L17.6655 6.85064L18.8449 8.14655L12.7509 15.354L9.91756 12.2408ZM7.58746 12.652L12.1228 17.6353C12.2167 17.7283 12.3292 17.8003 12.453 17.8466C12.5768 17.8929 12.709 17.9123 12.8409 17.9038C12.9728 17.8952 13.1013 17.8587 13.2181 17.7967C13.3348 17.7348 13.4371 17.6488 13.5181 17.5444L20.9695 8.73139C21.1179 8.56827 21.202 8.35672 21.2059 8.1362C21.2098 7.91569 21.1333 7.70128 20.9908 7.53299L18.4778 4.77183C18.3236 4.6141 18.1174 4.51786 17.8975 4.50105C17.6775 4.48425 17.459 4.54804 17.2827 4.68051L7.80905 11.2713C7.69748 11.3422 7.60223 11.4359 7.52958 11.5463C7.45693 11.6567 7.40853 11.7813 7.38759 11.9118C7.36664 12.0423 7.37363 12.1757 7.40808 12.3033C7.44254 12.4309 7.50367 12.5498 7.58746 12.652ZM2.79395 18.5277L8.4113 19.5L9.89044 18.1538L6.86155 14.8258L2.79395 18.5277Z" fill="currentColor"/>
    </svg>
    `,undo:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.4 9.4C8.7 9.7 7.2 10.3 5.8 11.4L3 8.5V15.5H10L7.3 12.8C11 10.2 16.1 11 18.8 14.7C19 15 19.2 15.2 19.3 15.5L21.1 14.6C18.9 10.8 14.7 8.7 10.4 9.4Z" fill="currentColor"/>
    </svg>
    `,redo:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.6 9.4C15.3 9.7 16.8 10.3 18.2 11.4L21 8.5V15.5H14L16.7 12.8C13 10.1 7.9 11 5.3 14.7C5.1 15 4.9 15.2 4.8 15.5L3 14.6C5.1 10.8 9.3 8.7 13.6 9.4Z" fill="currentColor"/>
    </svg>
    `,left:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 9.5H12.47" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 19.5H12.47" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,center:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.26001 9.5H16.74" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.26001 19.5H16.74" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,right:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M11.53 9.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M11.53 19.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,justify:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 9.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 19.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h1:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 10L19 9V19M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h2:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 12.5V12C15 11.2044 15.3161 10.4413 15.8787 9.87868C16.4413 9.31607 17.2044 9 18 9H18.172C18.7316 8.99968 19.2788 9.16541 19.7441 9.47619C20.2095 9.78698 20.5722 10.2289 20.7864 10.7459C21.0005 11.2629 21.0564 11.8318 20.9471 12.3807C20.8377 12.9295 20.568 13.4335 20.172 13.829L15 19H21M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h3:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 9H21L17 13H18C18.55 13.0002 19.0893 13.1516 19.5591 13.4377C20.0288 13.7237 20.4109 14.1334 20.6635 14.6219C20.9162 15.1105 21.0297 15.6591 20.9916 16.2077C20.9535 16.7564 20.7653 17.284 20.4476 17.733C20.1299 18.1819 19.6949 18.5349 19.1901 18.7533C18.6854 18.9717 18.1303 19.0472 17.5855 18.9714C17.0408 18.8956 16.5274 18.6716 16.1013 18.3237C15.6753 17.9759 15.3531 17.5176 15.17 16.999M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h4:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M18 9L15.5 17H20M20 17H21M20 17V14M20 17V19M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h5:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M21 9H17L15.75 14.016C16.1829 13.5246 16.7648 13.1885 17.4068 13.059C18.0488 12.9295 18.7155 13.0138 19.305 13.299C19.7052 13.4922 20.0575 13.7718 20.3364 14.1177C20.6153 14.4637 20.8139 14.8673 20.9178 15.2993C21.0217 15.7314 21.0283 16.1811 20.9372 16.616C20.846 17.0509 20.6594 17.4602 20.3908 17.8142C20.1222 18.1682 19.7783 18.4581 19.384 18.6629C18.9896 18.8678 18.5547 18.9825 18.1106 18.9987C17.6666 19.015 17.2244 18.9324 16.8162 18.7569C16.4079 18.5814 16.0438 18.3174 15.75 17.984M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h6:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.402 14.525C15.2052 14.8643 15.0774 15.2392 15.0261 15.6281C14.9748 16.017 15.0009 16.4122 15.1029 16.791C15.205 17.1698 15.381 17.5246 15.6207 17.8351C15.8605 18.1455 16.1593 18.4055 16.5 18.6C17.189 18.9959 18.0067 19.1033 18.7745 18.8988C19.5424 18.6942 20.1983 18.1942 20.599 17.508C20.7959 17.1687 20.9237 16.7937 20.9751 16.4047C21.0264 16.0157 21.0002 15.6205 20.8981 15.2417C20.7959 14.8628 20.6198 14.508 20.3798 14.1976C20.1399 13.8872 19.8408 13.6273 19.5 13.433C18.8111 13.0374 17.9937 12.9302 17.226 13.1347C16.4584 13.3393 15.8027 13.839 15.402 14.525ZM15.402 14.525L19 8M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,paragraph:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 5V13M12 5H16M12 5H11C9.93913 5 8.92172 5.42143 8.17157 6.17157C7.42143 6.92172 7 7.93913 7 9C7 10.0609 7.42143 11.0783 8.17157 11.8284C8.92172 12.5786 9.93913 13 11 13H12M12 13V19M16 5V19M16 5H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,quote:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 17C16.7956 17 17.5587 16.6839 18.1213 16.1213C18.6839 15.5587 19 14.7956 19 14V12M19 12V8.598C19 8.04 19 7.76 18.891 7.546C18.7951 7.35785 18.6422 7.20487 18.454 7.109C18.24 7 17.96 7 17.4 7H15.6C15.04 7 14.76 7 14.546 7.109C14.3578 7.20487 14.2049 7.35785 14.109 7.546C14 7.76 14 8.04 14 8.6V10.4C14 10.96 14 11.24 14.109 11.454C14.2049 11.6422 14.3578 11.7951 14.546 11.891C14.76 12 15.04 12 15.599 12H19ZM7 17C7.79565 17 8.55871 16.6839 9.12132 16.1213C9.68393 15.5587 10 14.7956 10 14V12M10 12V8.598C10 8.039 10 7.76 9.891 7.546C9.79513 7.35785 9.64215 7.20487 9.454 7.109C9.24 7 8.96 7 8.4 7H6.6C6.04 7 5.76 7 5.546 7.109C5.35785 7.20487 5.20487 7.35785 5.109 7.546C5 7.76 5 8.04 5 8.6V10.4C5 10.96 5 11.24 5.109 11.454C5.20487 11.6422 5.35785 11.7951 5.546 11.891C5.76 12 6.04 12 6.598 12H10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,code:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 7L20 12L15 17M9 17L4 12L9 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,unordered:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9 17H19M9 12H19M9 7H19M5.002 17V17.002H5V17H5.002ZM5.002 12V12.002H5V12H5.002ZM5.002 7V7.002H5V7H5.002Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,ordered:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 17H20M4 15.685V15.5C4 15.1022 4.15804 14.7206 4.43934 14.4393C4.72064 14.158 5.10218 14 5.5 14H5.54C6.347 14 7 14.653 7 15.46C7 15.81 6.886 16.152 6.676 16.433L4 20H7M10 12H20M10 7H20M4 5L6 4V10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>  
    `,check:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M8 12L11 15L16 9M4 16.8V7.2C4 6.08 4 5.52 4.218 5.092C4.41 4.715 4.715 4.41 5.092 4.218C5.52 4 6.08 4 7.2 4H16.8C17.92 4 18.48 4 18.907 4.218C19.284 4.41 19.59 4.715 19.782 5.092C20 5.519 20 6.079 20 7.197V16.804C20 17.922 20 18.481 19.782 18.908C19.5899 19.2844 19.2836 19.5903 18.907 19.782C18.48 20 17.921 20 16.803 20H7.197C6.079 20 5.519 20 5.092 19.782C4.71569 19.5903 4.40974 19.2843 4.218 18.908C4 18.48 4 17.92 4 16.8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,link:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9.17196 14.829L14.829 9.17196M7.04996 11.293L5.63596 12.707C5.26451 13.0784 4.96987 13.5194 4.76885 14.0047C4.56782 14.49 4.46436 15.0102 4.46436 15.5355C4.46436 16.0608 4.56782 16.5809 4.76885 17.0662C4.96987 17.5515 5.26451 17.9925 5.63596 18.364C6.0074 18.7354 6.44837 19.03 6.93369 19.2311C7.419 19.4321 7.93916 19.5356 8.46446 19.5356C8.98976 19.5356 9.50992 19.4321 9.99523 19.2311C10.4805 19.03 10.9215 18.7354 11.293 18.364L12.705 16.95M11.292 7.04996L12.706 5.63596C13.0774 5.26451 13.5184 4.96987 14.0037 4.76885C14.489 4.56782 15.0092 4.46436 15.5345 4.46436C16.0598 4.46436 16.5799 4.56782 17.0652 4.76885C17.5505 4.96987 17.9915 5.26451 18.363 5.63596C18.7344 6.0074 19.029 6.44837 19.2301 6.93369C19.4311 7.419 19.5346 7.93916 19.5346 8.46446C19.5346 8.98976 19.4311 9.50992 19.2301 9.99523C19.029 10.4805 18.7344 10.9215 18.363 11.293L16.949 12.707" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,unlink:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 20V18M18 16H20M7.05 11.293L5.636 12.707C4.88584 13.4572 4.4644 14.4746 4.4644 15.5355C4.4644 16.5964 4.88584 17.6138 5.636 18.364C6.38616 19.1142 7.40361 19.5356 8.4645 19.5356C9.52539 19.5356 10.5428 19.1142 11.293 18.364L12.708 16.95M6 8H4M8 4V6M11.293 7.05L12.707 5.636C13.0769 5.25777 13.5182 4.95668 14.0053 4.75017C14.4924 4.54366 15.0156 4.43582 15.5446 4.43291C16.0737 4.43 16.598 4.53206 17.0874 4.7332C17.5767 4.93433 18.0213 5.23054 18.3953 5.60467C18.7694 5.9788 19.0655 6.42342 19.2666 6.91279C19.4676 7.40215 19.5696 7.92654 19.5666 8.45559C19.5636 8.98463 19.4557 9.50783 19.2491 9.99487C19.0425 10.4819 18.7413 10.9231 18.363 11.293L16.949 12.707" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,edit:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
    <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
  </svg>
  `,indent:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_1373_1664)">
  <path d="M19.9999 18C20.2548 18.0003 20.5 18.0979 20.6853 18.2728C20.8706 18.4478 20.9822 18.687 20.9971 18.9414C21.012 19.1958 20.9293 19.4464 20.7657 19.6418C20.6021 19.8373 20.37 19.9629 20.1169 19.993L19.9999 20H3.99994C3.74506 19.9997 3.49991 19.9021 3.31457 19.7272C3.12923 19.5522 3.0177 19.313 3.00277 19.0586C2.98783 18.8042 3.07061 18.5536 3.2342 18.3582C3.39779 18.1627 3.62984 18.0371 3.88294 18.007L3.99994 18H19.9999ZM19.9999 13C20.2652 13 20.5195 13.1054 20.707 13.2929C20.8946 13.4804 20.9999 13.7348 20.9999 14C20.9999 14.2652 20.8946 14.5196 20.707 14.7071C20.5195 14.8946 20.2652 15 19.9999 15H10.9999C10.7347 15 10.4804 14.8946 10.2928 14.7071C10.1053 14.5196 9.99994 14.2652 9.99994 14C9.99994 13.7348 10.1053 13.4804 10.2928 13.2929C10.4804 13.1054 10.7347 13 10.9999 13H19.9999ZM3.64294 9.173L3.93294 9.324L4.27694 9.513C4.33894 9.547 4.40294 9.583 4.46794 9.621L4.88394 9.865L5.10794 10.001L5.58294 10.303C5.83994 10.469 6.07694 10.63 6.29394 10.783L6.70094 11.074L6.88394 11.21L7.20594 11.456L7.46794 11.664C7.68194 11.838 7.67294 12.185 7.44794 12.367L7.18694 12.573L6.86794 12.816L6.49294 13.09L6.28494 13.237L5.82994 13.548L5.58194 13.711C5.41394 13.821 5.25094 13.923 5.09494 14.019L4.64994 14.287L4.25194 14.515L3.90594 14.705L3.61594 14.855C3.36294 14.985 3.09094 14.819 3.06494 14.523L3.02494 14.013L2.98894 13.363L2.97094 12.859L2.96094 12.303V11.694L2.97194 11.109L2.99194 10.582L3.01694 10.118L3.05994 9.552C3.08694 9.235 3.38494 9.042 3.64294 9.172V9.173ZM19.9999 8C20.2652 8 20.5195 8.10536 20.707 8.29289C20.8946 8.48043 20.9999 8.73478 20.9999 9C20.9999 9.26522 20.8946 9.51957 20.707 9.70711C20.5195 9.89464 20.2652 10 19.9999 10H10.9999C10.7347 10 10.4804 9.89464 10.2928 9.70711C10.1053 9.51957 9.99994 9.26522 9.99994 9C9.99994 8.73478 10.1053 8.48043 10.2928 8.29289C10.4804 8.10536 10.7347 8 10.9999 8H19.9999ZM19.9999 3C20.2652 3 20.5195 3.10536 20.707 3.29289C20.8946 3.48043 20.9999 3.73478 20.9999 4C20.9999 4.26522 20.8946 4.51957 20.707 4.70711C20.5195 4.89464 20.2652 5 19.9999 5H3.99994C3.73472 5 3.48037 4.89464 3.29283 4.70711C3.10529 4.51957 2.99994 4.26522 2.99994 4C2.99994 3.73478 3.10529 3.48043 3.29283 3.29289C3.48037 3.10536 3.73472 3 3.99994 3H19.9999Z" fill="currentColor"/>
  </g>
  <defs>
  <clipPath id="clip0_1373_1664">
  <rect width="24" height="24" fill="white"/>
  </clipPath>
  </defs>
  </svg>  
  `,outdent:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_1373_1660)">
  <path d="M20 18C20.2652 18 20.5196 18.1054 20.7071 18.2929C20.8946 18.4804 21 18.7348 21 19C21 19.2652 20.8946 19.5196 20.7071 19.7071C20.5196 19.8946 20.2652 20 20 20H4C3.73478 20 3.48043 19.8946 3.29289 19.7071C3.10536 19.5196 3 19.2652 3 19C3 18.7348 3.10536 18.4804 3.29289 18.2929C3.48043 18.1054 3.73478 18 4 18H20ZM20 13C20.2549 13.0003 20.5 13.0979 20.6854 13.2728C20.8707 13.4478 20.9822 13.687 20.9972 13.9414C21.0121 14.1958 20.9293 14.4464 20.7657 14.6418C20.6021 14.8373 20.3701 14.9629 20.117 14.993L20 15H11C10.7451 14.9997 10.5 14.9021 10.3146 14.7272C10.1293 14.5522 10.0178 14.313 10.0028 14.0586C9.98789 13.8042 10.0707 13.5536 10.2343 13.3582C10.3979 13.1627 10.6299 13.0371 10.883 13.007L11 13H20ZM7.065 9.173C7.322 9.041 7.621 9.235 7.648 9.552L7.69 10.118L7.716 10.582L7.736 11.109L7.742 11.395L7.748 12.007L7.743 12.587L7.729 13.117L7.708 13.594L7.669 14.199L7.643 14.523C7.616 14.819 7.344 14.984 7.091 14.855L6.801 14.705L6.456 14.515L6.058 14.287L5.841 14.158L5.374 13.87L4.878 13.548L4.422 13.238L4.215 13.09L3.84 12.816L3.383 12.466C3.34219 12.4332 3.30152 12.4002 3.261 12.367C3.035 12.185 3.025 11.838 3.241 11.664L3.501 11.456L3.824 11.21L4.203 10.932L4.637 10.627C4.791 10.522 4.954 10.413 5.124 10.302L5.367 10.147L5.824 9.865L6.24 9.621L6.609 9.414L7.065 9.173ZM20 8C20.2652 8 20.5196 8.10536 20.7071 8.29289C20.8946 8.48043 21 8.73478 21 9C21 9.26522 20.8946 9.51957 20.7071 9.70711C20.5196 9.89464 20.2652 10 20 10H11C10.7348 10 10.4804 9.89464 10.2929 9.70711C10.1054 9.51957 10 9.26522 10 9C10 8.73478 10.1054 8.48043 10.2929 8.29289C10.4804 8.10536 10.7348 8 11 8H20ZM20 3C20.2652 3 20.5196 3.10536 20.7071 3.29289C20.8946 3.48043 21 3.73478 21 4C21 4.26522 20.8946 4.51957 20.7071 4.70711C20.5196 4.89464 20.2652 5 20 5H4C3.73478 5 3.48043 4.89464 3.29289 4.70711C3.10536 4.51957 3 4.26522 3 4C3 3.73478 3.10536 3.48043 3.29289 3.29289C3.48043 3.10536 3.73478 3 4 3H20Z" fill="currentColor"/>
  </g>
  <defs>
  <clipPath id="clip0_1373_1660">
  <rect width="24" height="24" fill="white"/>
  </clipPath>
  </defs>
  </svg>  
  `,color:`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M15.246 14H8.754L7.154 18H5L11 3H13L19 18H16.846L15.246 14ZM14.446 12L12 5.885L9.554 12H14.446ZM3 20H21V22H3V20Z" fill="currentColor"/>
  </svg>
  `,fill:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M9.70711 3.22211L2.63611 10.2931C2.26117 10.6682 2.05054 11.1768 2.05054 11.7071C2.05054 12.2374 2.26117 12.7461 2.63611 13.1211L8.29211 18.7781C8.47786 18.9641 8.69843 19.1116 8.94123 19.2122C9.18403 19.3129 9.44428 19.3647 9.70711 19.3647C9.96994 19.3647 10.2302 19.3129 10.473 19.2122C10.7158 19.1116 10.9364 18.9641 11.1221 18.7781L18.1921 11.7071L9.70711 3.22211ZM9.70711 3.22211L8.29311 1.80811" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M20 15C20 15 23 17.993 23 19.887C23 21.542 21.655 22.887 20 22.887C18.344 22.887 17.012 21.542 17 19.887C17.01 17.992 20 15 20 15Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,image:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M9 10C10.1046 10 11 9.10457 11 8C11 6.89543 10.1046 6 9 6C7.89543 6 7 6.89543 7 8C7 9.10457 7.89543 10 9 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M2.67004 18.9501L7.60004 15.6401C8.39004 15.1101 9.53004 15.1701 10.24 15.7801L10.57 16.0701C11.35 16.7401 12.61 16.7401 13.39 16.0701L17.55 12.5001C18.33 11.8301 19.59 11.8301 20.37 12.5001L22 13.9001" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,upload:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11 16V7.85L8.4 10.45L7 9L12 4L17 9L15.6 10.45L13 7.85V16H11ZM6 20C5.45 20 4.97933 19.8043 4.588 19.413C4.19667 19.0217 4.00067 18.5507 4 18V15H6V18H18V15H20V18C20 18.55 19.8043 19.021 19.413 19.413C19.0217 19.805 18.5507 20.0007 18 20H6Z" fill="currentColor"/>
  </svg>
  `,error:`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M12 16.462C12.1747 16.462 12.3207 16.403 12.438 16.285C12.556 16.167 12.615 16.0207 12.615 15.846C12.615 15.672 12.556 15.526 12.438 15.408C12.3207 15.29 12.1747 15.231 12 15.231C11.8253 15.231 11.6793 15.29 11.562 15.408C11.444 15.526 11.385 15.672 11.385 15.846C11.385 16.0207 11.444 16.167 11.562 16.285C11.6793 16.403 11.8253 16.462 12 16.462ZM11.5 13.154H12.5V7.154H11.5V13.154ZM12.003 21C10.759 21 9.589 20.764 8.493 20.292C7.39767 19.8193 6.44467 19.178 5.634 18.368C4.82333 17.5587 4.18167 16.6067 3.709 15.512C3.23633 14.4173 3 13.2477 3 12.003C3 10.759 3.236 9.589 3.708 8.493C4.18067 7.39767 4.822 6.44467 5.632 5.634C6.44133 4.82333 7.39333 4.18167 8.488 3.709C9.58267 3.23633 10.7523 3 11.997 3C13.241 3 14.411 3.236 15.507 3.708C16.6023 4.18067 17.5553 4.822 18.366 5.632C19.1767 6.44133 19.8183 7.39333 20.291 8.488C20.7637 9.58267 21 10.7523 21 11.997C21 13.241 20.764 14.411 20.292 15.507C19.8193 16.6023 19.178 17.5553 18.368 18.366C17.5587 19.1767 16.6067 19.8183 15.512 20.291C14.4173 20.7637 13.2477 21 12.003 21Z" fill="currentColor"/>
  </svg>
  `,reset:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.08918 7.41366C5.20086 5.49505 6.97192 4.04582 9.07259 3.33583C11.1733 2.62584 13.4604 2.70347 15.5081 3.55427C17.5558 4.40507 19.2245 5.97105 20.2035 7.96063C21.1825 9.95021 21.4051 12.2278 20.8299 14.3693C20.2546 16.5108 18.9207 18.3702 17.0765 19.6014C15.2323 20.8326 13.0035 21.3516 10.8051 21.0618C8.60669 20.772 6.58854 19.6931 5.1264 18.026C3.66427 16.359 2.85781 14.2174 2.85718 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M8.57143 7.42812H4V2.85669" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,editImage:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M16.7989 9.0001C16.7989 9.47749 16.6093 9.93532 16.2717 10.2729C15.9341 10.6105 15.4763 10.8001 14.9989 10.8001C14.5215 10.8001 14.0637 10.6105 13.7261 10.2729C13.3885 9.93532 13.1989 9.47749 13.1989 9.0001C13.1989 8.52271 13.3885 8.06487 13.7261 7.72731C14.0637 7.38974 14.5215 7.2001 14.9989 7.2001C15.4763 7.2001 15.9341 7.38974 16.2717 7.72731C16.6093 8.06487 16.7989 8.52271 16.7989 9.0001ZM15.5989 9.0001C15.5989 8.84097 15.5357 8.68836 15.4232 8.57583C15.3106 8.46331 15.158 8.4001 14.9989 8.4001C14.8398 8.4001 14.6872 8.46331 14.5746 8.57583C14.4621 8.68836 14.3989 8.84097 14.3989 9.0001C14.3989 9.15923 14.4621 9.31184 14.5746 9.42436C14.6872 9.53688 14.8398 9.6001 14.9989 9.6001C15.158 9.6001 15.3106 9.53688 15.4232 9.42436C15.5357 9.31184 15.5989 9.15923 15.5989 9.0001ZM3.6001 7.2001C3.6001 6.24532 3.97938 5.32964 4.65451 4.65451C5.32964 3.97938 6.24532 3.6001 7.2001 3.6001H16.7989C17.7537 3.6001 18.6694 3.97938 19.3445 4.65451C20.0196 5.32964 20.3989 6.24532 20.3989 7.2001V10.8025C19.9856 10.8213 19.5791 10.9144 19.1989 11.0773V7.2001C19.1989 6.56358 18.946 5.95313 18.496 5.50304C18.0459 5.05295 17.4354 4.8001 16.7989 4.8001H7.1989C6.56238 4.8001 5.95193 5.05295 5.50184 5.50304C5.05175 5.95313 4.7989 6.56358 4.7989 7.2001V16.7989C4.7989 17.2453 4.9225 17.6641 5.1349 18.0229L10.7377 12.5173C11.0743 12.1868 11.5272 12.0016 11.9989 12.0016C12.4706 12.0016 12.9235 12.1868 13.2601 12.5173L15.3541 14.5753L14.5057 15.4237L12.4201 13.3729C12.3079 13.2626 12.1568 13.2008 11.9995 13.2008C11.8422 13.2008 11.6911 13.2626 11.5789 13.3729L5.9857 18.8689C6.35359 19.0859 6.77296 19.2003 7.2001 19.2001H11.3689C11.3497 19.2601 11.3329 19.3237 11.3173 19.3861L11.0641 20.4001H7.2001C6.24532 20.4001 5.32964 20.0208 4.65451 19.3457C3.97938 18.6706 3.6001 17.7549 3.6001 16.8001V7.2001ZM13.1749 18.4513L18.9697 12.6553C19.3908 12.2346 19.9617 11.9983 20.5569 11.9985C21.1522 11.9988 21.723 12.2354 22.1437 12.6565C22.5644 13.0776 22.8007 13.6485 22.8005 14.2437C22.8002 14.839 22.5636 15.4098 22.1425 15.8305L16.3477 21.6241C16.0101 21.9619 15.587 22.2016 15.1237 22.3177L13.3261 22.7677C13.1473 22.8121 12.9601 22.8095 12.7826 22.7601C12.6051 22.7107 12.4435 22.6163 12.3133 22.486C12.1831 22.3557 12.0888 22.1939 12.0396 22.0164C11.9904 21.8389 11.988 21.6516 12.0325 21.4729L12.4813 19.6753C12.5977 19.2121 12.8365 18.7885 13.1749 18.4513Z" fill="currentColor"/>
  </svg>
  `,video:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M9.1001 12V10.52C9.1001 8.60999 10.4501 7.83999 12.1001 8.78999L13.3801 9.52999L14.6601 10.27C16.3101 11.22 16.3101 12.78 14.6601 13.73L13.3801 14.47L12.1001 15.21C10.4501 16.16 9.1001 15.38 9.1001 13.48V12Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,fit:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5" />
</svg>
`,ltr:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M21 18L17 14V17H5V19H17V22M9 10V15H11V4H13V15H15V4H17V2H9C7.93913 2 6.92172 2.42143 6.17157 3.17157C5.42143 3.92172 5 4.93913 5 6C5 7.06087 5.42143 8.07828 6.17157 8.82843C6.92172 9.57857 7.93913 10 9 10Z" fill="currentColor"/>
</svg>
`,rtl:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 17V14L4 18L8 22V19H20V17M10 10V15H12V4H14V15H16V4H18V2H10C8.93913 2 7.92172 2.42143 7.17157 3.17157C6.42143 3.92172 6 4.93913 6 6C6 7.06087 6.42143 8.07828 7.17157 8.82843C7.92172 9.57857 8.93913 10 10 10Z" fill="currentColor"/>
</svg>
`,table:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2.25 5.625C2.25 4.72989 2.60558 3.87145 3.23851 3.23851C3.87145 2.60558 4.72989 2.25 5.625 2.25H18.375C19.2701 2.25 20.1285 2.60558 20.7615 3.23851C21.3944 3.87145 21.75 4.72989 21.75 5.625V18.375C21.75 19.2701 21.3944 20.1285 20.7615 20.7615C20.1285 21.3944 19.2701 21.75 18.375 21.75H5.625C4.72989 21.75 3.87145 21.3944 3.23851 20.7615C2.60558 20.1285 2.25 19.2701 2.25 18.375V5.625ZM5.625 3.75C5.12772 3.75 4.65081 3.94754 4.29917 4.29917C3.94754 4.65081 3.75 5.12772 3.75 5.625V11.25H11.25V3.75H5.625ZM12.75 3.75V11.25H20.25V5.625C20.25 5.12772 20.0525 4.65081 19.7008 4.29917C19.3492 3.94754 18.8723 3.75 18.375 3.75H12.75ZM11.25 12.75H3.75V18.375C3.75 18.8723 3.94754 19.3492 4.29917 19.7008C4.65081 20.0525 5.12772 20.25 5.625 20.25H11.25V12.75ZM12.75 20.25H18.375C18.8723 20.25 19.3492 20.0525 19.7008 19.7008C20.0525 19.3492 20.25 18.8723 20.25 18.375V12.75H12.75V20.25Z" fill="currentColor"/>
</svg>`,"caret-down":`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor">
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
</svg>

`};/*!
* Cropper.js v1.6.2
* https://fengyuanchen.github.io/cropperjs
*
* Copyright 2015-present Chen Fengyuan
* Released under the MIT license
*
* Date: 2024-04-21T07:43:05.335Z
*/function Ga(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,i)}return e}function Jc(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ga(Object(e),!0).forEach(function(i){op(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ga(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function ep(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Gc(n){var t=ep(n,"string");return typeof t=="symbol"?t:t+""}function Ms(n){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(n)}function np(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Gc(i.key),i)}}function ip(n,t,e){return Qa(n.prototype,t),Qa(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function op(n,t,e){return t=Gc(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Qc(n){return sp(n)||rp(n)||ap(n)||lp()}function sp(n){if(Array.isArray(n))return Ds(n)}function rp(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ap(n,t){if(n){if(typeof n=="string")return Ds(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ds(n,t)}}function Ds(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function lp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Po=typeof window<"u"&&typeof window.document<"u",pe=Po?window:{},Er=Po&&pe.document.documentElement?"ontouchstart"in pe.document.documentElement:!1,Sr=Po?"PointerEvent"in pe:!1,gt="cropper",Tr="all",tu="crop",eu="move",nu="zoom",ze="e",$e="w",un="s",Le="n",Vn="ne",jn="nw",Kn="se",Zn="sw",Os="".concat(gt,"-crop"),tl="".concat(gt,"-disabled"),Wt="".concat(gt,"-hidden"),el="".concat(gt,"-hide"),cp="".concat(gt,"-invisible"),yo="".concat(gt,"-modal"),Ps="".concat(gt,"-move"),yi="".concat(gt,"Action"),Ui="".concat(gt,"Preview"),Lr="crop",iu="move",ou="none",Fs="crop",Is="cropend",Rs="cropmove",Bs="cropstart",nl="dblclick",up=Er?"touchstart":"mousedown",dp=Er?"touchmove":"mousemove",hp=Er?"touchend touchcancel":"mouseup",il=Sr?"pointerdown":up,ol=Sr?"pointermove":dp,sl=Sr?"pointerup pointercancel":hp,rl="ready",al="resize",ll="wheel",Hs="zoom",cl="image/jpeg",pp=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,gp=/^data:/,fp=/^data:image\/jpeg;base64,/,mp=/^img|canvas$/i,su=200,ru=100,ul={viewMode:0,dragMode:Lr,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:su,minContainerHeight:ru,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},yp='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',_p=Number.isNaN||pe.isNaN;function tt(n){return typeof n=="number"&&!_p(n)}var dl=function(n){return n>0&&n<1/0};function ss(n){return typeof n>"u"}function nn(n){return Ms(n)==="object"&&n!==null}var bp=Object.prototype.hasOwnProperty;function yn(n){if(!nn(n))return!1;try{var t=n.constructor,e=t.prototype;return t&&e&&bp.call(e,"isPrototypeOf")}catch{return!1}}function Ht(n){return typeof n=="function"}var vp=Array.prototype.slice;function au(n){return Array.from?Array.from(n):vp.call(n)}function wt(n,t){return n&&Ht(t)&&(Array.isArray(n)||tt(n.length)?au(n).forEach(function(e,i){t.call(n,e,i,n)}):nn(n)&&Object.keys(n).forEach(function(e){t.call(n,n[e],e,n)})),n}var ft=Object.assign||function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return nn(n)&&e.length>0&&e.forEach(function(o){nn(o)&&Object.keys(o).forEach(function(s){n[s]=o[s]})}),n},wp=/\.\d*(?:0|9){12}\d*$/;function xn(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return wp.test(n)?Math.round(n*t)/t:n}var xp=/^width|height|left|top|marginLeft|marginTop$/;function De(n,t){var e=n.style;wt(t,function(i,o){xp.test(o)&&tt(i)&&(i="".concat(i,"px")),e[o]=i})}function Cp(n,t){return n.classList?n.classList.contains(t):n.className.indexOf(t)>-1}function Tt(n,t){if(t){if(tt(n.length)){wt(n,function(i){Tt(i,t)});return}if(n.classList){n.classList.add(t);return}var e=n.className.trim();e?e.indexOf(t)<0&&(n.className="".concat(e," ").concat(t)):n.className=t}}function ae(n,t){if(t){if(tt(n.length)){wt(n,function(e){ae(e,t)});return}if(n.classList){n.classList.remove(t);return}n.className.indexOf(t)>=0&&(n.className=n.className.replace(t,""))}}function _n(n,t,e){if(t){if(tt(n.length)){wt(n,function(i){_n(i,t,e)});return}e?Tt(n,t):ae(n,t)}}var kp=/([a-z\d])([A-Z])/g;function Ar(n){return n.replace(kp,"$1-$2").toLowerCase()}function Ws(n,t){return nn(n[t])?n[t]:n.dataset?n.dataset[t]:n.getAttribute("data-".concat(Ar(t)))}function _i(n,t,e){nn(e)?n[t]=e:n.dataset?n.dataset[t]=e:n.setAttribute("data-".concat(Ar(t)),e)}function Ep(n,t){if(nn(n[t]))try{delete n[t]}catch{n[t]=void 0}else if(n.dataset)try{delete n.dataset[t]}catch{n.dataset[t]=void 0}else n.removeAttribute("data-".concat(Ar(t)))}var lu=/\s\s*/,cu=function(){var n=!1;if(Po){var t=!1,e=function(){},i=Object.defineProperty({},"once",{get:function(){return n=!0,t},set:function(o){t=o}});pe.addEventListener("test",e,i),pe.removeEventListener("test",e,i)}return n}();function Yt(n,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=e;t.trim().split(lu).forEach(function(s){if(!cu){var r=n.listeners;r&&r[s]&&r[s][e]&&(o=r[s][e],delete r[s][e],Object.keys(r[s]).length===0&&delete r[s],Object.keys(r).length===0&&delete n.listeners)}n.removeEventListener(s,o,i)})}function Zt(n,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=e;t.trim().split(lu).forEach(function(s){if(i.once&&!cu){var r=n.listeners,a=r===void 0?{}:r;o=function(){delete a[s][e],n.removeEventListener(s,o,i);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];e.apply(n,c)},a[s]||(a[s]={}),a[s][e]&&n.removeEventListener(s,a[s][e],i),a[s][e]=o,n.listeners=a}n.addEventListener(s,o,i)})}function Cn(n,t,e){var i;return Ht(Event)&&Ht(CustomEvent)?i=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,e)),n.dispatchEvent(i)}function uu(n){var t=n.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var rs=pe.location,Sp=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function hl(n){var t=n.match(Sp);return t!==null&&(t[1]!==rs.protocol||t[2]!==rs.hostname||t[3]!==rs.port)}function pl(n){var t="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+t}function li(n){var t=n.rotate,e=n.scaleX,i=n.scaleY,o=n.translateX,s=n.translateY,r=[];tt(o)&&o!==0&&r.push("translateX(".concat(o,"px)")),tt(s)&&s!==0&&r.push("translateY(".concat(s,"px)")),tt(t)&&t!==0&&r.push("rotate(".concat(t,"deg)")),tt(e)&&e!==1&&r.push("scaleX(".concat(e,")")),tt(i)&&i!==1&&r.push("scaleY(".concat(i,")"));var a=r.length?r.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function Tp(n){var t=Jc({},n),e=0;return wt(n,function(i,o){delete t[o],wt(t,function(s){var r=Math.abs(i.startX-s.startX),a=Math.abs(i.startY-s.startY),l=Math.abs(i.endX-s.endX),c=Math.abs(i.endY-s.endY),u=Math.sqrt(r*r+a*a),d=Math.sqrt(l*l+c*c),h=(d-u)/u;Math.abs(h)>Math.abs(e)&&(e=h)})}),e}function Vi(n,t){var e=n.pageX,i=n.pageY,o={endX:e,endY:i};return t?o:Jc({startX:e,startY:i},o)}function Lp(n){var t=0,e=0,i=0;return wt(n,function(o){var s=o.startX,r=o.startY;t+=s,e+=r,i+=1}),t/=i,e/=i,{pageX:t,pageY:e}}function Oe(n){var t=n.aspectRatio,e=n.height,i=n.width,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=dl(i),r=dl(e);if(s&&r){var a=e*t;o==="contain"&&a>i||o==="cover"&&a<i?e=i/t:i=e*t}else s?e=i/t:r&&(i=e*t);return{width:i,height:e}}function Ap(n){var t=n.width,e=n.height,i=n.degree;if(i=Math.abs(i)%180,i===90)return{width:e,height:t};var o=i%90*Math.PI/180,s=Math.sin(o),r=Math.cos(o),a=t*r+e*s,l=t*s+e*r;return i>90?{width:l,height:a}:{width:a,height:l}}function Np(n,t,e,i){var o=t.aspectRatio,s=t.naturalWidth,r=t.naturalHeight,a=t.rotate,l=a===void 0?0:a,c=t.scaleX,u=c===void 0?1:c,d=t.scaleY,h=d===void 0?1:d,p=e.aspectRatio,g=e.naturalWidth,y=e.naturalHeight,_=i.fillColor,w=_===void 0?"transparent":_,f=i.imageSmoothingEnabled,m=f===void 0?!0:f,b=i.imageSmoothingQuality,v=b===void 0?"low":b,x=i.maxWidth,k=x===void 0?1/0:x,E=i.maxHeight,L=E===void 0?1/0:E,I=i.minWidth,H=I===void 0?0:I,j=i.minHeight,Z=j===void 0?0:j,$=document.createElement("canvas"),Y=$.getContext("2d"),P=Oe({aspectRatio:p,width:k,height:L}),C=Oe({aspectRatio:p,width:H,height:Z},"cover"),S=Math.min(P.width,Math.max(C.width,g)),A=Math.min(P.height,Math.max(C.height,y)),O=Oe({aspectRatio:o,width:k,height:L}),T=Oe({aspectRatio:o,width:H,height:Z},"cover"),N=Math.min(O.width,Math.max(T.width,s)),F=Math.min(O.height,Math.max(T.height,r)),M=[-N/2,-F/2,N,F];return $.width=xn(S),$.height=xn(A),Y.fillStyle=w,Y.fillRect(0,0,S,A),Y.save(),Y.translate(S/2,A/2),Y.rotate(l*Math.PI/180),Y.scale(u,h),Y.imageSmoothingEnabled=m,Y.imageSmoothingQuality=v,Y.drawImage.apply(Y,[n].concat(Qc(M.map(function(z){return Math.floor(xn(z))})))),Y.restore(),$}var du=String.fromCharCode;function Mp(n,t,e){var i="";e+=t;for(var o=t;o<e;o+=1)i+=du(n.getUint8(o));return i}var Dp=/^data:.*,/;function Op(n){var t=n.replace(Dp,""),e=atob(t),i=new ArrayBuffer(e.length),o=new Uint8Array(i);return wt(o,function(s,r){o[r]=e.charCodeAt(r)}),i}function Pp(n,t){for(var e=[],i=8192,o=new Uint8Array(n);o.length>0;)e.push(du.apply(null,au(o.subarray(0,i)))),o=o.subarray(i);return"data:".concat(t,";base64,").concat(btoa(e.join("")))}function Fp(n){var t=new DataView(n),e;try{var i,o,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var r=t.byteLength,a=2;a+1<r;){if(t.getUint8(a)===255&&t.getUint8(a+1)===225){o=a;break}a+=1}if(o){var l=o+4,c=o+10;if(Mp(t,l,4)==="Exif"){var u=t.getUint16(c);if(i=u===18761,(i||u===19789)&&t.getUint16(c+2,i)===42){var d=t.getUint32(c+4,i);d>=8&&(s=c+d)}}}if(s){var h=t.getUint16(s,i),p,g;for(g=0;g<h;g+=1)if(p=s+g*12+2,t.getUint16(p,i)===274){p+=8,e=t.getUint16(p,i),t.setUint16(p,1,i);break}}}catch{e=1}return e}function Ip(n){var t=0,e=1,i=1;switch(n){case 2:e=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,e=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:e,scaleY:i}}var Rp={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var n=this.element,t=this.options,e=this.container,i=this.cropper,o=Number(t.minContainerWidth),s=Number(t.minContainerHeight);Tt(i,Wt),ae(n,Wt);var r={width:Math.max(e.offsetWidth,o>=0?o:su),height:Math.max(e.offsetHeight,s>=0?s:ru)};this.containerData=r,De(i,{width:r.width,height:r.height}),Tt(n,Wt),ae(i,Wt)},initCanvas:function(){var n=this.containerData,t=this.imageData,e=this.options.viewMode,i=Math.abs(t.rotate)%180===90,o=i?t.naturalHeight:t.naturalWidth,s=i?t.naturalWidth:t.naturalHeight,r=o/s,a=n.width,l=n.height;n.height*r>n.width?e===3?a=n.height*r:l=n.width/r:e===3?l=n.width/r:a=n.height*r;var c={aspectRatio:r,naturalWidth:o,naturalHeight:s,width:a,height:l};this.canvasData=c,this.limited=e===1||e===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(n.width-c.width)/2,c.top=(n.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=ft({},c)},limitCanvas:function(n,t){var e=this.options,i=this.containerData,o=this.canvasData,s=this.cropBoxData,r=e.viewMode,a=o.aspectRatio,l=this.cropped&&s;if(n){var c=Number(e.minCanvasWidth)||0,u=Number(e.minCanvasHeight)||0;r>1?(c=Math.max(c,i.width),u=Math.max(u,i.height),r===3&&(u*a>c?c=u*a:u=c/a)):r>0&&(c?c=Math.max(c,l?s.width:0):u?u=Math.max(u,l?s.height:0):l&&(c=s.width,u=s.height,u*a>c?c=u*a:u=c/a));var d=Oe({aspectRatio:a,width:c,height:u});c=d.width,u=d.height,o.minWidth=c,o.minHeight=u,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(r>(l?0:1)){var h=i.width-o.width,p=i.height-o.height;o.minLeft=Math.min(0,h),o.minTop=Math.min(0,p),o.maxLeft=Math.max(0,h),o.maxTop=Math.max(0,p),l&&this.limited&&(o.minLeft=Math.min(s.left,s.left+(s.width-o.width)),o.minTop=Math.min(s.top,s.top+(s.height-o.height)),o.maxLeft=s.left,o.maxTop=s.top,r===2&&(o.width>=i.width&&(o.minLeft=Math.min(0,h),o.maxLeft=Math.max(0,h)),o.height>=i.height&&(o.minTop=Math.min(0,p),o.maxTop=Math.max(0,p))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(n,t){var e=this.canvasData,i=this.imageData;if(t){var o=Ap({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),s=o.width,r=o.height,a=e.width*(s/e.naturalWidth),l=e.height*(r/e.naturalHeight);e.left-=(a-e.width)/2,e.top-=(l-e.height)/2,e.width=a,e.height=l,e.aspectRatio=s/r,e.naturalWidth=s,e.naturalHeight=r,this.limitCanvas(!0,!1)}(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCanvas(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,De(this.canvas,ft({width:e.width,height:e.height},li({translateX:e.left,translateY:e.top}))),this.renderImage(n),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(n){var t=this.canvasData,e=this.imageData,i=e.naturalWidth*(t.width/t.naturalWidth),o=e.naturalHeight*(t.height/t.naturalHeight);ft(e,{width:i,height:o,left:(t.width-i)/2,top:(t.height-o)/2}),De(this.image,ft({width:e.width,height:e.height},li(ft({translateX:e.left,translateY:e.top},e)))),n&&this.output()},initCropBox:function(){var n=this.options,t=this.canvasData,e=n.aspectRatio||n.initialAspectRatio,i=Number(n.autoCropArea)||.8,o={width:t.width,height:t.height};e&&(t.height*e>t.width?o.height=o.width/e:o.width=o.height*e),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=ft({},o)},limitCropBox:function(n,t){var e=this.options,i=this.containerData,o=this.canvasData,s=this.cropBoxData,r=this.limited,a=e.aspectRatio;if(n){var l=Number(e.minCropBoxWidth)||0,c=Number(e.minCropBoxHeight)||0,u=r?Math.min(i.width,o.width,o.width+o.left,i.width-o.left):i.width,d=r?Math.min(i.height,o.height,o.height+o.top,i.height-o.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),a&&(l&&c?c*a>l?c=l/a:l=c*a:l?c=l/a:c&&(l=c*a),d*a>u?d=u/a:u=d*a),s.minWidth=Math.min(l,u),s.minHeight=Math.min(c,d),s.maxWidth=u,s.maxHeight=d}t&&(r?(s.minLeft=Math.max(0,o.left),s.minTop=Math.max(0,o.top),s.maxLeft=Math.min(i.width,o.left+o.width)-s.width,s.maxTop=Math.min(i.height,o.top+o.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=i.width-s.width,s.maxTop=i.height-s.height))},renderCropBox:function(){var n=this.options,t=this.containerData,e=this.cropBoxData;(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCropBox(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,n.movable&&n.cropBoxMovable&&_i(this.face,yi,e.width>=t.width&&e.height>=t.height?eu:Tr),De(this.cropBox,ft({width:e.width,height:e.height},li({translateX:e.left,translateY:e.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Cn(this.element,Fs,this.getData())}},Bp={initPreview:function(){var n=this.element,t=this.crossOrigin,e=this.options.preview,i=t?this.crossOriginUrl:this.url,o=n.alt||"The image to preview",s=document.createElement("img");if(t&&(s.crossOrigin=t),s.src=i,s.alt=o,this.viewBox.appendChild(s),this.viewBoxImage=s,!!e){var r=e;typeof e=="string"?r=n.ownerDocument.querySelectorAll(e):e.querySelector&&(r=[e]),this.previews=r,wt(r,function(a){var l=document.createElement("img");_i(a,Ui,{width:a.offsetWidth,height:a.offsetHeight,html:a.innerHTML}),t&&(l.crossOrigin=t),l.src=i,l.alt=o,l.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',a.innerHTML="",a.appendChild(l)})}},resetPreview:function(){wt(this.previews,function(n){var t=Ws(n,Ui);De(n,{width:t.width,height:t.height}),n.innerHTML=t.html,Ep(n,Ui)})},preview:function(){var n=this.imageData,t=this.canvasData,e=this.cropBoxData,i=e.width,o=e.height,s=n.width,r=n.height,a=e.left-t.left-n.left,l=e.top-t.top-n.top;!this.cropped||this.disabled||(De(this.viewBoxImage,ft({width:s,height:r},li(ft({translateX:-a,translateY:-l},n)))),wt(this.previews,function(c){var u=Ws(c,Ui),d=u.width,h=u.height,p=d,g=h,y=1;i&&(y=d/i,g=o*y),o&&g>h&&(y=h/o,p=i*y,g=h),De(c,{width:p,height:g}),De(c.getElementsByTagName("img")[0],ft({width:s*y,height:r*y},li(ft({translateX:-a*y,translateY:-l*y},n))))}))}},Hp={bind:function(){var n=this.element,t=this.options,e=this.cropper;Ht(t.cropstart)&&Zt(n,Bs,t.cropstart),Ht(t.cropmove)&&Zt(n,Rs,t.cropmove),Ht(t.cropend)&&Zt(n,Is,t.cropend),Ht(t.crop)&&Zt(n,Fs,t.crop),Ht(t.zoom)&&Zt(n,Hs,t.zoom),Zt(e,il,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Zt(e,ll,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Zt(e,nl,this.onDblclick=this.dblclick.bind(this)),Zt(n.ownerDocument,ol,this.onCropMove=this.cropMove.bind(this)),Zt(n.ownerDocument,sl,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Zt(window,al,this.onResize=this.resize.bind(this))},unbind:function(){var n=this.element,t=this.options,e=this.cropper;Ht(t.cropstart)&&Yt(n,Bs,t.cropstart),Ht(t.cropmove)&&Yt(n,Rs,t.cropmove),Ht(t.cropend)&&Yt(n,Is,t.cropend),Ht(t.crop)&&Yt(n,Fs,t.crop),Ht(t.zoom)&&Yt(n,Hs,t.zoom),Yt(e,il,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Yt(e,ll,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Yt(e,nl,this.onDblclick),Yt(n.ownerDocument,ol,this.onCropMove),Yt(n.ownerDocument,sl,this.onCropEnd),t.responsive&&Yt(window,al,this.onResize)}},Wp={resize:function(){if(!this.disabled){var n=this.options,t=this.container,e=this.containerData,i=t.offsetWidth/e.width,o=t.offsetHeight/e.height,s=Math.abs(i-1)>Math.abs(o-1)?i:o;if(s!==1){var r,a;n.restore&&(r=this.getCanvasData(),a=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(wt(r,function(l,c){r[c]=l*s})),this.setCropBoxData(wt(a,function(l,c){a[c]=l*s})))}}},dblclick:function(){this.disabled||this.options.dragMode===ou||this.setDragMode(Cp(this.dragBox,Os)?iu:Lr)},wheel:function(n){var t=this,e=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(n.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),n.deltaY?i=n.deltaY>0?1:-1:n.wheelDelta?i=-n.wheelDelta/120:n.detail&&(i=n.detail>0?1:-1),this.zoom(-i*e,n)))},cropStart:function(n){var t=n.buttons,e=n.button;if(!(this.disabled||(n.type==="mousedown"||n.type==="pointerdown"&&n.pointerType==="mouse")&&(tt(t)&&t!==1||tt(e)&&e!==0||n.ctrlKey))){var i=this.options,o=this.pointers,s;n.changedTouches?wt(n.changedTouches,function(r){o[r.identifier]=Vi(r)}):o[n.pointerId||0]=Vi(n),Object.keys(o).length>1&&i.zoomable&&i.zoomOnTouch?s=nu:s=Ws(n.target,yi),pp.test(s)&&Cn(this.element,Bs,{originalEvent:n,action:s})!==!1&&(n.preventDefault(),this.action=s,this.cropping=!1,s===tu&&(this.cropping=!0,Tt(this.dragBox,yo)))}},cropMove:function(n){var t=this.action;if(!(this.disabled||!t)){var e=this.pointers;n.preventDefault(),Cn(this.element,Rs,{originalEvent:n,action:t})!==!1&&(n.changedTouches?wt(n.changedTouches,function(i){ft(e[i.identifier]||{},Vi(i,!0))}):ft(e[n.pointerId||0]||{},Vi(n,!0)),this.change(n))}},cropEnd:function(n){if(!this.disabled){var t=this.action,e=this.pointers;n.changedTouches?wt(n.changedTouches,function(i){delete e[i.identifier]}):delete e[n.pointerId||0],t&&(n.preventDefault(),Object.keys(e).length||(this.action=""),this.cropping&&(this.cropping=!1,_n(this.dragBox,yo,this.cropped&&this.options.modal)),Cn(this.element,Is,{originalEvent:n,action:t}))}}},zp={change:function(n){var t=this.options,e=this.canvasData,i=this.containerData,o=this.cropBoxData,s=this.pointers,r=this.action,a=t.aspectRatio,l=o.left,c=o.top,u=o.width,d=o.height,h=l+u,p=c+d,g=0,y=0,_=i.width,w=i.height,f=!0,m;!a&&n.shiftKey&&(a=u&&d?u/d:1),this.limited&&(g=o.minLeft,y=o.minTop,_=g+Math.min(i.width,e.width,e.left+e.width),w=y+Math.min(i.height,e.height,e.top+e.height));var b=s[Object.keys(s)[0]],v={x:b.endX-b.startX,y:b.endY-b.startY},x=function(k){switch(k){case ze:h+v.x>_&&(v.x=_-h);break;case $e:l+v.x<g&&(v.x=g-l);break;case Le:c+v.y<y&&(v.y=y-c);break;case un:p+v.y>w&&(v.y=w-p);break}};switch(r){case Tr:l+=v.x,c+=v.y;break;case ze:if(v.x>=0&&(h>=_||a&&(c<=y||p>=w))){f=!1;break}x(ze),u+=v.x,u<0&&(r=$e,u=-u,l-=u),a&&(d=u/a,c+=(o.height-d)/2);break;case Le:if(v.y<=0&&(c<=y||a&&(l<=g||h>=_))){f=!1;break}x(Le),d-=v.y,c+=v.y,d<0&&(r=un,d=-d,c-=d),a&&(u=d*a,l+=(o.width-u)/2);break;case $e:if(v.x<=0&&(l<=g||a&&(c<=y||p>=w))){f=!1;break}x($e),u-=v.x,l+=v.x,u<0&&(r=ze,u=-u,l-=u),a&&(d=u/a,c+=(o.height-d)/2);break;case un:if(v.y>=0&&(p>=w||a&&(l<=g||h>=_))){f=!1;break}x(un),d+=v.y,d<0&&(r=Le,d=-d,c-=d),a&&(u=d*a,l+=(o.width-u)/2);break;case Vn:if(a){if(v.y<=0&&(c<=y||h>=_)){f=!1;break}x(Le),d-=v.y,c+=v.y,u=d*a}else x(Le),x(ze),v.x>=0?h<_?u+=v.x:v.y<=0&&c<=y&&(f=!1):u+=v.x,v.y<=0?c>y&&(d-=v.y,c+=v.y):(d-=v.y,c+=v.y);u<0&&d<0?(r=Zn,d=-d,u=-u,c-=d,l-=u):u<0?(r=jn,u=-u,l-=u):d<0&&(r=Kn,d=-d,c-=d);break;case jn:if(a){if(v.y<=0&&(c<=y||l<=g)){f=!1;break}x(Le),d-=v.y,c+=v.y,u=d*a,l+=o.width-u}else x(Le),x($e),v.x<=0?l>g?(u-=v.x,l+=v.x):v.y<=0&&c<=y&&(f=!1):(u-=v.x,l+=v.x),v.y<=0?c>y&&(d-=v.y,c+=v.y):(d-=v.y,c+=v.y);u<0&&d<0?(r=Kn,d=-d,u=-u,c-=d,l-=u):u<0?(r=Vn,u=-u,l-=u):d<0&&(r=Zn,d=-d,c-=d);break;case Zn:if(a){if(v.x<=0&&(l<=g||p>=w)){f=!1;break}x($e),u-=v.x,l+=v.x,d=u/a}else x(un),x($e),v.x<=0?l>g?(u-=v.x,l+=v.x):v.y>=0&&p>=w&&(f=!1):(u-=v.x,l+=v.x),v.y>=0?p<w&&(d+=v.y):d+=v.y;u<0&&d<0?(r=Vn,d=-d,u=-u,c-=d,l-=u):u<0?(r=Kn,u=-u,l-=u):d<0&&(r=jn,d=-d,c-=d);break;case Kn:if(a){if(v.x>=0&&(h>=_||p>=w)){f=!1;break}x(ze),u+=v.x,d=u/a}else x(un),x(ze),v.x>=0?h<_?u+=v.x:v.y>=0&&p>=w&&(f=!1):u+=v.x,v.y>=0?p<w&&(d+=v.y):d+=v.y;u<0&&d<0?(r=jn,d=-d,u=-u,c-=d,l-=u):u<0?(r=Zn,u=-u,l-=u):d<0&&(r=Vn,d=-d,c-=d);break;case eu:this.move(v.x,v.y),f=!1;break;case nu:this.zoom(Tp(s),n),f=!1;break;case tu:if(!v.x||!v.y){f=!1;break}m=uu(this.cropper),l=b.startX-m.left,c=b.startY-m.top,u=o.minWidth,d=o.minHeight,v.x>0?r=v.y>0?Kn:Vn:v.x<0&&(l-=u,r=v.y>0?Zn:jn),v.y<0&&(c-=d),this.cropped||(ae(this.cropBox,Wt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}f&&(o.width=u,o.height=d,o.left=l,o.top=c,this.action=r,this.renderCropBox()),wt(s,function(k){k.startX=k.endX,k.startY=k.endY})}},$p={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Tt(this.dragBox,yo),ae(this.cropBox,Wt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ft({},this.initialImageData),this.canvasData=ft({},this.initialCanvasData),this.cropBoxData=ft({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ft(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ae(this.dragBox,yo),Tt(this.cropBox,Wt)),this},replace:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&n&&(this.isImg&&(this.element.src=n),t?(this.url=n,this.image.src=n,this.ready&&(this.viewBoxImage.src=n,wt(this.previews,function(e){e.getElementsByTagName("img")[0].src=n}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(n))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ae(this.cropper,tl)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Tt(this.cropper,tl)),this},destroy:function(){var n=this.element;return n[gt]?(n[gt]=void 0,this.isImg&&this.replaced&&(n.src=this.originalUrl),this.uncreate(),this):this},move:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,e=this.canvasData,i=e.left,o=e.top;return this.moveTo(ss(n)?n:i+Number(n),ss(t)?t:o+Number(t))},moveTo:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,e=this.canvasData,i=!1;return n=Number(n),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(tt(n)&&(e.left=n,i=!0),tt(t)&&(e.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(n,t){var e=this.canvasData;return n=Number(n),n<0?n=1/(1-n):n=1+n,this.zoomTo(e.width*n/e.naturalWidth,null,t)},zoomTo:function(n,t,e){var i=this.options,o=this.canvasData,s=o.width,r=o.height,a=o.naturalWidth,l=o.naturalHeight;if(n=Number(n),n>=0&&this.ready&&!this.disabled&&i.zoomable){var c=a*n,u=l*n;if(Cn(this.element,Hs,{ratio:n,oldRatio:s/a,originalEvent:e})===!1)return this;if(e){var d=this.pointers,h=uu(this.cropper),p=d&&Object.keys(d).length?Lp(d):{pageX:e.pageX,pageY:e.pageY};o.left-=(c-s)*((p.pageX-h.left-o.left)/s),o.top-=(u-r)*((p.pageY-h.top-o.top)/r)}else yn(t)&&tt(t.x)&&tt(t.y)?(o.left-=(c-s)*((t.x-o.left)/s),o.top-=(u-r)*((t.y-o.top)/r)):(o.left-=(c-s)/2,o.top-=(u-r)/2);o.width=c,o.height=u,this.renderCanvas(!0)}return this},rotate:function(n){return this.rotateTo((this.imageData.rotate||0)+Number(n))},rotateTo:function(n){return n=Number(n),tt(n)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=n%360,this.renderCanvas(!0,!0)),this},scaleX:function(n){var t=this.imageData.scaleY;return this.scale(n,tt(t)?t:1)},scaleY:function(n){var t=this.imageData.scaleX;return this.scale(tt(t)?t:1,n)},scale:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,e=this.imageData,i=!1;return n=Number(n),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(tt(n)&&(e.scaleX=n,i=!0),tt(t)&&(e.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.options,e=this.imageData,i=this.canvasData,o=this.cropBoxData,s;if(this.ready&&this.cropped){s={x:o.left-i.left,y:o.top-i.top,width:o.width,height:o.height};var r=e.width/e.naturalWidth;if(wt(s,function(c,u){s[u]=c/r}),n){var a=Math.round(s.y+s.height),l=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=l-s.x,s.height=a-s.y}}else s={x:0,y:0,width:0,height:0};return t.rotatable&&(s.rotate=e.rotate||0),t.scalable&&(s.scaleX=e.scaleX||1,s.scaleY=e.scaleY||1),s},setData:function(n){var t=this.options,e=this.imageData,i=this.canvasData,o={};if(this.ready&&!this.disabled&&yn(n)){var s=!1;t.rotatable&&tt(n.rotate)&&n.rotate!==e.rotate&&(e.rotate=n.rotate,s=!0),t.scalable&&(tt(n.scaleX)&&n.scaleX!==e.scaleX&&(e.scaleX=n.scaleX,s=!0),tt(n.scaleY)&&n.scaleY!==e.scaleY&&(e.scaleY=n.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var r=e.width/e.naturalWidth;tt(n.x)&&(o.left=n.x*r+i.left),tt(n.y)&&(o.top=n.y*r+i.top),tt(n.width)&&(o.width=n.width*r),tt(n.height)&&(o.height=n.height*r),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?ft({},this.containerData):{}},getImageData:function(){return this.sized?ft({},this.imageData):{}},getCanvasData:function(){var n=this.canvasData,t={};return this.ready&&wt(["left","top","width","height","naturalWidth","naturalHeight"],function(e){t[e]=n[e]}),t},setCanvasData:function(n){var t=this.canvasData,e=t.aspectRatio;return this.ready&&!this.disabled&&yn(n)&&(tt(n.left)&&(t.left=n.left),tt(n.top)&&(t.top=n.top),tt(n.width)?(t.width=n.width,t.height=n.width/e):tt(n.height)&&(t.height=n.height,t.width=n.height*e),this.renderCanvas(!0)),this},getCropBoxData:function(){var n=this.cropBoxData,t;return this.ready&&this.cropped&&(t={left:n.left,top:n.top,width:n.width,height:n.height}),t||{}},setCropBoxData:function(n){var t=this.cropBoxData,e=this.options.aspectRatio,i,o;return this.ready&&this.cropped&&!this.disabled&&yn(n)&&(tt(n.left)&&(t.left=n.left),tt(n.top)&&(t.top=n.top),tt(n.width)&&n.width!==t.width&&(i=!0,t.width=n.width),tt(n.height)&&n.height!==t.height&&(o=!0,t.height=n.height),e&&(i?t.height=t.width/e:o&&(t.width=t.height*e)),this.renderCropBox()),this},getCroppedCanvas:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,e=Np(this.image,this.imageData,t,n);if(!this.cropped)return e;var i=this.getData(n.rounded),o=i.x,s=i.y,r=i.width,a=i.height,l=e.width/Math.floor(t.naturalWidth);l!==1&&(o*=l,s*=l,r*=l,a*=l);var c=r/a,u=Oe({aspectRatio:c,width:n.maxWidth||1/0,height:n.maxHeight||1/0}),d=Oe({aspectRatio:c,width:n.minWidth||0,height:n.minHeight||0},"cover"),h=Oe({aspectRatio:c,width:n.width||(l!==1?e.width:r),height:n.height||(l!==1?e.height:a)}),p=h.width,g=h.height;p=Math.min(u.width,Math.max(d.width,p)),g=Math.min(u.height,Math.max(d.height,g));var y=document.createElement("canvas"),_=y.getContext("2d");y.width=xn(p),y.height=xn(g),_.fillStyle=n.fillColor||"transparent",_.fillRect(0,0,p,g);var w=n.imageSmoothingEnabled,f=w===void 0?!0:w,m=n.imageSmoothingQuality;_.imageSmoothingEnabled=f,m&&(_.imageSmoothingQuality=m);var b=e.width,v=e.height,x=o,k=s,E,L,I,H,j,Z;x<=-r||x>b?(x=0,E=0,I=0,j=0):x<=0?(I=-x,x=0,E=Math.min(b,r+x),j=E):x<=b&&(I=0,E=Math.min(r,b-x),j=E),E<=0||k<=-a||k>v?(k=0,L=0,H=0,Z=0):k<=0?(H=-k,k=0,L=Math.min(v,a+k),Z=L):k<=v&&(H=0,L=Math.min(a,v-k),Z=L);var $=[x,k,E,L];if(j>0&&Z>0){var Y=p/r;$.push(I*Y,H*Y,j*Y,Z*Y)}return _.drawImage.apply(_,[e].concat(Qc($.map(function(P){return Math.floor(xn(P))})))),y},setAspectRatio:function(n){var t=this.options;return!this.disabled&&!ss(n)&&(t.aspectRatio=Math.max(0,n)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(n){var t=this.options,e=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var o=n===Lr,s=t.movable&&n===iu;n=o||s?n:ou,t.dragMode=n,_i(e,yi,n),_n(e,Os,o),_n(e,Ps,s),t.cropBoxMovable||(_i(i,yi,n),_n(i,Os,o),_n(i,Ps,s))}return this}},Up=pe.Cropper,hu=function(){function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(np(this,n),!t||!mp.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=ft({},ul,yn(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return ip(n,[{key:"init",value:function(){var t=this.element,e=t.tagName.toLowerCase(),i;if(!t[gt]){if(t[gt]=this,e==="img"){if(this.isImg=!0,i=t.getAttribute("src")||"",this.originalUrl=i,!i)return;i=t.src}else e==="canvas"&&window.HTMLCanvasElement&&(i=t.toDataURL());this.load(i)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,o=this.options;if(!o.rotatable&&!o.scalable&&(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer){this.clone();return}if(gp.test(t)){fp.test(t)?this.read(Op(t)):this.clone();return}var s=new XMLHttpRequest,r=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=r,s.onerror=r,s.ontimeout=r,s.onprogress=function(){s.getResponseHeader("content-type")!==cl&&s.abort()},s.onload=function(){e.read(s.response)},s.onloadend=function(){e.reloading=!1,e.xhr=null},o.checkCrossOrigin&&hl(t)&&i.crossOrigin&&(t=pl(t)),s.open("GET",t,!0),s.responseType="arraybuffer",s.withCredentials=i.crossOrigin==="use-credentials",s.send()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,o=Fp(t),s=0,r=1,a=1;if(o>1){this.url=Pp(t,cl);var l=Ip(o);s=l.rotate,r=l.scaleX,a=l.scaleY}e.rotatable&&(i.rotate=s),e.scalable&&(i.scaleX=r,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,o=e;this.options.checkCrossOrigin&&hl(e)&&(i||(i="anonymous"),o=pl(e)),this.crossOrigin=i,this.crossOriginUrl=o;var s=document.createElement("img");i&&(s.crossOrigin=i),s.src=o||e,s.alt=t.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),Tt(s,el),t.parentNode.insertBefore(s,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=pe.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(pe.navigator.userAgent),o=function(a,l){ft(t.imageData,{naturalWidth:a,naturalHeight:l,aspectRatio:a/l}),t.initialImageData=ft({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(e.naturalWidth&&!i){o(e.naturalWidth,e.naturalHeight);return}var s=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){o(s.width,s.height),i||r.removeChild(s)},s.src=e.src,i||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(s))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var t=this.element,e=this.options,i=this.image,o=t.parentNode,s=document.createElement("div");s.innerHTML=yp;var r=s.querySelector(".".concat(gt,"-container")),a=r.querySelector(".".concat(gt,"-canvas")),l=r.querySelector(".".concat(gt,"-drag-box")),c=r.querySelector(".".concat(gt,"-crop-box")),u=c.querySelector(".".concat(gt,"-face"));this.container=o,this.cropper=r,this.canvas=a,this.dragBox=l,this.cropBox=c,this.viewBox=r.querySelector(".".concat(gt,"-view-box")),this.face=u,a.appendChild(i),Tt(t,Wt),o.insertBefore(r,t.nextSibling),ae(i,el),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,Tt(c,Wt),e.guides||Tt(c.getElementsByClassName("".concat(gt,"-dashed")),Wt),e.center||Tt(c.getElementsByClassName("".concat(gt,"-center")),Wt),e.background&&Tt(r,"".concat(gt,"-bg")),e.highlight||Tt(u,cp),e.cropBoxMovable&&(Tt(u,Ps),_i(u,yi,Tr)),e.cropBoxResizable||(Tt(c.getElementsByClassName("".concat(gt,"-line")),Wt),Tt(c.getElementsByClassName("".concat(gt,"-point")),Wt)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),Ht(e.ready)&&Zt(t,rl,e.ready,{once:!0}),Cn(t,rl)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),ae(this.element,Wt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Up,n}},{key:"setDefaults",value:function(t){ft(ul,yn(t)&&t)}}])}();ft(hu.prototype,Rp,Bp,Hp,Wp,zp,$p);function pu({imageData:n,type:t="image/png",cropBoxData:e,aspectRatio:i,cropOptions:o=!0}){const s=document.createElement("div");s.style.display="flex",s.style.flexDirection="column",s.style.gap="24px";const r=document.createElement("img");r.style.display="block",r.style.aspectRatio="384 / 188",r.style.objectPosition="center",r.style.objectFit="cover",r.style.width="100%",r.style.aspectRatio="16/9",r.src=n;const a=document.createElement("div");a.style.display="flex",a.style.flexDirection="column",a.style.gap="32px";let l=(e==null?void 0:e.zoomLevel)||0;if(o){const E=[{title:"Custom",value:null},{title:"Original",value:(()=>{const{width:j,height:Z}=jp(n);return j/Z})()},{title:"1:1",value:1},{title:"4:3",value:1.3333333333333333},{title:"3:4",value:.75},{title:"16:9",value:1.7777777777777777},{title:"9:12",value:.75},{title:"3:2",value:1.5},{title:"2:3",value:.6666666666666666}],L=document.createElement("div"),I=document.createElement("header"),H=document.createElement("div");H.style.padding="10px",H.style.borderRadius="10px",H.style.boxShadow="0px 5px 10px rgba(0,0,0,0.2)",H.style.display="flex",H.style.alignItems="center",H.style.gap="8px",L.style.display="flex",L.style.flexDirection="column",L.style.gap="8px",E.forEach((j,Z)=>{const $=document.createElement("button");$.innerText=j.title,$.style.borderRadius="6px",$.style.padding="6px 12px",$.style.backgroundColor="white",$.style.border="none",$.style.cursor="pointer",$.style.position="relative",$.type="button",$.color="black",H.appendChild($),H.style.boxShadow="0px 2px 5px rgba(0,0,0,0.2)",$.onclick=()=>{k.setAspectRatio(j.value),[...H.children].forEach(Y=>{Y.style.backgroundColor="transparent"}),$.style.backgroundColor="#eeeeee"},Z===0&&($.style.backgroundColor="#eeeeee")}),I.innerText="Crop",L.append(I,H),a.appendChild(L)}const c=document.createElement("label"),u=document.createElement("header"),d=document.createElement("span"),h=document.createElement("button"),p=document.createElement("input"),g=document.createElement("span");g.innerHTML=lt.reset,d.innerText="Zoom",h.type="button",h.style.background="transparent",h.style.cursor="pointer",h.style.border="none",h.append(g),fl(u),u.append(d,h),p.type="range",p.min="-50",p.max="50",p.value=l,p.step="",p.id="zoom",ml(p),c.htmlFor="zoom",gl(c),c.append(u,p);const y=document.createElement("label"),_=document.createElement("header"),w=document.createElement("span"),f=document.createElement("button"),m=document.createElement("input"),b=document.createElement("span");b.innerHTML=lt.reset,b.innerHTML=lt.reset,w.innerText="Rotate",f.type="button",f.style.background="transparent",f.style.cursor="pointer",f.style.border="none",f.append(b),fl(_),_.append(w,f),m.type="range",m.min="-180",m.max="180",m.value=(e==null?void 0:e.rotateValue)||0,m.step="",m.id="rotate",ml(m),y.htmlFor="rotate",gl(y),y.append(_,m),a.append(c,y);const v=document.createElement("button");v.innerText="Submit",v.style.background="black",v.style.padding="16px 32px",v.style.borderRadius="12px",v.style.color="white",s.append(r,a,v);let x;const k=new hu(r,{viewMode:0,rotatable:!0,zoomable:!0,zoom(E){x||(x=E.detail.ratio)},movable:!0,autoCropArea:1,zoomOnWheel:!1,dragMode:"move",ready:function(){console.dir(this.cropper),e&&this.cropper.setCropBoxData(e.cropBoxData).setCanvasData(e.canvasData).setData(e.corpperData),i&&this.cropper.setAspectRatio(i)}});return p.oninput=E=>{const L=E.target.value-l;L>0?k.zoom(.1):L<0&&k.zoom(-.1),l=E.target.value},h.onclick=()=>{p.value="0",k.zoomTo(x)},m.oninput=E=>{const L=parseInt(E.target.value);k.rotateTo(L)},f.onclick=()=>{m.value="0",k.rotateTo(0)},v.onclick=()=>{const E=k.getCroppedCanvas().toDataURL(t),L=new CustomEvent("prompt-result",{detail:{imageData:E,cropBoxData:{canvasData:k.getCanvasData(),cropBoxData:k.getCropBoxData(),corpperData:k.getData(),zoomLevel:l,rotateValue:m.value}}});window.dispatchEvent(L)},Vp(s),s}function gl(n){n.style.display="flex",n.style.flexDirection="column",n.style.gap="24px",n.style.fontSize="18px",n.style.fontStyle="normal",n.style.fontSeight="500"}function fl(n){n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="space-between",n.style.gap="10px"}function ml(n){n.style.appearance="none",n.style.borderRadius="99px",n.style.height="9px",n.style.backgroundColor="black",n.style.accentColor="white",n.classList.add("custom-range")}function Vp(n){const t=document.createElement("style"),e=`
  .custom-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    background: white;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    border: 2px solid black;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0, 0.3)
  }
  `;t.innerHTML=e,n.prepend(t)}function jp(n){if(!n)return null;const t=new Image;for(t.src=n;!t.complete;);return{width:t.width,height:t.height}}function Kp(n){const{altText:t,src:e,url:i,target:o,rels:s,originalSrc:r,cropBoxData:a}=n,l=document.createElement("div");l.style.display="flex",l.style.gap="16px",l.style.flexDirection="column";const c=document.createElement("div"),u=document.createElement("button"),d=document.createElement("button");u.innerHTML="Upload from Device",d.innerHTML="Paste URL",ji(u),ji(d),u.active(),c.style.display="flex",c.style.gap="16px",c.style.alignItems="center",c.append(u,d);const h=document.createElement("form");h.style.display="flex",h.style.flexDirection="column",h.style.gap="16px";const p=document.createElement("label"),g=document.createElement("div"),y=document.createElement("span"),_=document.createElement("div"),w=document.createElement("input");p.htmlFor="device-input-upload",p.style.padding="16px",p.style.border="3px dashed black",p.style.display="flex",p.style.alignItems="center",p.style.borderRadius="10px",p.style.gap="16px",p.style.cursor="pointer",p.style.position="relative",g.style.display="flex",g.style.alignItems="center",g.style.gap="16px",y.innerText="Click to upload image from device",_.innerHTML=lt.upload,_.style.display="flex",_.style.alignItems="center",_.style.color="black",w.type="file",w.id="device-input-upload",w.name="device-input-upload",w.accept="image/*",e||(w.required="required"),w.style.position="absolute",w.style.opacity="0",w.style.width="10px",g.append(_,y),p.append(g,w);const f=document.createElement("label"),m=document.createElement("span"),b=document.createElement("input");f.htmlFor="url-input-upload",f.style.display="flex",f.style.flexDirection="column",f.style.gap="8px",f.style.color="black",Zp(b),m.innerHTML="Add Image Url",m.style.fontSize="14px",b.type="url",b.id="url-input-upload",f.append(m,b),f.style.display="none",b.removeAttribute("required"),h.append(p,f),l.append(c,h),u.onclick=()=>{u.active(),d.reset(),f.style.display="none",b.removeAttribute("required"),p.style.display="flex",w.setAttribute("required","required")},d.onclick=()=>{d.active(),u.reset(),f.style.display="flex",b.setAttribute("required","required"),p.style.display="none",w.removeAttribute("required")};const v=document.createElement("div"),x=document.createElement("img"),k=document.createElement("div"),E=document.createElement("button"),L=document.createElement("button"),I=document.createElement("div"),H=document.createElement("div"),j=document.createElement("div"),Z=document.createElement("span");x.style.width="100%",x.style.borderRadius="12px",e&&(x.src=e),E.innerText="Edit Image",L.innerText="Remove Image",E.type="button",L.type="button",ji(E),ji(L),E.style.width="100%",L.style.width="100%",E.active(),E.style.paddingBlock="12px",L.style.paddingBlock="12px",k.style.gap="16px",k.style.display="none",e&&(k.style.display="flex"),H.style.display="flex",H.style.flexDirection="column",H.style.gap="4px",H.style.alignItems="center",H.style.position="absolute",H.style.top="50%",H.style.left="50%",H.style.transform="translate(-50%, -50%)",H.style.color="red",H.style.transition="opacity 400ms ease-out",H.style.opacity="0",j.innerHTML=lt.error,j.style.display="flex",j.style.width="64px",j.style.height="64px",j.children[0].style.width="100%",j.children[0].style.height="auto",Z.innerText="There was an error loading this image!",Z.style.fontSize="14px",H.append(j,Z),I.style.position="absolute",I.style.top="50%",I.style.left="50%",I.style.transform="translate(-50%, -50%)",I.style.width="100px",I.style.height="100px",I.style.borderRadius="100px",I.style.border="6px solid black",I.style.borderTopColor="transparent",I.style.transition="opacity 400ms ease-out",I.style.opacity="0",I.animate({transform:["translate(-50%, -50%) rotate(0deg)","translate(-50%, -50%) rotate(3600deg)"]},{duration:1e4,easing:"linear",iterations:1/0}),v.style.position="relative",v.style.borderRadius="12px",v.style.width="100%",e||(v.style.aspectRatio="16/9"),v.style.backgroundColor="#eeeeee",v.append(x,I,H),k.append(E,L),h.append(v,k);const $=document.createElement("label"),Y=document.createElement("span"),P=document.createElement("input");$.classList.add("CrimsonEditorTheme__form-field"),$.htmlFor="image-alt",P.id="image-alt",P.type="text",P.name="alt",P.value=t||"",Y.innerText="Image Alt",$.style.display="none",e&&($.style.display="flex"),$.appendChild(Y),$.appendChild(P),h.append($);const C=document.createElement("div"),S=document.createElement("label"),A=document.createElement("input"),O=document.createElement("p");C.classList.add("CrimsonEditorTheme__inputs-wrapper"),S.htmlFor="hyperlinkchoice",S.style.cursor="pointer",A.id="hyperlinkchoice",A.value="",A.type="checkbox",A.checked=!!i,O.innerText="Hyperlink this Image",C.style.display="none",e&&(C.style.display="flex"),S.appendChild(A),S.appendChild(O),C.append(S),h.appendChild(C);const T=document.createElement("div");T.style.display="none",i&&(T.style.display="flex"),T.style.flexDirection="column",T.style.gap="16px";const N=document.createElement("label"),F=document.createElement("span"),M=document.createElement("input");N.classList.add("CrimsonEditorTheme__form-field"),N.htmlFor="linkurl",M.id="linkurl",M.type="url",M.name="url",M.value=i||"",F.innerText="Link Url",N.appendChild(F),N.appendChild(M);const z=document.createElement("div"),U=document.createElement("p"),q=document.createElement("div"),X=Qh.map(nt=>{const mt=document.createElement("label"),dt=document.createElement("input"),oe=document.createElement("p");return mt.style.cursor="pointer",mt.htmlFor=nt.value,dt.id=nt.value,dt.value=nt.value,dt.type="radio",dt.name="target",dt.checked=nt.value===o,oe.innerText=nt.text,mt.appendChild(dt),mt.appendChild(oe),q.appendChild(mt),dt});z.classList.add("CrimsonEditorTheme__form-field"),U.innerText="Link Target",q.classList.add("CrimsonEditorTheme__inputs-wrapper"),z.appendChild(U),z.appendChild(q);const J=document.createElement("div"),Q=document.createElement("p"),at=document.createElement("div"),st=tp.map(nt=>{const mt=document.createElement("label"),dt=document.createElement("input"),oe=document.createElement("p");return mt.htmlFor=nt.value,mt.style.cursor="pointer",dt.id=nt.value,dt.value=nt.value,dt.name=nt.value,dt.type="checkbox",dt.checked=s?s.split(" ").includes(nt.value):!1,oe.innerText=nt.text,mt.appendChild(dt),mt.appendChild(oe),at.appendChild(mt),dt});J.classList.add("CrimsonEditorTheme__form-field"),Q.innerText="Link Rel",at.classList.add("CrimsonEditorTheme__inputs-wrapper"),J.appendChild(Q),J.appendChild(at),T.append(N,z,J),h.append(T),A.onchange=()=>{A.checked?(T.style.display="flex",M.required="required"):(T.style.display="none",X.forEach(nt=>{nt.checked=!1}),st.forEach(nt=>{nt.checked=!1}),M.value="",M.removeAttribute("required"))};const ht=document.createElement("button");ht.type="submit",ht.innerText=e?"Edit Image":"Add Image",ht.classList="CrimsonEditorTheme__modal-submit-button",h.append(ht);function Pt(){H.style.opacity="0",I.style.opacity="1"}function bt(nt){H.style.opacity="1",Z.innerHTML=nt,I.style.opacity="0"}function St(){H.style.opacity="0",I.style.opacity="0",v.style.aspectRatio="16/9"}let fe=r||e||null,Oi,Fn=a||null;w.onchange=async()=>{const nt=w.files[0];if(!nt)return bt("No Image Selected!");if(!nt.type.includes("image")){bt("The file you selected is not an image!"),w.value="";return}Oi=nt.type;try{Pt();const mt=await mo(nt);x.src=mt,fe=mt,k.style.display="flex",C.style.display="flex",$.style.display="flex",St(),v.style.aspectRatio=""}catch(mt){bt(mt),$.style.display="none"}};let Pi;return b.oninput=()=>{b.value.length>5?(clearTimeout(Pi),Pt(),Pi=setTimeout(async()=>{try{const nt=await mo(b.value);x.src=nt,fe=nt,St(),v.style.aspectRatio="",k.style.display="flex",C.style.display="flex",$.style.display="flex"}catch(nt){x.src="",v.style.aspectRatio="16/9",$.style.display="none",bt(nt)}},1e3)):(x.src="",v.style.aspectRatio="16/9",$.style.display="none")},E.onclick=async()=>{const nt=mn({title:"Edit image"});nt.open(pu({imageData:fe,type:Oi,cropBoxData:Fn}));const{imageData:mt,cropBoxData:dt}=await nt.result();dt&&(Fn=dt),v.style.aspectRatio="",x.src=mt},L.onclick=()=>{fe=null,k.style.display="none",x.src="",w.value="",b.value="",A.checked=!1,C.style.display="none",T.style.display="none",$.style.display="none",w.required="required",P.value="",St()},h.onsubmit=nt=>{nt.preventDefault();const mt=new FormData(h);mt.delete("device-input-upload");const dt={};mt.forEach((Fi,Ii)=>{dt[Ii]=Fi}),dt.imageData=x.src,dt.originalSrc=fe,dt.cropBoxData=Fn;const oe=new CustomEvent("prompt-result",{detail:dt});window.dispatchEvent(oe)},l}function ji(n){n.style.padding="8px 16px",n.style.borderRadius="10px",n.style.backgroundColor="transparent",n.style.border="1px solid black",n.style.color="black",n.style.cursor="pointer",n.style.fontSize="14px",n.type="button",n.active=()=>{n.style.backgroundColor="black",n.style.color="white"},n.reset=()=>{n.style.backgroundColor="transparent",n.style.color="black"}}function Zp(n){n.style.border="1px solid rgb(228, 228, 228)",n.style.borderRadius="10px",n.style.padding="12px 16px",n.style.outline="none"}function qp(n){const{defaultLink:t,defaultAnchorText:e,isImageLink:i}=n,o=document.createElement("form"),s=document.createElement("label"),r=document.createElement("span"),a=document.createElement("div");s.htmlFor="link-title",s.classList.add("CrimsonEditorTheme__form-field"),a.innerText=e||"",r.innerText="Anchor Text:",s.appendChild(r),s.appendChild(a);const l=document.createElement("input");l.id="linkurl",l.type="url",l.name="url",l.required="required",l.value=t||"",o.style.display="flex",o.style.flexDirection="column",o.style.gap="16px";const c=document.createElement("button");return c.type="submit",c.innerText="Submit",c.classList="CrimsonEditorTheme__modal-submit-button",!i&&o.appendChild(s),o.appendChild(l),o.appendChild(c),o.onsubmit=u=>{u.preventDefault();const d=new FormData(o),h={};d.forEach((g,y)=>{h[y]=g}),h.title=e||"",h.target="_blank",h.rel="dofollow";const p=new CustomEvent("prompt-result",{detail:h});window.dispatchEvent(p)},o}function Mt(n){if(typeof n=="string")return document.createElement(n);const{tag:t,classNames:e,text:i,attributes:o,styles:s}=n,r=document.createElement(t);return e&&r.classList.add(...e.split(" ")),i&&(r.innerHTML=i),o&&Object.entries(o).forEach(([a,l])=>{r.setAttribute(a,l)}),s&&Object.entries(s).forEach(([a,l])=>{r.style[a]=l}),r}const Yp=10,Ue=10,Xp={border:"1px solid #ccc",backgroundColor:"white",width:"100%",aspectRatio:"1/1",textAlign:"center",lineHeight:"30px",borderRadius:"25%",transition:"background-color 300ms ease-out"},yl={fontSize:"20px"},_l={display:"flex",flexDirection:"column",gap:"16px"},bl={backgroundColor:"black",padding:"12px 16px",color:"white",fontSize:"16px",textAlign:"center",borderRadius:"16px",cursor:"pointer",border:"none"},vl={border:"1px solid rgb(228, 228, 228)",borderRadius:"10px",padding:"12px 16px",outline:"none",fontFamily:"inherit",color:"black"};function Jp(){const n=Mt({tag:"div",styles:{display:"flex",flexDirection:"column",gap:"20px"}}),t=Mt({tag:"div",styles:_l}),e=Mt({tag:"h2",classNames:"Highlight",text:"Highlight Grid",styles:yl}),i=Mt({tag:"div",styles:{display:"grid",gridTemplateColumns:"repeat(10, minmax(auto,30px))",gap:"2px",justifyContent:"center"}}),o=Mt({tag:"button",text:"Create Table",attributes:{type:"button","aria-label":"create table highlight"},styles:bl});for(let h=0;h<Yp*Ue;h++){const p=Mt({tag:"div",classNames:"cell",styles:Xp});i.appendChild(p)}const s={rows:1,columns:1};i.addEventListener("mouseover",h=>{if(h.target.classList.contains("cell")){const p=i.querySelectorAll(".cell");p.forEach(w=>{w.classList.remove("highlight"),w.classList.contains("selected")?w.style.backgroundColor="#add8e6":w.style.backgroundColor="add8e680"});const g=Array.from(p).indexOf(h.target),y=Math.floor(g/Ue),_=g%Ue;for(let w=0;w<=y;w++)for(let f=0;f<=_;f++){const m=p[w*Ue+f];m.classList.contains("selected")||(m.classList.add("highlight"),m.style.backgroundColor="#add8e680")}}}),i.addEventListener("mouseout",()=>{i.querySelectorAll(".cell").forEach(h=>{h.classList.remove("highlight"),h.classList.contains("selected")?h.style.backgroundColor="#add8e6":h.style.backgroundColor="transparent"})}),i.addEventListener("click",h=>{if(h.target.classList.contains("cell")){const p=i.querySelectorAll(".cell");p.forEach(w=>{w.classList.remove("selected"),w.style.backgroundColor="transparent"});const g=Array.from(p).indexOf(h.target),y=Math.floor(g/Ue),_=g%Ue;for(let w=0;w<=y;w++)for(let f=0;f<=_;f++){const m=p[w*Ue+f];m.classList.add("selected"),m.style.backgroundColor="#add8e6"}s.rows=y+1,s.columns=_+1}}),t.append(e,i,o),o.onclick=h=>{const p=new CustomEvent("prompt-result",{detail:s});window.dispatchEvent(p)};const r=Mt({tag:"form",styles:_l}),a=Mt({tag:"h2",text:"Add Rows and Columns",styles:yl}),l=Mt({tag:"div",styles:{display:"flex",flexDirection:"column",gap:"12px"}}),c=Mt({tag:"input",attributes:{type:"number",placeholder:"Number of Rows",min:1,value:1},styles:vl}),u=Mt({tag:"input",attributes:{type:"number",placeholder:"Number of Columns",min:1,value:1},styles:vl}),d=Mt({tag:"button",text:"Create Table",attributes:{type:"button","aria-label":"create table form"},styles:bl});return d.onclick=h=>{const p=new CustomEvent("prompt-result",{detail:{rows:c.valueAsNumber,columns:u.valueAsNumber}});window.dispatchEvent(p)},l.append(c,u),r.append(a,l,d),n.append(t,r),n}function Gp(n){const t=document.createElement("video");return t.setAttribute("src",n),new Promise((e,i)=>{t.addEventListener("loadedmetadata",()=>{e(!0)}),t.addEventListener("error",()=>{e(!1)})})}function Qp(n){const{src:t}=n,e=document.createElement("div");e.style.display="flex",e.style.gap="16px",e.style.flexDirection="column";const i=document.createElement("form");i.style.display="flex",i.style.flexDirection="column",i.style.gap="16px";const o=document.createElement("label"),s=document.createElement("span"),r=document.createElement("input");o.htmlFor="url-input-upload",o.style.display="flex",o.style.flexDirection="column",o.style.gap="8px",wl(r),s.innerHTML="Add Video Url",s.style.fontSize="14px",r.type="url",r.setAttribute("required","required"),r.id="url-input-upload",o.append(s,r),i.append(o);const a=document.createElement("div"),l=document.createElement("video"),c=document.createElement("div"),u=document.createElement("button"),d=document.createElement("div"),h=document.createElement("div"),p=document.createElement("div"),g=document.createElement("span");l.style.width="100%",l.style.display="block",l.style.borderRadius="12px",t&&(l.src=t),u.innerText="Remove Video",u.type="button",qn(u),u.style.width="100%",u.style.paddingBlock="12px",c.style.gap="16px",c.style.display="none",t&&(c.style.display="flex"),h.style.display="flex",h.style.flexDirection="column",h.style.gap="4px",h.style.alignItems="center",h.style.position="absolute",h.style.top="50%",h.style.left="50%",h.style.transform="translate(-50%, -50%)",h.style.color="red",h.style.transition="opacity 400ms ease-out",h.style.opacity="0",p.innerHTML=lt.error,p.style.display="flex",p.style.width="64px",p.style.height="64px",p.children[0].style.width="100%",p.children[0].style.height="auto",g.innerText="There was an error loading this Video!",g.style.fontSize="14px",h.append(p,g),d.style.position="absolute",d.style.top="50%",d.style.left="50%",d.style.transform="translate(-50%, -50%)",d.style.width="100px",d.style.height="100px",d.style.borderRadius="100px",d.style.border="6px solid black",d.style.borderTopColor="transparent",d.style.transition="opacity 400ms ease-out",d.style.opacity="0",d.animate({transform:["translate(-50%, -50%) rotate(0deg)","translate(-50%, -50%) rotate(3600deg)"]},{duration:1e4,easing:"linear",iterations:1/0}),a.style.position="relative",a.style.borderRadius="12px",a.style.width="100%",t||(a.style.aspectRatio="16/9"),a.style.backgroundColor="#eeeeee",a.append(l,d,h),c.append(u),i.append(a,c);function y(){h.style.opacity="0",d.style.opacity="1"}function _(st){h.style.opacity="1",g.innerHTML=st,d.style.opacity="0"}function w(){h.style.opacity="0",d.style.opacity="0",a.style.aspectRatio="16/9"}let f,m;r.oninput=async()=>{r.value.length>5?(clearTimeout(m),y(),m=setTimeout(async()=>{try{if(await Gp(r.value))l.src=r.value,w(),a.style.aspectRatio="",c.style.display="flex";else throw new Error("Link does not lead to a video file")}catch(st){l.src="",a.style.aspectRatio="16/9",_(st)}},1e3)):(l.src="",a.style.aspectRatio="16/9")},u.onclick=()=>{c.style.display="none",l.src="",r.value="",w()};const b=document.createElement("div");b.style.display="flex",b.style.gap="16px",b.style.flexDirection="column",i.append(b);const v=document.createElement("div"),x=document.createElement("button"),k=document.createElement("button");x.innerHTML="Upload from Device",k.innerHTML="Paste URL",qn(x),qn(k),x.active(),v.style.display="flex",v.style.gap="16px",v.style.alignItems="center",v.append(x,k);const E=document.createElement("label"),L=document.createElement("div"),I=document.createElement("span"),H=document.createElement("div"),j=document.createElement("input");E.htmlFor="device-poster-input-upload",E.style.padding="16px",E.style.border="3px dashed black",E.style.display="flex",E.style.alignItems="center",E.style.borderRadius="10px",E.style.gap="16px",E.style.cursor="pointer",E.style.position="relative",L.style.display="flex",L.style.alignItems="center",L.style.gap="16px",I.innerText="Click to upload image from device",H.innerHTML=lt.upload,H.style.display="flex",H.style.alignItems="center",j.type="file",j.id="device-poster-input-upload",j.accept="image/*",j.name="device-poster-input-upload",j.style.position="absolute",j.style.opacity="0",j.style.width="10px",L.append(H,I),E.append(L,j);const Z=document.createElement("label"),$=document.createElement("span"),Y=document.createElement("input");Z.htmlFor="url-input-upload",Z.style.display="flex",Z.style.flexDirection="column",Z.style.gap="8px",wl(Y),$.innerHTML="Add Image Url",$.style.fontSize="14px",Y.type="url",Y.id="url-input-upload",Z.append($,Y),Z.style.display="none",Y.removeAttribute("required"),b.append(v,E,Z),x.onclick=()=>{x.active(),k.reset(),Z.style.display="none",r.removeAttribute("required"),E.style.display="flex",j.setAttribute("required","required")},k.onclick=()=>{k.active(),x.reset(),Z.style.display="flex",r.setAttribute("required","required"),E.style.display="none",j.removeAttribute("required")};const P=document.createElement("div"),C=document.createElement("img"),S=document.createElement("div"),A=document.createElement("button"),O=document.createElement("button"),T=document.createElement("div"),N=document.createElement("div"),F=document.createElement("div"),M=document.createElement("span");C.style.width="100%",C.style.borderRadius="12px",t&&(C.src=t),A.innerText="Edit Image",O.innerText="Remove Image",A.type="button",O.type="button",qn(A),qn(O),A.style.width="100%",O.style.width="100%",A.active(),A.style.paddingBlock="12px",O.style.paddingBlock="12px",S.style.gap="16px",S.style.display="none",t&&(S.style.display="flex"),N.style.display="flex",N.style.flexDirection="column",N.style.gap="4px",N.style.alignItems="center",N.style.position="absolute",N.style.top="50%",N.style.left="50%",N.style.transform="translate(-50%, -50%)",N.style.color="red",N.style.transition="opacity 400ms ease-out",N.style.opacity="0",F.innerHTML=lt.error,F.style.display="flex",F.style.width="64px",F.style.height="64px",F.children[0].style.width="100%",F.children[0].style.height="auto",M.innerText="There was an error loading this image!",M.style.fontSize="14px",N.append(F,M),T.style.position="absolute",T.style.top="50%",T.style.left="50%",T.style.transform="translate(-50%, -50%)",T.style.width="100px",T.style.height="100px",T.style.borderRadius="100px",T.style.border="6px solid black",T.style.borderTopColor="transparent",T.style.transition="opacity 400ms ease-out",T.style.opacity="0",T.animate({transform:["translate(-50%, -50%) rotate(0deg)","translate(-50%, -50%) rotate(3600deg)"]},{duration:1e4,easing:"linear",iterations:1/0}),P.style.position="relative",P.style.borderRadius="12px",P.style.width="100%",t||(P.style.aspectRatio="16/9"),P.style.backgroundColor="#eeeeee",P.append(C,T,N),S.append(A,O),i.append(Z,S,S,P);const z=document.createElement("button");z.type="submit",z.innerText=t?"Edit Video":"Add Video",z.classList="CrimsonEditorTheme__modal-submit-button";function U(){N.style.opacity="0",T.style.opacity="1"}function q(st){N.style.opacity="1",M.innerHTML=st,T.style.opacity="0"}function X(){N.style.opacity="0",T.style.opacity="0",P.style.aspectRatio="16/9"}let J=null;j.onchange=async()=>{const st=j.files[0];if(!st)return q("No Image Selected!");if(!st.type.includes("image")){q("The file you selected is not an image!"),j.value="";return}f=st.type;try{U();const ht=await mo(st);X(),J=ht,j.value="";const Pt=await at(ht);if(!Pt){C.src="",P.style.aspectRatio="16/9";return}C.src=Pt,S.style.display="flex",X(),P.style.aspectRatio=""}catch(ht){q(ht),j.value=""}};let Q;Y.oninput=()=>{Y.value.length>5&&(clearTimeout(Q),Q=setTimeout(async()=>{try{U();const st=await mo(Y.value);X(),J=st;const ht=await at(st);if(!ht){C.src="",P.style.aspectRatio="16/9";return}C.src=ht,X(),P.style.aspectRatio="",S.style.display="flex"}catch(st){C.src="",P.style.aspectRatio="16/9",q(st)}},1e3))},A.onclick=async()=>{C.src=await at(J),P.style.aspectRatio=""};async function at(st){const ht=mn({title:"Edit image"});ht.open(pu({imageData:st,type:f,aspectRatio:l.videoWidth/l.videoHeight,cropOptions:!1}));const{imageData:Pt}=await ht.result();return Pt}return O.onclick=()=>{S.style.display="none",C.src="",j.value="",Y.value="",X()},i.append(z),e.append(i),i.onsubmit=st=>{st.preventDefault();const ht=new FormData(i);ht.delete("device-input-upload");const Pt={};ht.forEach((St,fe)=>{Pt[fe]=St}),Pt.videoData=l.src,Pt.poster=C.src;const bt=new CustomEvent("prompt-result",{detail:Pt});window.dispatchEvent(bt)},e}function qn(n){n.style.padding="8px 16px",n.style.borderRadius="10px",n.style.backgroundColor="transparent",n.style.border="1px solid black",n.style.color="black",n.style.cursor="pointer",n.style.fontSize="14px",n.type="button",n.active=()=>{n.style.backgroundColor="black",n.style.color="white"},n.reset=()=>{n.style.backgroundColor="transparent",n.style.color="black"}}function wl(n){n.style.border="1px solid rgb(228, 228, 228)",n.style.borderRadius="10px",n.style.padding="12px 16px",n.style.outline="none",n.style.color="black"}const tg=[{text:"Edit",icon:lt.edit,onclick:({nodeKey:n})=>{const t=new CustomEvent("edit-editor-link",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendLinkEdit"},{text:"Detach",icon:lt.unlink,onclick:({nodeKey:n})=>{const t=new CustomEvent("detach-editor-link",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendLinkDetach"},{text:"Edit Image",icon:lt.editImage,onclick:({nodeKey:n})=>{const t=new CustomEvent("edit-image",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendImageEdit"},{text:"Edit Video",icon:lt.editImage,onclick:({nodeKey:n})=>{const t=new CustomEvent("edit-video",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendVideoEdit"},{text:"Left",icon:lt.left,onclick:({nodeKey:n})=>{const t=new CustomEvent("float-image-left",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendFloatImageLeft"},{text:"Center",icon:lt.center,onclick:({nodeKey:n})=>{const t=new CustomEvent("float-image-center",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendFloatImageCenter"},{text:"Right",icon:lt.right,onclick:({nodeKey:n})=>{const t=new CustomEvent("float-image-right",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendFloatImageRight"},{text:"Fit Width",icon:lt.fit,onclick:({nodeKey:n})=>{const t=new CustomEvent("fit-image-width",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendFitWidth"}];function eg(){const n=document.createElement("div");return n.style.display="flex",n.style.alignItems="center",n.style.gap="4px",tg.forEach(t=>{const e=document.createElement("button"),i=document.createElement("div"),o=document.createElement("span");o.innerHTML=t.text,i.innerHTML=t.icon,ig(i),o.style.color="inherit",i.style.color="inherit",e.style.color="inherit",e.type="button",e.appendChild(i),e.appendChild(o),ng(e),n[t.appendFunctionName]=s=>{const{nodeKey:r}=s||{};e.onclick=()=>{t.onclick({nodeKey:r}),e.style.backgroundColor="transparent"},!n.contains(e)&&n.appendChild(e)}}),n}function ng(n){n.style.display="flex",n.style.alignItems="center",n.style.gap="4px",n.style.cursor="pointer",n.style.padding="8px",n.style.backgroundColor="transparent",n.style.transition="background-color 300ms ease-out",n.style.border="none",n.style.borderRadius="4px",n.style.whiteSpace="nowrap",n.addEventListener("mouseenter",()=>{n.style.backgroundColor="#efefef"}),n.addEventListener("mouseleave",()=>{n.style.backgroundColor="transparent"}),window.addEventListener("click",t=>{if(n.parentElement){if(n.parentElement.contains(t.target))return;n.style.backgroundColor="transparent"}})}function ig(n){n.style.width="16px",n.style.height="16px",n.children[0].style.width="16px",n.children[0].style.height="16px"}const og={margin:"8px",padding:"8px",color:"#050505",cursor:"pointer",lineHeight:"16px",fontSize:"15px",display:"flex",alignContent:"center",flexDirection:"row",flexShrink:"0",justifyContent:"space-between",backgroundColor:"#fff",borderRadius:"8px",border:"0",maxWidth:"250px",minWidth:"100px",transition:"background-color 300ms ease-out"};function sg(){const n=Mt({tag:"div",classNames:"table-options",styles:{position:"absolute"}}),t=Mt({tag:"div",styles:{display:"flex",flexDirection:"column",position:"absolute",top:"105%",left:"0%",width:"max-content",zIndex:"100",boxShadow:"0 12px 28px #0003, 0 2px 4px #0000001a, inset 0 0 0 1px #ffffff80",borderRadius:"8px",minHeight:"40px",backgroundColor:"#fff"}});let e=!1;const i=Mt({tag:"button",text:lt["caret-down"],styles:{padding:"8px",margin:"8px",marginLeft:"0px",border:"none",borderRadius:"8px",color:"#222",cursor:"pointer",color:"black"}});i.firstElementChild.style.display="block",i.onclick=()=>{if(e)t.remove(),e=!1;else{n.append(t);const{width:s,left:r}=n.getBoundingClientRect();s+r+t.offsetWidth>=innerWidth?(t.style.right="0px",t.style.left="auto"):(t.style.left="0px",t.style.right="auto"),e=!0}};let o=null;return n.updatePosition=()=>{if(o){const{width:s,height:r,top:a,left:l}=o.getBoundingClientRect();n.style.top=a+r/2-n.offsetHeight/2+"px",n.style.left=l+(s-n.offsetWidth)+"px"}},n.append(i),n.attachTo=s=>{if(o=s.tagName==="TD"?s:o,!s.classList.contains("table-options")){const{width:r,height:a,top:l,left:c}=s.getBoundingClientRect();n.style.top=l+window.scrollY+a/2-n.offsetHeight/2+"px",n.style.left=c+window.scrollX+(r-n.offsetWidth)+"px",t.remove(),e=!1,window.addEventListener("resize",n.updatePosition)}},n.removeSelf=()=>{n.remove(),o=null,window.removeEventListener("resize",n.updatePosition)},n.updateFeatures=s=>{t.replaceChildren(...Object.entries(s).reduce((r,[a,l],c,u)=>{const d=Mt({tag:"button",attributes:{type:"button"},styles:og});if(d.innerText=l.text,d.onclick=()=>{l.onclick(),t.remove()},d.onmouseover=()=>{d.style.backgroundColor="#eeeeee"},d.onmouseleave=()=>{d.style.backgroundColor="#fff"},r.push(d),["insertRowAfter","insertColumnsAfter","deleteTable"].includes(a)&&c!==u.length-1){const h=Mt({tag:"hr",styles:{width:"100%",border:"none",backgroundColor:"#cccccc",height:"1px",margin:"0px"}});r.push(h)}return r},[]))},n}class as{constructor({image:t,onResize:e=(i,o)=>{}}){et(this,"image",null),et(this,"anchorContainer",document.createElement("div")),et(this,"hasResized",!1),et(this,"resizeWidth",0),et(this,"resizeHeight",0),et(this,"mousePositionX",0),et(this,"mousePositionY",0),this.image=t,this.onResize=e,this.resizeWidth=t.offsetWidth,this.resizeHeight=t.offsetHeight,this.imageNodeKey=t.dataset.nodeKey,this.handleMouseMoveEventHandler=i=>{this.handleMouseMove(i)},this.init()}init(){this.image&&(this.appendAchorPoints(),this.onResizeEnd())}appendAchorPoints(){const t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),s=[t,e,i,o];this.image.style.userSelect="none",this.image.style.outline="2px solid rgb(60,132,244)",this.image.parentNode.appendChild(this.anchorContainer),s.forEach(r=>{r.style.width="10px",r.style.height="10px",r.style.position="absolute",r.style.backgroundColor="rgb(50,122,224)",r.style.cursor="move",r.classList.add("image-resize-anchor"),this.appendAnchorDragEvent(r),this.anchorContainer.appendChild(r)}),t.style.top="0px",t.style.left="0px",e.style.top="0px",e.style.right="0px",i.style.bottom="0px",i.style.left="0px",o.style.bottom="0px",o.style.right="0px"}handleMouseMove(t){const{clientX:e,clientY:i}=t,o=e-this.mousePositionX,s=i-this.mousePositionY,r=Math.max(0,this.image.offsetWidth+o),a=Math.max(0,this.image.offsetHeight+s);this.resizeWidth=r,this.resizeHeight=a,this.image.style.width=`${r}px`,this.mousePositionX=e,this.mousePositionY=i,this.hasResized=!0}appendAnchorDragEvent(t){t.addEventListener("mousedown",e=>{e.preventDefault(),this.mousePositionX=e.clientX,this.mousePositionY=e.clientY,window.addEventListener("mousemove",this.handleMouseMoveEventHandler)})}onResizeEnd(){window.addEventListener("mouseup",()=>{this.hasResized&&(window.removeEventListener("mousemove",this.handleMouseMoveEventHandler),this.onResize(this.resizeWidth,this.resizeHeight,this.image),this.refetchResizeImage(),this.hasResized=!1)})}refetchResizeImage(){let t=document.querySelector(`[data-node-key='${this.imageNodeKey}']`),e=null;e=setInterval(()=>{this.image===t?t=document.querySelector(`[data-node-key='${this.imageNodeKey}']`):(clearInterval(e),this.image=t,this.init())},10)}destroy(){this.image.style.outline="",this.image.parentNode.removeChild(this.anchorContainer),this.hasResized=!1,this.resizeWidth=0,this.resizeHeight=0,this.mousePositionX=0,this.mousePositionY=0}}var gu={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */(function(n,t){(function(e,i){n.exports=i()})(self,()=>(()=>{var e={d:(P,C)=>{for(var S in C)e.o(C,S)&&!e.o(P,S)&&Object.defineProperty(P,S,{enumerable:!0,get:C[S]})},o:(P,C)=>Object.prototype.hasOwnProperty.call(P,C),r:P=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})}},i={};e.d(i,{default:()=>Y});var o={};function s(P,C,S,A,O={}){C instanceof HTMLCollection||C instanceof NodeList?C=Array.from(C):Array.isArray(C)||(C=[C]),Array.isArray(S)||(S=[S]);for(const T of C)for(const N of S)T[P](N,A,{capture:!1,...O});return Array.prototype.slice.call(arguments,1)}e.r(o),e.d(o,{adjustableInputNumbers:()=>h,createElementFromString:()=>l,createFromTemplate:()=>c,eventPath:()=>u,off:()=>a,on:()=>r,resolveElement:()=>d});const r=s.bind(null,"addEventListener"),a=s.bind(null,"removeEventListener");function l(P){const C=document.createElement("div");return C.innerHTML=P.trim(),C.firstElementChild}function c(P){const C=(A,O)=>{const T=A.getAttribute(O);return A.removeAttribute(O),T},S=(A,O={})=>{const T=C(A,":obj"),N=C(A,":ref"),F=T?O[T]={}:O;N&&(O[N]=A);for(const M of Array.from(A.children)){const z=C(M,":arr"),U=S(M,z?{}:F);z&&(F[z]||(F[z]=[])).push(Object.keys(U).length?U:M)}return O};return S(l(P))}function u(P){let C=P.path||P.composedPath&&P.composedPath();if(C)return C;let S=P.target.parentElement;for(C=[P.target,S];S=S.parentElement;)C.push(S);return C.push(document,window),C}function d(P){return P instanceof Element?P:typeof P=="string"?P.split(/>>/g).reduce((C,S,A,O)=>(C=C.querySelector(S),A<O.length-1?C.shadowRoot:C),document):null}function h(P,C=S=>S){function S(A){const O=[.001,.01,.1][Number(A.shiftKey||2*A.ctrlKey)]*(A.deltaY<0?1:-1);let T=0,N=P.selectionStart;P.value=P.value.replace(/[\d.]+/g,(F,M)=>M<=N&&M+F.length>=N?(N=M,C(Number(F),O,T)):(T++,F)),P.focus(),P.setSelectionRange(N,N),A.preventDefault(),P.dispatchEvent(new Event("input"))}r(P,"focus",()=>r(window,"wheel",S,{passive:!1})),r(P,"blur",()=>a(window,"wheel",S))}const{min:p,max:g,floor:y,round:_}=Math;function w(P,C,S){C/=100,S/=100;const A=y(P=P/360*6),O=P-A,T=S*(1-C),N=S*(1-O*C),F=S*(1-(1-O)*C),M=A%6;return[255*[S,N,T,T,F,S][M],255*[F,S,S,N,T,T][M],255*[T,T,F,S,S,N][M]]}function f(P,C,S){const A=(2-(C/=100))*(S/=100)/2;return A!==0&&(C=A===1?0:A<.5?C*S/(2*A):C*S/(2-2*A)),[P,100*C,100*A]}function m(P,C,S){const A=p(P/=255,C/=255,S/=255),O=g(P,C,S),T=O-A;let N,F;if(T===0)N=F=0;else{F=T/O;const M=((O-P)/6+T/2)/T,z=((O-C)/6+T/2)/T,U=((O-S)/6+T/2)/T;P===O?N=U-z:C===O?N=1/3+M-U:S===O&&(N=2/3+z-M),N<0?N+=1:N>1&&(N-=1)}return[360*N,100*F,100*O]}function b(P,C,S,A){return C/=100,S/=100,[...m(255*(1-p(1,(P/=100)*(1-(A/=100))+A)),255*(1-p(1,C*(1-A)+A)),255*(1-p(1,S*(1-A)+A)))]}function v(P,C,S){C/=100;const A=2*(C*=(S/=100)<.5?S:1-S)/(S+C)*100,O=100*(S+C);return[P,isNaN(A)?0:A,O]}function x(P){return m(...P.match(/.{2}/g).map(C=>parseInt(C,16)))}function k(P){P=P.match(/^[a-zA-Z]+$/)?function(O){if(O.toLowerCase()==="black")return"#000";const T=document.createElement("canvas").getContext("2d");return T.fillStyle=O,T.fillStyle==="#000"?null:T.fillStyle}(P):P;const C={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},S=O=>O.map(T=>/^(|\d+)\.\d+|\d+$/.test(T)?Number(T):void 0);let A;t:for(const O in C)if(A=C[O].exec(P))switch(O){case"cmyk":{const[,T,N,F,M]=S(A);if(T>100||N>100||F>100||M>100)break t;return{values:b(T,N,F,M),type:O}}case"rgba":{let[,T,,N,,F,,,M]=S(A);if(T=A[2]==="%"?T/100*255:T,N=A[4]==="%"?N/100*255:N,F=A[6]==="%"?F/100*255:F,M=A[9]==="%"?M/100:M,T>255||N>255||F>255||M<0||M>1)break t;return{values:[...m(T,N,F),M],a:M,type:O}}case"hexa":{let[,T]=A;T.length!==4&&T.length!==3||(T=T.split("").map(M=>M+M).join(""));const N=T.substring(0,6);let F=T.substring(6);return F=F?parseInt(F,16)/255:void 0,{values:[...x(N),F],a:F,type:O}}case"hsla":{let[,T,N,F,,M]=S(A);if(M=A[6]==="%"?M/100:M,T>360||N>100||F>100||M<0||M>1)break t;return{values:[...v(T,N,F),M],a:M,type:O}}case"hsva":{let[,T,N,F,,M]=S(A);if(M=A[6]==="%"?M/100:M,T>360||N>100||F>100||M<0||M>1)break t;return{values:[T,N,F,M],a:M,type:O}}}return{values:null,type:null}}function E(P=0,C=0,S=0,A=1){const O=(N,F)=>(M=-1)=>F(~M?N.map(z=>Number(z.toFixed(M))):N),T={h:P,s:C,v:S,a:A,toHSVA(){const N=[T.h,T.s,T.v,T.a];return N.toString=O(N,F=>`hsva(${F[0]}, ${F[1]}%, ${F[2]}%, ${T.a})`),N},toHSLA(){const N=[...f(T.h,T.s,T.v),T.a];return N.toString=O(N,F=>`hsla(${F[0]}, ${F[1]}%, ${F[2]}%, ${T.a})`),N},toRGBA(){const N=[...w(T.h,T.s,T.v),T.a];return N.toString=O(N,F=>`rgba(${F[0]}, ${F[1]}, ${F[2]}, ${T.a})`),N},toCMYK(){const N=function(F,M,z){const U=w(F,M,z),q=U[0]/255,X=U[1]/255,J=U[2]/255,Q=p(1-q,1-X,1-J);return[100*(Q===1?0:(1-q-Q)/(1-Q)),100*(Q===1?0:(1-X-Q)/(1-Q)),100*(Q===1?0:(1-J-Q)/(1-Q)),100*Q]}(T.h,T.s,T.v);return N.toString=O(N,F=>`cmyk(${F[0]}%, ${F[1]}%, ${F[2]}%, ${F[3]}%)`),N},toHEXA(){const N=function(M,z,U){return w(M,z,U).map(q=>_(q).toString(16).padStart(2,"0"))}(T.h,T.s,T.v),F=T.a>=1?"":Number((255*T.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return F&&N.push(F),N.toString=()=>`#${N.join("").toUpperCase()}`,N},clone:()=>E(T.h,T.s,T.v,T.a)};return T}const L=P=>Math.max(Math.min(P,1),0);function I(P){const C={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},P),_keyboard(T){const{options:N}=C,{type:F,key:M}=T;if(document.activeElement===N.wrapper){const{lock:z}=C.options,U=M==="ArrowUp",q=M==="ArrowRight",X=M==="ArrowDown",J=M==="ArrowLeft";if(F==="keydown"&&(U||q||X||J)){let Q=0,at=0;z==="v"?Q=U||q?1:-1:z==="h"?Q=U||q?-1:1:(at=U?-1:X?1:0,Q=J?-1:q?1:0),C.update(L(C.cache.x+.01*Q),L(C.cache.y+.01*at)),T.preventDefault()}else M.startsWith("Arrow")&&(C.options.onstop(),T.preventDefault())}},_tapstart(T){r(document,["mouseup","touchend","touchcancel"],C._tapstop),r(document,["mousemove","touchmove"],C._tapmove),T.cancelable&&T.preventDefault(),C._tapmove(T)},_tapmove(T){const{options:N,cache:F}=C,{lock:M,element:z,wrapper:U}=N,q=U.getBoundingClientRect();let X=0,J=0;if(T){const st=T&&T.touches&&T.touches[0];X=T?(st||T).clientX:0,J=T?(st||T).clientY:0,X<q.left?X=q.left:X>q.left+q.width&&(X=q.left+q.width),J<q.top?J=q.top:J>q.top+q.height&&(J=q.top+q.height),X-=q.left,J-=q.top}else F&&(X=F.x*q.width,J=F.y*q.height);M!=="h"&&(z.style.left=`calc(${X/q.width*100}% - ${z.offsetWidth/2}px)`),M!=="v"&&(z.style.top=`calc(${J/q.height*100}% - ${z.offsetHeight/2}px)`),C.cache={x:X/q.width,y:J/q.height};const Q=L(X/q.width),at=L(J/q.height);switch(M){case"v":return N.onchange(Q);case"h":return N.onchange(at);default:return N.onchange(Q,at)}},_tapstop(){C.options.onstop(),a(document,["mouseup","touchend","touchcancel"],C._tapstop),a(document,["mousemove","touchmove"],C._tapmove)},trigger(){C._tapmove()},update(T=0,N=0){const{left:F,top:M,width:z,height:U}=C.options.wrapper.getBoundingClientRect();C.options.lock==="h"&&(N=T),C._tapmove({clientX:F+z*T,clientY:M+U*N})},destroy(){const{options:T,_tapstart:N,_keyboard:F}=C;a(document,["keydown","keyup"],F),a([T.wrapper,T.element],"mousedown",N),a([T.wrapper,T.element],"touchstart",N,{passive:!1})}},{options:S,_tapstart:A,_keyboard:O}=C;return r([S.wrapper,S.element],"mousedown",A),r([S.wrapper,S.element],"touchstart",A,{passive:!1}),r(document,["keydown","keyup"],O),C}function H(P={}){P=Object.assign({onchange:()=>0,className:"",elements:[]},P);const C=r(P.elements,"click",S=>{P.elements.forEach(A=>A.classList[S.target===A?"add":"remove"](P.className)),P.onchange(S),S.stopPropagation()});return{destroy:()=>a(...C)}}const j={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},Z=(P,C,S)=>{const A=typeof P!="object"||P instanceof HTMLElement?{reference:P,popper:C,...S}:P;return{update(O=A){const{reference:T,popper:N}=Object.assign(A,O);if(!N||!T)throw new Error("Popper- or reference-element missing.");return((F,M,z)=>{const{container:U,arrow:q,margin:X,padding:J,position:Q,variantFlipOrder:at,positionFlipOrder:st}={container:document.documentElement.getBoundingClientRect(),...j,...z},{left:ht,top:Pt}=M.style;M.style.left="0",M.style.top="0";const bt=F.getBoundingClientRect(),St=M.getBoundingClientRect(),fe={t:bt.top-St.height-X,b:bt.bottom+X,r:bt.right+X,l:bt.left-St.width-X},Oi={vs:bt.left,vm:bt.left+bt.width/2-St.width/2,ve:bt.left+bt.width-St.width,hs:bt.top,hm:bt.bottom-bt.height/2-St.height/2,he:bt.bottom-St.height},[Fn,Pi="middle"]=Q.split("-"),nt=st[Fn],mt=at[Pi],{top:dt,left:oe,bottom:Fi,right:Ii}=U;for(const In of nt){const on=In==="t"||In==="b";let Rn=fe[In];const[Fo,Io]=on?["top","left"]:["left","top"],[Ro,Bo]=on?[St.height,St.width]:[St.width,St.height],[fu,mu]=on?[Fi,Ii]:[Ii,Fi],[yu,_u]=on?[dt,oe]:[oe,dt];if(!(Rn<yu||Rn+Ro+J>fu))for(const Ho of mt){let Bn=Oi[(on?"v":"h")+Ho];if(!(Bn<_u||Bn+Bo+J>mu)){if(Bn-=St[Io],Rn-=St[Fo],M.style[Io]=`${Bn}px`,M.style[Fo]=`${Rn}px`,q){const Wo=on?bt.width/2:bt.height/2,Ri=Bo/2,Nr=Wo>Ri,bu=Bn+{s:Nr?Ri:Wo,m:Ri,e:Nr?Ri:Bo-Wo}[Ho],vu=Rn+{t:Ro,b:0,r:0,l:Ro}[In];q.style[Io]=`${bu}px`,q.style[Fo]=`${vu}px`}return In+Ho}}}return M.style.left=ht,M.style.top=Pt,null})(T,N,A)}}},$=class zs{constructor(C){et(this,"_initializingActive",!0),et(this,"_recalc",!0),et(this,"_nanopop",null),et(this,"_root",null),et(this,"_color",E()),et(this,"_lastColor",E()),et(this,"_swatchColors",[]),et(this,"_setupAnimationFrame",null),et(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=C=Object.assign({...zs.DEFAULT_OPTIONS},C);const{swatches:S,components:A,theme:O,sliders:T,lockOpacity:N,padding:F}=C;["nano","monolith"].includes(O)&&!T&&(C.sliders="h"),A.interaction||(A.interaction={});const{preview:M,opacity:z,hue:U,palette:q}=A;A.opacity=!N&&z,A.palette=q||M||z||U,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),S&&S.length&&S.forEach(at=>this.addSwatch(at));const{button:X,app:J}=this._root;this._nanopop=Z(X,J,{margin:F}),X.setAttribute("role","button"),X.setAttribute("aria-label",this._t("btn:toggle"));const Q=this;this._setupAnimationFrame=requestAnimationFrame(function at(){if(!J.offsetWidth)return requestAnimationFrame(at);Q.setColor(C.default),Q._rePositioningPicker(),C.defaultRepresentation&&(Q._representation=C.defaultRepresentation,Q.setColorRepresentation(Q._representation)),C.showAlways&&Q.show(),Q._initializingActive=!1,Q._emit("init")})}_preBuild(){const{options:C}=this;for(const S of["el","container"])C[S]=d(C[S]);this._root=(S=>{const{components:A,useAsButton:O,inline:T,appClass:N,theme:F,lockOpacity:M}=S.options,z=J=>J?"":'style="display:none" hidden',U=J=>S._t(J),q=c(`
      <div :ref="root" class="pickr">

        ${O?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${N||""}" data-theme="${F}" ${T?'style="position: unset"':""} aria-label="${U("ui:dialog")}" role="window">
          <div class="pcr-selection" ${z(A.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${z(A.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${U("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${U("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${z(A.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${U("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${z(A.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${U("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${A.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${z(Object.keys(A.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${z(A.interaction.input)} aria-label="${U("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${M?"HEX":"HEXA"}" type="button" ${z(A.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${M?"RGB":"RGBA"}" type="button" ${z(A.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${M?"HSL":"HSLA"}" type="button" ${z(A.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${M?"HSV":"HSVA"}" type="button" ${z(A.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${z(A.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${U("btn:save")}" type="button" ${z(A.interaction.save)} aria-label="${U("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${U("btn:cancel")}" type="button" ${z(A.interaction.cancel)} aria-label="${U("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${U("btn:clear")}" type="button" ${z(A.interaction.clear)} aria-label="${U("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),X=q.interaction;return X.options.find(J=>!J.hidden&&!J.classList.add("active")),X.type=()=>X.options.find(J=>J.classList.contains("active")),q})(this),C.useAsButton&&(this._root.button=C.el),C.container.appendChild(this._root.root)}_finalBuild(){const C=this.options,S=this._root;if(C.container.removeChild(S.root),C.inline){const A=C.el.parentElement;C.el.nextSibling?A.insertBefore(S.app,C.el.nextSibling):A.appendChild(S.app)}else C.container.appendChild(S.app);C.useAsButton?C.inline&&C.el.remove():C.el.parentNode.replaceChild(S.root,C.el),C.disabled&&this.disable(),C.comparison||(S.button.style.transition="none",C.useAsButton||(S.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const C=this,S=this.options.components,A=(C.options.sliders||"v").repeat(2),[O,T]=A.match(/^[vh]+$/g)?A:[],N=()=>this._color||(this._color=this._lastColor.clone()),F={palette:I({element:C._root.palette.picker,wrapper:C._root.palette.palette,onstop:()=>C._emit("changestop","slider",C),onchange(M,z){if(!S.palette)return;const U=N(),{_root:q,options:X}=C,{lastColor:J,currentColor:Q}=q.preview;C._recalc&&(U.s=100*M,U.v=100-100*z,U.v<0&&(U.v=0),C._updateOutput("slider"));const at=U.toRGBA().toString(0);this.element.style.background=at,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${U.a}), transparent),
                        linear-gradient(to left, hsla(${U.h}, 100%, 50%, ${U.a}), rgba(255, 255, 255, ${U.a}))
                    `,X.comparison?X.useAsButton||C._lastColor||J.style.setProperty("--pcr-color",at):(q.button.style.setProperty("--pcr-color",at),q.button.classList.remove("clear"));const st=U.toHEXA().toString();for(const{el:ht,color:Pt}of C._swatchColors)ht.classList[st===Pt.toHEXA().toString()?"add":"remove"]("pcr-active");Q.style.setProperty("--pcr-color",at)}}),hue:I({lock:T==="v"?"h":"v",element:C._root.hue.picker,wrapper:C._root.hue.slider,onstop:()=>C._emit("changestop","slider",C),onchange(M){if(!S.hue||!S.palette)return;const z=N();C._recalc&&(z.h=360*M),this.element.style.backgroundColor=`hsl(${z.h}, 100%, 50%)`,F.palette.trigger()}}),opacity:I({lock:O==="v"?"h":"v",element:C._root.opacity.picker,wrapper:C._root.opacity.slider,onstop:()=>C._emit("changestop","slider",C),onchange(M){if(!S.opacity||!S.palette)return;const z=N();C._recalc&&(z.a=Math.round(100*M)/100),this.element.style.background=`rgba(0, 0, 0, ${z.a})`,F.palette.trigger()}}),selectable:H({elements:C._root.interaction.options,className:"active",onchange(M){C._representation=M.target.getAttribute("data-type").toUpperCase(),C._recalc&&C._updateOutput("swatch")}})};this._components=F}_bindEvents(){const{_root:C,options:S}=this,A=[r(C.interaction.clear,"click",()=>this._clearColor()),r([C.interaction.cancel,C.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),r(C.interaction.save,"click",()=>{!this.applyColor()&&!S.showAlways&&this.hide()}),r(C.interaction.result,["keyup","input"],O=>{this.setColor(O.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),O.stopImmediatePropagation()}),r(C.interaction.result,["focus","blur"],O=>{this._recalc=O.type==="blur",this._recalc&&this._updateOutput(null)}),r([C.palette.palette,C.palette.picker,C.hue.slider,C.hue.picker,C.opacity.slider,C.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!S.showAlways){const O=S.closeWithKey;A.push(r(C.button,"click",()=>this.isOpen()?this.hide():this.show()),r(document,"keyup",T=>this.isOpen()&&(T.key===O||T.code===O)&&this.hide()),r(document,["touchstart","mousedown"],T=>{this.isOpen()&&!u(T).some(N=>N===C.app||N===C.button)&&this.hide()},{capture:!0}))}if(S.adjustableNumbers){const O={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};h(C.interaction.result,(T,N,F)=>{const M=O[this.getColorRepresentation().toLowerCase()];if(M){const z=M[F],U=T+(z>=100?1e3*N:N);return U<=0?0:Number((U<z?U:z).toPrecision(3))}return T})}if(S.autoReposition&&!S.inline){let O=null;const T=this;A.push(r(window,["scroll","resize"],()=>{T.isOpen()&&(S.closeOnScroll&&T.hide(),O===null?(O=setTimeout(()=>O=null,100),requestAnimationFrame(function N(){T._rePositioningPicker(),O!==null&&requestAnimationFrame(N)})):(clearTimeout(O),O=setTimeout(()=>O=null,100)))},{capture:!0}))}this._eventBindings=A}_rePositioningPicker(){const{options:C}=this;if(!C.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:C.position})){const S=this._root.app,A=S.getBoundingClientRect();S.style.top=(window.innerHeight-A.height)/2+"px",S.style.left=(window.innerWidth-A.width)/2+"px"}}_updateOutput(C){const{_root:S,_color:A,options:O}=this;if(S.interaction.type()){const T=`to${S.interaction.type().getAttribute("data-type")}`;S.interaction.result.value=typeof A[T]=="function"?A[T]().toString(O.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",A,C,this)}_clearColor(C=!1){const{_root:S,options:A}=this;A.useAsButton||S.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),S.button.classList.add("clear"),A.showAlways||this.hide(),this._lastColor=null,this._initializingActive||C||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(C){const{values:S,type:A,a:O}=k(C),{lockOpacity:T}=this.options,N=O!==void 0&&O!==1;return S&&S.length===3&&(S[3]=void 0),{values:!S||T&&N?null:S,type:A}}_t(C){return this.options.i18n[C]||zs.I18N_DEFAULTS[C]}_emit(C,...S){this._eventListener[C].forEach(A=>A(...S,this))}on(C,S){return this._eventListener[C].push(S),this}off(C,S){const A=this._eventListener[C]||[],O=A.indexOf(S);return~O&&A.splice(O,1),this}addSwatch(C){const{values:S}=this._parseLocalColor(C);if(S){const{_swatchColors:A,_root:O}=this,T=E(...S),N=l(`<button type="button" style="--pcr-color: ${T.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return O.swatches.appendChild(N),A.push({el:N,color:T}),this._eventBindings.push(r(N,"click",()=>{this.setHSVA(...T.toHSVA(),!0),this._emit("swatchselect",T),this._emit("change",T,"swatch",this)})),!0}return!1}removeSwatch(C){const S=this._swatchColors[C];if(S){const{el:A}=S;return this._root.swatches.removeChild(A),this._swatchColors.splice(C,1),!0}return!1}applyColor(C=!1){const{preview:S,button:A}=this._root,O=this._color.toRGBA().toString(0);return S.lastColor.style.setProperty("--pcr-color",O),this.options.useAsButton||A.style.setProperty("--pcr-color",O),A.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||C||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(C=>a(...C)),Object.keys(this._components).forEach(C=>this._components[C].destroy())}destroyAndRemove(){this.destroy();const{root:C,app:S}=this._root;C.parentElement&&C.parentElement.removeChild(C),S.parentElement.removeChild(S),Object.keys(this).forEach(A=>this[A]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(C=360,S=0,A=0,O=1,T=!1){const N=this._recalc;if(this._recalc=!1,C<0||C>360||S<0||S>100||A<0||A>100||O<0||O>1)return!1;this._color=E(C,S,A,O);const{hue:F,opacity:M,palette:z}=this._components;return F.update(C/360),M.update(O),z.update(S/100,1-A/100),T||this.applyColor(),N&&this._updateOutput(),this._recalc=N,!0}setColor(C,S=!1){if(C===null)return this._clearColor(S),!0;const{values:A,type:O}=this._parseLocalColor(C);if(A){const T=O.toUpperCase(),{options:N}=this._root.interaction,F=N.find(M=>M.getAttribute("data-type")===T);if(F&&!F.hidden)for(const M of N)M.classList[M===F?"add":"remove"]("active");return!!this.setHSVA(...A,S)&&this.setColorRepresentation(T)}return!1}setColorRepresentation(C){return C=C.toUpperCase(),!!this._root.interaction.options.find(S=>S.getAttribute("data-type").startsWith(C)&&!S.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};et($,"utils",o),et($,"version","1.9.1"),et($,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),et($,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),et($,"create",P=>new $(P));let Y=$;return i=i.default})())})(gu);var rg=gu.exports;const ag=Nu(rg);function lg(n){const t=ag.create({el:n,theme:"nano",useAsButton:!0,position:"bottom-middle",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 1)","rgba(156, 39, 176, 1)","rgba(103, 58, 183, 1)","rgba(63, 81, 181, 1)","rgba(33, 150, 243, 1)","rgba(3, 169, 244, 1)","rgba(0, 188, 212, 1)","rgba(0, 150, 136, 1)","rgba(76, 175, 80, 1)","rgba(139, 195, 74, 1)","rgba(205, 220, 57, 1)","rgba(255, 235, 59, 1)","rgba(255, 193, 7, 1)","rgba(0, 0, 0, 1)","rgba(255, 255, 255, 1)"],closeWithKey:"Escape",components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!0,input:!0,clear:!0,save:!0}}});return t.on("show",()=>{const e=t.getRoot(),{left:i,top:o,height:s}=n.getBoundingClientRect();e.app.style.left=i+10+"px",e.app.style.top=o+s+10+"px"}),t}function cg(n,t){const e=n.getRangeAt(0);let i;if(n.anchorNode===t){let o=t;for(;o.firstElementChild!=null;)o=o.firstElementChild;i=o.getBoundingClientRect()}else i=e.getBoundingClientRect();return i}function Nt(n){if(n){const t=n.anchor,e=n.focus,i=n.anchor.getNode(),o=n.focus.getNode();return i===o?i:n.isBackward()?ga(e)?i:o:ga(t)?i:o}}function xl(n){const t=n,e=parseInt(t.substring(1,3),16),i=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16);return(e*299+i*587+o*114)/1e3<127.5}function Cl(n){const[t,e,i,o]=n.match(/\d+/g),s=parseInt(t).toString(16).padStart(2,"0"),r=parseInt(e).toString(16).padStart(2,"0"),a=parseInt(i).toString(16).padStart(2,"0"),l=o?Math.round(parseFloat(o)*255).toString(16).padStart(2,"0"):"";return`#${s}${r}${a}${l}`.toUpperCase()}const kl=Ce(),El=Ce(),Sl=Ce(),Ve="CrimsonEditorTheme",se={h1:{icon:lt.h1,text:"Heading 1",size:"24px",weight:"900"},h2:{icon:lt.h2,text:"Heading 2",size:"22px",weight:"800"},h3:{icon:lt.h3,text:"Heading 3",size:"20px",weight:"700"},h4:{icon:lt.h4,text:"Heading 4",size:"18px",weight:"600"},h5:{icon:lt.h5,text:"Heading 5",size:"16px",weight:"500"},h6:{icon:lt.h6,text:"Heading 6",size:"14px"},paragraph:{icon:lt.paragraph,text:"Normal"},quote:{icon:lt.quote,text:"Blockquote"},code:{icon:lt.code,text:"Code"}},ug={bullet:"unordered",number:"ordered",check:"check"},je={toolbar:{history:["undo","redo"],formating:["bold","italic","underline","strikethrough","subscript","superscript","clearformat"],color:["color","fill"],align:["left","center","right","justify"],blockType:["h1","h2","h3","h4","h5","h6","paragraph","quote","code"],fontSizes:Gh,lists:["unordered","ordered","check"],indentation:["indent","outdent"],media:["link","image","video"],direction:["ltr","rtl"],insert:["table"]}};class dg{constructor(t,e){et(this,"input"),et(this,"options"),et(this,"editorElement",this.createElement("div")),et(this,"editorWorkSpace",this.createElement("div")),et(this,"lexicalEditor"),et(this,"historyState"),et(this,"buttons",{}),et(this,"toolbar",this.createElement("div")),et(this,"imageResizer",null),et(this,"floatToolbar",eg()),et(this,"linkFloatButtons",Yh(this.floatToolbar)),et(this,"tableOptionsWrapper",null),et(this,"readOnly"),et(this,"EditorToolbarActions",{clearformat:()=>{this.lexicalEditor.update(()=>{const i=W();if(R(i)){const o=i.anchor,s=i.focus,r=i.getNodes();if(o.key===s.key&&o.offset===s.offset)return;r.forEach((a,l)=>{if(B(a)){let c=a;l===0&&o.offset!==0&&(c=c.splitText(o.offset)[1]||c),l===r.length-1&&(c=c.splitText(s.offset)[0]||c),c.__style!==""&&c.setStyle(""),c.__format!==0&&(c.setFormat(0),Pc(c).setFormat("")),a=c}else Oh(a)||Mh(a)?a.replace(ut(),!0):$isDecoratorBlockNode(a)&&a.setFormat("")})}})},undo:()=>{this.lexicalEditor.dispatchCommand(bo,null)},redo:()=>{this.lexicalEditor.dispatchCommand(vo,null)},attachLink:async()=>{this.lexicalEditor.update(async()=>{var i,o,s,r,a,l,c,u;const d=W(),h=Nt(d),p=h.getParent(),g=d.getTextContent(),y=p.getTextContent(),_=yt(h)||yt(p);let w="",f=!1;_&&(w=((i=h.getURL)==null?void 0:i.call(h))||((o=p.getURL)==null?void 0:o.call(p))||"",(s=h.getRel)!=null&&s.call(h)||(r=p.getRel)!=null&&r.call(p),(a=h.getTarget)!=null&&a.call(h)||(l=p.getTarget)!=null&&l.call(p),f=Te(((c=h==null?void 0:h.getFirstChild)==null?void 0:c.call(h))||((u=p==null?void 0:p.getFirstChild)==null?void 0:u.call(p))));const m=qp({defaultAnchorText:g||y,defaultLink:w,isImageLink:f}),b=mn({title:"Link Insert"});b.open(m);const v=await b.result(),x=[v.sponsor,v.nofollow,v.dofollow,v.follow].filter(Boolean).join(" ");this.lexicalEditor.dispatchCommand(Sa,{...v,rel:x,hasImageChild:f})})},detachLink:i=>{this.lexicalEditor.update(()=>{if(i){const o=ct(i),s=o.getFirstChild();Te(s)?o.replace(s):Ta(null)}else Ta(null)})},attachImage:i=>{this.lexicalEditor.update(async()=>{const o=W(),s=Nt(o),r=ct(i),a={};let l=!1;if(Te(r)){a.src=r.__src,a.altText=r.__altText,a.width=r.__width,a.height=r.__height,a.maxWidth=r.__maxWidth,a.originalSrc=r.getOriginalSrc(),a.cropBoxData=r.getCropBoxData(),l=!0;const h=r.getParent();yt(h)&&(a.url=h.getURL(),a.target=h.getTarget(),a.rels=h.getRel())}const c=Kp(a),u=mn({title:l?"Edit image":"Add image"});u.open(c);const d=await u.result();d.editMode=l,d.nodeKey=i,d.float=r?r.__float:"",d.selection=this.lexicalEditor.getEditorState()._selection,d.selectionNode=s,this.lexicalEditor.dispatchCommand(kl,d)})},resizeImage:(i,o,s)=>{this.lexicalEditor.update(async()=>{const r=ct(i);(Te(r)||ln(r))&&r.setWidthAndHeight(o,s)})},floatImageLeft:i=>{this.lexicalEditor.update(async()=>{const o=ct(i);(Te(o)||ln(o))&&o.setFloat(o.__float==="left"?"":"left")})},floatImageRight:i=>{this.lexicalEditor.update(async()=>{const o=ct(i);(Te(o)||ln(o))&&o.setFloat(o.__float==="right"?"":"right")})},floatImageCenter:i=>{this.lexicalEditor.update(async()=>{const o=ct(i);(Te(o)||ln(o))&&o.setFloat(o.__float==="center"?"":"center")})},fitImageWidth:i=>{this.lexicalEditor.update(async()=>{const o=ct(i);(Te(o)||ln(o))&&o.setFitWidth()})},attachVideo:i=>{this.lexicalEditor.update(async()=>{const o=ct(i),s={};let r=!1;ln(o)&&(s.src=o.__src,s.width=o.__width,s.height=o.__height,s.maxWidth=o.__maxWidth,r=!0);const a=Qp(s),l=mn({title:r?"Edit Video":"Add Video"});l.open(a);const c=await l.result();c.editMode=r,c.nodeKey=i,this.lexicalEditor.dispatchCommand(El,c)})},attachTable:async()=>{const i=Jp(),o=mn({title:"Add Table"});o.open(i);const s=await o.result();this.lexicalEditor.update(()=>{const r=Rh(s.rows,s.columns,!1),a=ut();Ts([r,a])})},tableActions:{clearTableSelection:()=>{this.lexicalEditor.update(()=>{const i=W(),o=Nt(i),s=_t(o)?o:_t(o.getParent())?o.getParent():null;if(s.isAttached()){const r=ii(s),a=this.lexicalEditor.getElementByKey(r.getKey());if(!a)throw new Error("Expected to find tableElement in DOM");const l=Zh(a);l&&l.clearHighlight(),r.markDirty()}xt().selectStart()})},insertTableRowAtSelection:i=>()=>{this.lexicalEditor.update(()=>{Wh(i)})},insertTableColumnAtSelection:i=>()=>{this.lexicalEditor.update(()=>{zh(i)})},deleteTableRowAtSelection:()=>{this.lexicalEditor.update(()=>{$h()})},deleteTableAtSelection:()=>{this.lexicalEditor.update(()=>{const i=W(),o=Nt(i),s=_t(o)?o:_t(o.getParent())?o.getParent():null;s&&ii(s).remove()})},deleteTableColumnAtSelection:()=>{this.lexicalEditor.update(()=>{Uh()})},toggleTableRowIsHeader:()=>{this.lexicalEditor.update(()=>{const i=W(),o=Nt(i),s=_t(o)?o:_t(o.getParent())?o.getParent():null,r=ii(s),a=Bh(s),l=r.getChildren();if(a>=l.length||a<0)throw new Error("Expected table cell to be inside of table row.");const c=l[a];if(!Ut(c))throw new Error("Expected table row");c.getChildren().forEach(u=>{if(!_t(u))throw new Error("Expected table cell");u.toggleHeaderStyle(Ot.ROW)})})},toggleTableColumnIsHeader:()=>{this.lexicalEditor.update(()=>{const i=W(),o=Nt(i),s=_t(o)?o:_t(o.getParent())?o.getParent():null,r=ii(s),a=Hh(s),l=r.getChildren(),c=Math.max(...l.map(u=>u.getChildren().length));if(a>=c||a<0)throw new Error("Expected table cell to be inside of table row.");for(let u=0;u<l.length;u++){const d=l[u];if(!Ut(d))throw new Error("Expected table row");const h=d.getChildren();if(a>=h.length)continue;const p=h[a];if(!_t(p))throw new Error("Expected table cell");p.toggleHeaderStyle(Ot.COLUMN)}})}}}),et(this,"tableFeatures",{insertRowBefore:{text:"Insert Row Above",onclick:this.EditorToolbarActions.tableActions.insertTableRowAtSelection(!1)},insertRowAfter:{text:"Insert Row Below",onclick:this.EditorToolbarActions.tableActions.insertTableRowAtSelection(!0)},insertColumnsBefore:{text:"Insert Column Left",onclick:this.EditorToolbarActions.tableActions.insertTableColumnAtSelection(!0)},insertColumnsAfter:{text:"Insert Column Right",onclick:this.EditorToolbarActions.tableActions.insertTableColumnAtSelection(!1)},deleteColumn:{text:"Delete Column",onclick:this.EditorToolbarActions.tableActions.deleteTableColumnAtSelection},deleteRow:{text:"Delete Row",onclick:this.EditorToolbarActions.tableActions.deleteTableRowAtSelection},deleteTable:{text:"Delete Table",onclick:this.EditorToolbarActions.tableActions.deleteTableAtSelection},togggleRowHeader:{text:"Add Row Header",onclick:this.EditorToolbarActions.tableActions.toggleTableRowIsHeader},toggleColumnHeader:{text:"Add Column Header",onclick:this.EditorToolbarActions.tableActions.toggleTableColumnIsHeader}}),this.options={...je,...e},this.input=t,this.readOnly=e.readOnly,this.init()}init(){this.editorElement.className=Ve,this.editorElement.classList.add(this.options.mode==="light"?"light":"dark"),this.input.insertAdjacentElement("afterend",this.editorElement),this.input.style.display="none",this.createEditorWorkSpace(),this.initLexical(),this.createToolbar(),this.appendStyleSheet(),this.attachEditorChangeEvent(),this.initWindowEvents(),this.initTableOptions(),this.initReadOnly()}createElement(t){return document.createElement(t)}createToolbarButton(t,e,i){const o=this.createElement("button");return o.className=`${Ve}__toolbar-button`,o.innerHTML=lt[t],o.title=t,o.setAttribute("data-action",t),i&&o.setAttribute("data-category",i),o.setAttribute("aria-label",t),o.style.border="none",o.style.cursor="pointer",o.style.padding="4px",o.style.borderRadius="4px",o.style.display="inline-flex",o.style.position="relative",o.style.transition="background-color 300ms ease-out",o.style.color="inherit",o.type="button",e&&o.addEventListener("click",e),o}createToolbarDropDownButton(t,e,i,o,s){var r,a;const l=this.createElement("button");if(l.dataset.id=t,s&&(l.dataset.category=s),i){const c=document.createElement("div");c.innerHTML=(r=se[t])==null?void 0:r.icon,l.append(c)}if(e){const c=document.createElement("span");c.innerText=e,l.append(c),c.style.color="inherit !important",c.style.fontWeight=((a=se[t])==null?void 0:a.weight)??"400"}return l.style.display="flex",l.style.padding="0px",l.style.alignItems="center",l.style.gap="8px",l.style.backgroundColor="transparent",l.style.border="none",l.style.cursor="pointer",l.style.width="100%",l.style.color="inherit !important",l.type="button",l.onclick=o,l}createToolbar(){var t,e,i,o,s,r,a,l,c,u,d,h,p,g,y,_;this.toolbar.className=`${Ve}__toolbar`,this.toolbar.style.display="flex",this.toolbar.style.alignItems="center",this.toolbar.style.gap="1rem",this.toolbar.style.flexWrap="wrap",this.toolbar.style.color=this.options.mode==="light"?"white":"black";const w=this.options.toolbar;if((e=(t=w.history)==null?void 0:t.filter(m=>je.toolbar.history.includes(m)))==null||e.forEach(m=>{const b=this.createToolbarButton(m,()=>this.EditorToolbarActions[m]());b.disabled=!0,this.toolbar.appendChild(b),this.buttons[m]=b}),(o=(i=w.formating)==null?void 0:i.filter(m=>je.toolbar.formating.includes(m)))==null||o.forEach(m=>{let b;switch(m){case"clearformat":b=this.createToolbarButton(m,()=>this.EditorToolbarActions.clearformat());break;default:b=this.createToolbarButton(m,()=>this.lexicalEditor.dispatchCommand(be,m))}b&&(this.toolbar.appendChild(b),this.buttons[m]=b)}),(s=w.color)==null||s.forEach(m=>{let b;b=this.createToolbarButton(m),this.toolbar.appendChild(b),this.addColorPickerToButton(b,m==="color"?"color":"background-color"),this.buttons[m]=b}),(a=(r=w.align)==null?void 0:r.filter(m=>je.toolbar.align.includes(m)))==null||a.forEach(m=>{const b=this.createToolbarButton(m,()=>{this.lexicalEditor.dispatchCommand(Il,m)});this.toolbar.appendChild(b),this.buttons[m]=b}),(c=(l=w.indentation)==null?void 0:l.filter(m=>je.toolbar.indentation.includes(m)))==null||c.forEach(m=>{let b;b=this.createToolbarButton(m,()=>{this.lexicalEditor.dispatchCommand(m==="indent"?Pl:cs)}),this.toolbar.appendChild(b),this.buttons[m]=b}),w.blockType&&w.blockType.length>0){const m=Xa([],this.options.mode);(d=(u=w.blockType)==null?void 0:u.filter(b=>je.toolbar.blockType.includes(b)))==null||d.forEach(b=>{let v;switch(b){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":v=this.createToolbarDropDownButton(b,se[b].text,se[b].icon,()=>{this.lexicalEditor.update(()=>{const x=W();Hi(x,()=>fn(b))})});break;case"paragraph":v=this.createToolbarDropDownButton(b,se[b].text,se[b].icon,()=>{this.lexicalEditor.update(()=>{const x=W();Hi(x,()=>ut())})});break;case"quote":v=this.createToolbarDropDownButton(b,se[b].text,se[b].icon,()=>{this.lexicalEditor.update(()=>{const x=W();Hi(x,()=>vr())})});break;case"code":v=this.createToolbarDropDownButton(b,se[b].text,se[b].icon,()=>{this.lexicalEditor.update(()=>{let x=W();if(x!==null)if(x.isCollapsed())Hi(x,()=>Qe());else{const k=x.getTextContent(),E=Qe();x.insertNodes([E]),x=W(),R(x)&&x.insertRawText(k)}})});break}m.appendOption(v),this.buttons[b]=v}),m.updateSelectedOption("paragraph"),this.attachEditorBlockDropDownChangeEvent(m),this.toolbar.appendChild(m)}if(w.fontSizes&&w.fontSizes.length>0){const m=Xa([],this.options.mode);w.fontSizes.forEach(b=>{let v=this.createToolbarDropDownButton(`font-size-${b}`,`${b}px`,void 0,()=>{this.lexicalEditor.update(()=>{const x=W();R(x)&&fa(x,{"font-size":b+"px"})})});b&&(m.appendOption(v),this.buttons[b]=v)}),this.attachEditorFontSizeDropDownChangeEvent(m),this.toolbar.appendChild(m)}const f={unordered:Ia,ordered:Ra,check:Ba};(p=(h=w.lists)==null?void 0:h.filter(m=>je.toolbar.lists.includes(m)))==null||p.forEach(m=>{let b=this.createToolbarButton(m,v=>{v.currentTarget.classList.contains("active")?this.lexicalEditor.dispatchCommand(Ha,void 0):this.lexicalEditor.dispatchCommand(f[m],void 0)},"list");this.toolbar.append(b),this.buttons[m]=b}),(g=w.media)==null||g.forEach(m=>{let b;switch(m){case"link":b=this.createToolbarButton(m);break;case"image":b=this.createToolbarButton(m,()=>{this.EditorToolbarActions.attachImage()});break;case"video":b=this.createToolbarButton(m,()=>{this.EditorToolbarActions.attachVideo()});break}b&&(this.toolbar.appendChild(b),this.buttons[m]=b)}),(y=w.direction)==null||y.forEach(m=>{const b=this.createToolbarButton(m,()=>{this.lexicalEditor.dispatchCommand(Sl,m)});this.toolbar.appendChild(b),this.buttons[m]=b}),(_=w.insert)==null||_.forEach(m=>{let b;switch(m){case"table":b=this.createToolbarButton(m,()=>{this.EditorToolbarActions.attachTable()});break}b&&(this.toolbar.appendChild(b),this.buttons[m]=b)}),this.editorElement.prepend(this.toolbar)}createEditorWorkSpace(){this.editorWorkSpace.className=`${Ve}__editor-work-space`,this.editorWorkSpace.contentEditable=!0,this.editorWorkSpace.style.border="1px solid black",this.editorWorkSpace.style.minHeight="400px",this.editorWorkSpace.style.padding="20px",this.editorWorkSpace.style.overflow="auto",this.editorWorkSpace.style.color=this.options.mode==="light"?"white":"black",this.editorElement.appendChild(this.editorWorkSpace)}initLexical(){this.lexicalEditor=Ec(Ja),this.historyState=sh(),this.lexicalEditor.setRootElement(this.editorWorkSpace),this.lexicalEditor.update(()=>{const t=new DOMParser().parseFromString(this.input.value||'<p><span style="white-space: pre-wrap;">Start Typing...</span></p>',"text/html"),e=Hc(this.lexicalEditor,t);xt().select(),Ts(e)}),this.lexicalEditor.dispatchCommand(_o),Ph(this.lexicalEditor),oh(this.lexicalEditor,this.historyState,1e3),this.lexicalEditor.registerUpdateListener(({editorState:t})=>{t.read(()=>{const e=Wc(this.lexicalEditor);this.input.value=e})}),this.registerEditorHistorycommands(),this.registerEditorCommands(),this.registerRootEventListers()}registerEditorHistorycommands(){this.lexicalEditor.registerCommand(Qn,t=>(this.buttons.undo&&(this.buttons.undo.disabled=!t),!1),Se),this.lexicalEditor.registerCommand(Gn,t=>(this.buttons.redo&&(this.buttons.redo.disabled=!t),!1),Se)}registerEditorCommands(){this.lexicalEditor.registerCommand(Sa,t=>{const e=W(),i=Nt(e),{hasImageChild:o}=t;if(!R(e))return!1;const s=Ct(t.title),r=Sn(t.url,t);if(r.append(s),e.getTextContent().trim())e.insertNodes([r]);else if(i.__type==="extended-text")if(o){const a=i.getPreviousSibling();yt(a)&&(a.setURL(t.url),a.setTarget(t.target),a.setRel(t.rel))}else{const a=i.getParent();yt(a)?(a.replace(r),r.selectEnd()):(a.clear(),a.append(r),a.selectEnd())}else o?yt(i)&&(i.replace(r,!0),r.selectEnd()):e.insertNodes([r]);return!0},Se),this.lexicalEditor.registerCommand(Ia,()=>(is(this.lexicalEditor,"bullet"),!0),Se),this.lexicalEditor.registerCommand(Ra,()=>(is(this.lexicalEditor,"number"),!0),Se),this.lexicalEditor.registerCommand(Ba,()=>(is(this.lexicalEditor,"check"),!0),Se),this.lexicalEditor.registerCommand(Ha,()=>(ph(this.lexicalEditor),!0),Se),this.lexicalEditor.registerCommand(kl,t=>{const{imageData:e,alt:i,url:o,sponsor:s,dofollow:r,nofollow:a,follow:l,target:c,editMode:u,originalSrc:d,cropBoxData:h,float:p,nodeKey:g,selection:y}=t,_=Cr({src:e,altText:i,width:"auto",height:"auto",originalSrc:d,cropBoxData:h,float:p}),w=[s,r,a,l].filter(Boolean),f=Sn(o,{...w.length>0&&{rel:w.join(" ")},target:c});if(g){const m=ct(g),{__width:b,__height:v}=m;_.setWidthAndHeight(b,v),o?(f.append(_),yt(m.getParent())?m.getParent().replace(f):m.replace(f),f.selectEnd()):m.replace(_)}else{const m=Nt(y),b=m.__type==="extended-text"?m.getParent():m;if(o){const v=f.getKey();f.setTitle(`nodekey-${v}`),f.append(_),b.append(f),b.selectEnd(),setTimeout(()=>{const x=document.querySelector(`[title="nodekey-${v}"]`);x.setAttribute("data-node-key",x.title.replace("nodekey-",""))},100)}else b.append(_),b.selectEnd()}return!0},it),this.lexicalEditor.registerCommand(El,t=>{const{videoData:e,editMode:i,float:o,nodeKey:s,poster:r}=t,a=xt(),l=W(),c=ct(s)||Nt(l),u=kr({src:e,width:"auto",height:"auto",float:o,poster:r}),d=ut();return i?(d.append(u),c.getParent().replace(d),d.selectEnd()):(d.append(u),a.append(d).selectEnd()),!0},it),this.lexicalEditor.registerCommand(Xi,()=>{const t=W(),e=Nt(t),i=e.getChildren?e.getChildren():[],[o]=i;return yt(o)&&i.length<3?(e.append(xe()),!0):!1},Se),this.lexicalEditor.registerCommand(Sl,t=>{var e,i,o,s,r,a,l,c,u;t==="rtl"?this.editorWorkSpace.classList.contains("rtl")?((e=this.buttons.rtl)==null||e.classList.remove("active"),this.editorWorkSpace.classList.remove("rtl")):((i=this.buttons.right)==null||i.classList.add("active"),(o=this.buttons.left)==null||o.classList.remove("active"),(s=this.buttons.rtl)==null||s.classList.add("active"),(r=this.buttons.ltr)==null||r.classList.remove("active"),this.editorWorkSpace.classList.add("rtl")):((a=this.buttons.rtl)==null||a.classList.remove("active"),(l=this.buttons.ltr)==null||l.classList.add("active"),(c=this.buttons.right)==null||c.classList.remove("active"),(u=this.buttons.left)==null||u.classList.add("active"),this.editorWorkSpace.classList.remove("rtl"))},it)}registerRootEventListers(){this.lexicalEditor.registerRootListener(t=>{t.addEventListener("click",e=>{const i=window.getSelection(),o=this.lexicalEditor.getRootElement();i.type!=="None"&&cg(i,o)})})}appendStyleSheet(){const t=document.createElement("style");t.innerHTML=`
      .CrimsonEditorTheme {
        font-family: inherit;
        display:flex;
        flex-direction:column;
        gap:24px;
      }

      .CrimsonEditorTheme.light .${Ve}__toolbar *{
        color:white !important;
      }

      .CrimsonEditorTheme .${Ve}__toolbar .select-dropdown-wrapper *{
        color:black !important;
      }

      .CrimsonEditorTheme .${Ve}__toolbar *:not(svg, path, button){
        color:black !important;
      }

      .CrimsonEditorTheme__textBold {
        font-weight: bold;
      }

      .CrimsonEditorTheme__editor-work-space.rtl *{
        direction: rtl !important;
      }
  
      .CrimsonEditorTheme__textCode {
        font-family: monospace;
      }
  
      .CrimsonEditorTheme__textItalic {
        font-style: italic;
      }
  
      .CrimsonEditorTheme__textStrikethrough {
        text-decoration: line-through;
      }
  
      .CrimsonEditorTheme__textUnderline {
        text-decoration: underline;
      }
  
      .CrimsonEditorTheme__textUnderlineStrikethrough {
        text-decoration: underline line-through;
      }
  
      .CrimsonEditorTheme__listItemChecked,
      .CrimsonEditorTheme__listItemUnchecked {
        position: relative;
        margin-left: 8px;
        margin-right: 8px;
        padding-left: 24px;
        padding-right: 24px;
        list-style-type: none;
        outline: none;
      }
  
      .CrimsonEditorTheme__listItemUnchecked:before, .CrimsonEditorTheme__listItemChecked:before {
        content: "";
        width: 16px;
        height: 16px;
        left: 0;
        top:2px;
        cursor: pointer;
        display: block;
        background-size: cover;
        position: absolute;
      }
  
      .CrimsonEditorTheme__listItemUnchecked:before {
        border: 1px solid #999;
        border-radius: 2px;
      }
  
      .CrimsonEditorTheme__listItemChecked:before {
        border: 1px solid rgb(61,135,245);
        border-radius: 2px;
        background-color: #3d87f5;
        background-repeat: no-repeat;
      }
  
      .CrimsonEditorTheme__listItemChecked:after {
        content: "";
        cursor: pointer;
        border-color: #fff;
        border-style: solid;
        position: absolute;
        display: block;
        top: 6px;
        width: 3px;
        left: 7px;
        right: 7px;
        height: 6px;
        transform: rotate(45deg);
        border-width: 0 2px 2px 0;
      }
  
      .CrimsonEditorTheme__listItemChecked > span{
        text-decoration: line-through;
      }
  
      .CrimsonEditorTheme__toolbar-button{
        background-color: transparent
      }
  
      .CrimsonEditorTheme__toolbar-button.active{
        background-color: rgba(195,195,195,0.5)
      }
  
      .select-dropdown-wrapper::-webkit-scrollbar{
        width:10px;
      }
  
      .select-dropdown-wrapper::-webkit-scrollbar-thumb{
        width:10px;
        background-color: #eeeeee;
        border-radius: 10px
      }
  
      .color-picker{
        position:absolute !important;
        top: 110% !important;
        left: 20% !important;
      }
  
      .CrimsonEditorTheme__link{
        display:inline-block
      }
  
      .CrimsonEditorTheme__link:has(span.float-left){
        float:left
      }
  
      .CrimsonEditorTheme__link:has(span.float-right){
        float:right
      }
  
      .CrimsonEditorTheme__paragraph:has(span.float-center){
        text-align:center
      }
}
    `,this.editorElement.prepend(t)}attachEditorChangeEvent(){const t=[this.buttons.unordered,this.buttons.ordered,this.buttons.check].filter(Boolean),e=this.buttons.link,i=this.buttons.color,o=this.buttons.fill,s=this,r=this.options.toolbar;this.lexicalEditor.registerUpdateListener(function({editorState:g}){g.read(function(){var y,_;const w=W();w&&((y=r.formating)==null||y.forEach(f=>{a(w,f)}),(_=r.align)==null||_.forEach(f=>{l(w,f)}),c(w),u(w),i&&d(w,i),o&&h(w,o),p(w))})});function a(g,y){s.buttons[y].classList.toggle("active",g.hasFormat(y))}function l(g,y){const _=Nt(g),w=_.getParent(),f=D(_)?_.getFormatType():(w==null?void 0:w.getFormatType())||"left",m=s.buttons[y];m&&(s.editorWorkSpace.classList.contains("rtl")?(s.buttons.rtl.classList.add("active"),s.buttons.ltr.classList.remove("active"),s.buttons.right.classList.add("active"),s.buttons.left.classList.remove("active")):(m.classList.toggle("active",f===y),s.buttons.ltr.classList.add("active"),s.buttons.rtl.classList.remove("active")))}function c(g){const y=g.anchor.getNode();let _=y.getKey()==="root"?y:he(y,m=>{const b=m.getParent();return b!==null&&ce(b)});_===null&&(_=y.getTopLevelElementOrThrow());const w=Oc(y,Dn),f=w?w.getListType():(_==null?void 0:_.getListType)&&_.getListType();t.forEach(m=>{m.dataset.action===ug[f]?m.classList.add("active"):m.classList.remove("active")})}function u(g){var y,_;const w=Nt(g),f=w.getParent();e&&(yt(w)||yt(f)?((y=s==null?void 0:s.isOnLinkEventListener)==null||y.call(s,!0),e.onclick=null,e.onclick=()=>{s.EditorToolbarActions.detachLink()},e.innerHTML=lt.unlink,e.classList.add("active")):((_=s==null?void 0:s.isOnLinkEventListener)==null||_.call(s,!1),e.onclick=null,e.onclick=()=>{s.EditorToolbarActions.attachLink()},e.innerHTML=lt.link,e.classList.remove("active")))}function d(g,y){const _=Qo(g,"color");if(_){y.style.backgroundColor=_.toString();const w=_.toString().includes("rgb")?Cl(_.toString()):_.toString();xl(w)?y.style.color="white":y.style.color="black"}else y.style.backgroundColor="transparent",y.style.color=s.options.mode==="light"?"white":"black"}function h(g,y){const _=Qo(g,"background-color");if(_){y.style.backgroundColor=_.toString();const w=_.toString().includes("rgb")?Cl(_.toString()):_.toString();xl(w)?y.style.color="white":y.style.color="black"}else y.style.backgroundColor="transparent",y.style.color=s.options.mode==="light"?"white":"black"}function p(g){var y,_,w,f,m,b,v,x;if(s.editorWorkSpace.classList.contains("rtl"))(v=s.buttons.rtl)==null||v.classList.add("active"),(x=s.buttons.ltr)==null||x.classList.remove("active");else{const k=Nt(g).getParent();if(k){const E=k.getDirection();E==="ltr"?((y=s.buttons.ltr)==null||y.classList.add("active"),(_=s.buttons.rtl)==null||_.classList.remove("active")):E==="rtl"?((w=s.buttons.rtl)==null||w.classList.add("active"),(f=s.buttons.ltr)==null||f.classList.remove("active")):((m=s.buttons.rtl)==null||m.classList.remove("active"),(b=s.buttons.ltr)==null||b.classList.remove("active"))}}}}attachEditorBlockDropDownChangeEvent(t){this.lexicalEditor.registerUpdateListener(({editorState:e})=>{e.read(()=>{const i=W();if(!i)return;const o=Nt(i),s=o.getParent();if(!D(o)){const r=s.getTag&&s.getTag(),a=s.getType&&s.getType(),l=r||a||"paragraph";t.updateSelectedOption(l)}})})}attachEditorFontSizeDropDownChangeEvent(t){this.lexicalEditor.registerUpdateListener(({editorState:e})=>{e.read(()=>{const i=W();if(!i)return;const o=Nt(i);if(o.getParent(),!D(o)){const s=Qo(i,"font-size");s?t.updateSelectedOption(`font-size-${parseInt(s).toString()}`):t.updateSelectedOption("font-size-16")}})})}initWindowEvents(){const t=this.editorElement,{list:e,link:i}=Ja.theme;let o=null,s=null;window.addEventListener("click",r=>{this.readOnly||!this.editorElement.contains(r.target)||this.readOnly||r.target.classList.contains(e.listitem)&&(r.target.classList.contains(e.listitemUnchecked)?r.target.classList.replace(e.listitemUnchecked,e.listitemChecked):r.target.classList.replace(e.listitemChecked,e.listitemUnchecked))}),window.addEventListener("click",r=>{var a,l,c,u,d;if(this.readOnly)return;const h=r.target.closest("img"),p=r.target.classList.contains("image-element")&&r.target,g=r.target.classList.contains("image-element-wrapper")&&r.target;if(r.target.classList.contains(i)||r.target.closest(`.${i}`)){const y=r.target.closest(`.${i}`),_=y.dataset.nodeKey;this.linkFloatButtons.attachTo(t,y),this.floatToolbar.appendLinkEdit({nodeKey:_}),(g||p)&&(((a=g==null?void 0:g.children)==null?void 0:a.item(0))||p).dataset.nodeKey!==o&&(this.imageResizer=new as({image:p||g.children[0],onResize:(w,f,m)=>{this.EditorToolbarActions.resizeImage(m.dataset.nodeKey,w,f)}}),o=(((l=g.children)==null?void 0:l.item(0))||p).dataset.nodeKey,this.floatToolbar.appendImageEdit({nodeKey:o}),this.floatToolbar.appendFloatImageLeft({nodeKey:o}),this.floatToolbar.appendFloatImageCenter({nodeKey:o}),this.floatToolbar.appendFloatImageRight({nodeKey:o}),this.floatToolbar.appendFitWidth({nodeKey:o})),this.linkFloatButtons.attachTo(t,y)}else if(g||p){(((c=g==null?void 0:g.children)==null?void 0:c.item(0))||p).dataset.nodeKey!==o&&((u=this.imageResizer)==null||u.destroy(),this.imageResizer=new as({image:p||g.children[0],onResize:(_,w,f)=>{this.EditorToolbarActions.resizeImage(f.dataset.nodeKey,_,w)}}),o=(((d=g.children)==null?void 0:d.item(0))||p).dataset.nodeKey);const y=h==null?void 0:h.dataset.nodeKey;this.floatToolbar.appendImageEdit({nodeKey:y}),this.floatToolbar.appendFloatImageLeft({nodeKey:y}),this.floatToolbar.appendFloatImageCenter({nodeKey:y}),this.floatToolbar.appendFloatImageRight({nodeKey:y}),this.floatToolbar.appendFitWidth({nodeKey:o}),this.linkFloatButtons.attachTo(t,p||g)}else o=null}),window.addEventListener("click",r=>{if(this.readOnly)return;const a=r.target.tagName==="VIDEO"&&r.target;a?(this.imageResizer=new as({image:a,onResize:(l,c,u)=>{this.EditorToolbarActions.resizeImage(u.dataset.nodeKey,l,c)}}),o=a.dataset.nodeKey,this.floatToolbar.appendVideoEdit({nodeKey:o}),this.floatToolbar.appendFloatImageLeft({nodeKey:o}),this.floatToolbar.appendFloatImageCenter({nodeKey:o}),this.floatToolbar.appendFloatImageRight({nodeKey:o}),this.floatToolbar.appendFitWidth({nodeKey:o}),this.linkFloatButtons.attachTo(t,a)):o=null}),window.addEventListener("click",r=>{if(this.readOnly)return;const a=r.target.closest("td, th, .table-options");a?(document.body.appendChild(this.tableOptionsWrapper),this.tableOptionsWrapper.attachTo(a),this.updateTableOptionsFeatures(a)):this.tableOptionsWrapper.removeSelf()}),window.addEventListener("mousedown",r=>{s=r.target}),window.addEventListener("mouseup",()=>{var r;if(s){if(s.classList.contains("image-resize-anchor"))return;(r=this.imageResizer)==null||r.destroy(),this.imageResizer=null,this.linkFloatButtons.close(),s=null}}),window.addEventListener("mousemove",r=>{this.linkFloatButtons.updatePosition()}),[{event:"edit-editor-link",action:this.EditorToolbarActions.attachLink},{event:"detach-editor-link",action:this.EditorToolbarActions.detachLink},{event:"edit-image",action:this.EditorToolbarActions.attachImage},{event:"float-image-left",action:this.EditorToolbarActions.floatImageLeft},{event:"float-image-center",action:this.EditorToolbarActions.floatImageCenter},{event:"float-image-right",action:this.EditorToolbarActions.floatImageRight},{event:"fit-image-width",action:this.EditorToolbarActions.fitImageWidth},{event:"edit-video",action:this.EditorToolbarActions.attachVideo}].forEach(r=>{window.addEventListener(r.event,a=>{r.action(a.detail.nodeKey)})})}appendLinkEditToLinkElement(t){const e=this.editorElement;if(!t||!(t instanceof HTMLAnchorElement))return;const i=t.dataset.nodeKey;this.floatToolbar.appendLinkEdit({nodeKey:i}),this.linkFloatButtons.attachTo(e,t)}appendLinkDetachToLinkElement(t){const e=this.editorElement;if(!t||!(t instanceof HTMLAnchorElement))return;const i=t.dataset.nodeKey;this.floatToolbar.appendLinkDetach({nodeKey:i}),this.linkFloatButtons.attachTo(e,t)}appendLinkEditAndDetachToLinkElement(t){const e=this.editorElement;if(!t||!(t instanceof HTMLAnchorElement))return;const i=t.dataset.nodeKey;this.floatToolbar.appendLinkEdit({nodeKey:i}),this.floatToolbar.appendLinkDetach({nodeKey:i}),this.linkFloatButtons.attachTo(e,t)}registerSelectAndLinkListener(t){const e=this,i={};this.lexicalEditor.registerUpdateListener(function({editorState:o}){o.read(function(){const s=W();if(!s)return;const r=Nt(s),a=r.getParent(),l=yt(r)?r:yt(a)?a:null;i.cursorOnLink=l!==null,i.cursorOnLinkElement=i.cursorOnLink?e.lexicalEditor.getElementByKey(l.__key):null,s||(i.selectionMade=!1),R(s)||(i.selectionMade=!1),s.getTextContent().length<=0?i.selectionMade=!1:i.selectionMade=!0;const c=s.getNodes().some(u=>yt(u)||yt(u.getParent()));i.selectedOverLink=c,t(i)})})}registerOnLinkListener(t){const e=this;this.lexicalEditor.registerUpdateListener(function({editorState:i}){i.read(function(){const o=W();if(!o)return;const s=Nt(o),r=s.getParent(),a=yt(s)?s:yt(r)?r:null;a!==null?t(!0,e.lexicalEditor.getElementByKey(a.__key)):t(!1)})})}registerOnTextSelectListener(t){this.lexicalEditor.registerUpdateListener(function({editorState:e}){e.read(function(){const i=W();if(!i||!R(i)||i.getTextContent().length<=0)return t(!1);const o=i.getNodes().some(s=>yt(s)||yt(s.getParent()));t(!0,o)})})}attachLink(){this.EditorToolbarActions.attachLink()}detachLink(){this.EditorToolbarActions.detachLink()}addColorPickerToButton(t,e){const i=lg(t);i.on("save",o=>{o&&this.lexicalEditor.update(()=>{const s=W();R(s)&&(fa(s,{[e]:o.toHEXA().toString()}),i.hide())})})}initTableOptions(){this.tableOptionsWrapper=sg(this.tableFeatures)}updateTableOptionsFeatures(t){this.lexicalEditor.update(()=>{const e=this.getLexicalKeyFromDOMElement(t),i=ct(e);if(i){const{__headerState:o}=i;switch(o){case 0:this.tableFeatures.toggleColumnHeader.text="Add Column Header",this.tableFeatures.togggleRowHeader.text="Add Row Header";break;case 1:this.tableFeatures.toggleColumnHeader.text="Add Column Header",this.tableFeatures.togggleRowHeader.text="Remove Row Header";break;case 2:this.tableFeatures.toggleColumnHeader.text="Remove Column Header",this.tableFeatures.togggleRowHeader.text="Add Row Header";break;case 3:this.tableFeatures.togggleRowHeader.text="Remove Row Header",this.tableFeatures.toggleColumnHeader.text="Remove Column Header";break}this.tableOptionsWrapper.updateFeatures(this.tableFeatures)}})}getLexicalKeyFromDOMElement(t){const e=Object.entries(t);let i="";for(let o=0;o<e.length;o++)if(e[o][0].startsWith("__lexicalKey")){i=e[o][1];break}return i}initReadOnly(){this.readOnly&&(this.lexicalEditor.registerCommand(Xi,()=>!0,pa),this.lexicalEditor.registerCommand(Vs,()=>!0,pa),this.lexicalEditor.setEditable(!1),this.lexicalEditor.registerRootListener((t,e)=>{t!==null&&t.addEventListener("keydown",i=>{(i.key.length===1||i.key==="Backspace"||i.key==="Delete")&&i.preventDefault()})}))}}window.CrimsonEditor=dg;const{error:Yn}=Cu();ku(".open-pay-publish",".page-close-side-bar",".side-bar");new Eu(ci(".tag-input"));$s(ci(".meta-info"));Su(".links-list").forEach($s);const hg=ci(".page-content"),Xn=new CrimsonEditor(Tl("blog-content-editor"),{mode:"light",toolbar:{},readOnly:!0}),Jn=Intl.NumberFormat("en-us",{style:"currency",currency:"USD"});setTimeout(()=>{hg.scrollTo(0,0)},10);function pg(){const n={"competitor-promotion":me.competitorPromotion.split(",").filter(Boolean),"unpaid-link":me.unpaidLink.split(",").filter(Boolean),"blocked-domain":me.blockedDomain.split(",").filter(Boolean)},t={"competitor-promotion":{title:"Competitor link Detected",message:"This post contains content promoting a business in violation of our non-compete guidelines. Please modify the post to comply with our policies"},"unpaid-link":{title:"Unpaid Link Detected",message:"Our system has detected an unpaid link previously inserted in your submission. To proceed, you may either remove the link and continue with the 'Pay Later' option or choose 'Pay & Publish Now' to complete your submission immediately."},"blocked-domain":{title:"Block Domain Detected",message:"Our system has detected a URL from a blocked domain in your submission. Please remove the link or contact our webmaster for assistance to proceed."}};class e{constructor({editor:r}){Hn(this,"editor");Hn(this,"alertParent");Hn(this,"animationConfig",{duration:800,easing:"cubic-bezier(.17,.67,.16,.99)",fill:"forwards"});Hn(this,"timeoutId",null);this.editor=r,this.alertParent=document.querySelector(".page-content > section > .blog-editor-wrapper > .alert-wrapper"),this.hrefCategories={"competitor-promotion":n["competitor-promotion"],"unpaid-link":n["unpaid-link"],"blocked-domain":n["blocked-domain"]},this.init()}init(){Xn.lexicalEditor.registerUpdateListener(()=>{const r=this.scanContent();this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.processDetectedCategories(r)},500)})}createAlert({type:r="warning",message:a="",title:l}){const c=G("div","animation-wrapper"),u=G("div",`admin-alert ${r}`),d=G("span","icon"),h=Wn("warning",28);d.appendChild(h);const p=G("div","content"),g=G("h2",void 0,l),y=G("p",void 0,a),_=G("a",void 0,"See our guidelines");return _.setAttribute("href","https://www.filmdistrictdubai.com/"),p.appendChild(g),p.appendChild(y),p.appendChild(_),u.appendChild(d),u.appendChild(p),c.appendChild(u),c.style.opacity="0",c.style.transform="scale(0.8)",c.style.height="0px",c.open=w=>{w.prepend(c),requestAnimationFrame(()=>{c.animate({height:c.scrollHeight+"px",marginBottom:"24px"},this.animationConfig);const f=c.animate({transform:"scale(1)",opacity:"1"},{...this.animationConfig,delay:300});f.onfinish=()=>{f.commitStyles(),f.cancel(),c.style.height="auto"}})},c.close=()=>{c.animate({transform:"scale(0.5)",opacity:"0"},this.animationConfig);const w=c.animate({height:"0px",marginBottom:"0px"},{...this.animationConfig,delay:300});w.onfinish=()=>{c.remove()}},c}scanContent(){const r={},a=Xn.editorWorkSpace.querySelectorAll("a"),l=[];a.forEach(u=>{var h;const d=((h=u.getAttribute("href"))==null?void 0:h.toLowerCase())||"";Object.keys(this.hrefCategories).forEach(p=>{this.hrefCategories[p].some(y=>d.includes(y.toLowerCase()))&&(r[p]||(r[p]=new Set),l.push({category:p,href:d,element:u}),r[p].add(d))})});const c=new CustomEvent("content-violation",{detail:{violations:l,detectedCategories:r}});return window.dispatchEvent(c),r}processDetectedCategories(r){const a=Object.keys(r),l=this.alertParent;a.forEach(c=>{if(!l.querySelector(`[data-category="${c}"]`)){const d=this.createAlert(t[c]);d.firstElementChild.setAttribute("data-category",c),d.open(l)}}),Array.from(l.children).filter(c=>!a.includes(c.firstElementChild.dataset.category)).forEach(c=>{c.close()})}}new e({editor:Xn});const i={easing:"cubic-bezier(.24,.67,.08,.99)",duration:700,fill:"forwards"};class o{constructor({editor:r,container:a,form:l}){this.isLinkAddedByUser=this.isLinkAddedByUser.bind(this),this.editor=r,this.postReference=me.postReference,this.postLinksData=JSON.parse(me.postLinksData),this.postLinksElementList=this.postLinksData.map(c=>{const u=this.editor.editorWorkSpace.querySelectorAll(`a[href="${c.url}"]`);return{...c,element:u[c.order],isValid:!0}}),this.userId=me.userId,this.container=a,this.userLinks=[],this.userLinksCount=0,this.userPaidLinksCount=this.getUserPaidLinks().length,this.costPerLink=parseFloat(me.costPerLink),this.isFreeMode=!0,this.links=null,this.form=l,this.hasViolation=!1,this.submitter=null,this.isSubmitting=!1,this.formData=null,this.footer=G("footer"),this.linkAddRemoveButton=Tl("add-detach-link"),this.linkElementToEditIndex=null,this.linkSummaryLinksList=null,this.linkSummaryUsedLinksCount=null,this.newLinksCountElement=null,this.newLinksTotalCostElement=null,this.newLinksSummaryLinksList=null,this.publishButton=null,this.newLinks=[],this.addedViolationLinkElems=[],this.paymentSummary=null,this.hasMadeChange=!1,this.linksOrder=this.getUserLinks(),this.init()}init(){this.updateUserLinksIndicator(),this.initContainer(),this.initEditor(),this.initViolationDetector(),this.initForm(),this.monitorLinkAdditionToEditor(),this.monitorLinkClickEvent()}createLinksSummary(){const r=G("section","payment-summary","",{"data-links-summary":""}),a=G("header");a.appendChild(G("h2","","Link Summary"));const{value:l,detail:c}=this.createDetail("Paid Links",this.userPaidLinksCount),{value:u,detail:d}=this.createDetail("Used Links",this.userPaidLinksCount),{linkContainer:h,linksList:p}=this.createLinksList(this.getUserLinks());return this.linkSummaryUsedLinksCount=u,r.append(a,c,d,h),{section:r,paidLinks:l,usedLinks:u,linksList:p}}createPaymentSummarySection(){const r=G("div","payment-summary-wrapper"),a=G("section","payment-summary"),l=G("header"),c=G("h2",void 0,"Payment Summary"),{detail:u,value:d}=this.createDetail("Total Links",this.newLinks.length),{detail:h,value:p}=this.createDetail("Cost per link",Jn.format(this.costPerLink)),{detail:g,value:y}=this.createDetail("Total Cost",Jn.format(this.newLinks.length*this.costPerLink)),{linkContainer:_,linksList:w}=this.createLinksList(this.newLinks);return l.append(c),a.append(l,u,h,g,_),r.append(a),this.costPerLinkElementValue=p,this.newLinksCountElement=d,this.newLinksTotalCostElement=y,this.newLinksSummaryLinksList=w,{linksCountElement:d,costPerLinkElementValue:p,linksTotalCostElement:y,paymentSummaryWrapper:r}}createPublishButton(){const r=G("div","publish-button-wrapper"),a=G("button","publish pay-publish dynamic-button clickable");a.disabled=!0;const l=G("span","idle","Publish");return a.append(l),r.append(a),zo(a),this.publishButton=a,{publishButtonWrapper:r,publishButton:a}}createPayNowPublishButton(){const r=G("div","publish-button-wrapper"),a=G("button","pay-publish dynamic-button clickable"),l=G("span","idle",""),c=G("span",void 0,"Pay & Publish Now"),u=Wn("paper-plane-tilt");return l.append(c,u),a.append(l),r.append(a),zo(a),{publishButtonWrapper:r,publishButton:a}}createPayLaterPublishButton(){const r=G("div","publish-button-wrapper"),a=G("button","pay-later-publish dynamic-button clickable"),l=G("span","idle",""),c=G("span",void 0,"Pay Later & Publish"),u=Wn("timer");return l.append(c,u),a.append(l),r.append(a),zo(a),{publishButtonWrapper:r,publishButton:a}}createDetail(r,a){const l=G("div","detail"),c=G("div","title",r),u=G("div","value",a);return l.append(c,u),{detail:l,title:c,value:u}}createLinksList(r){const a=G("div","links-list"),l=G("header","toggle"),c=G("h3"),u=G("button","section-drop-down-control",void 0,{type:"button","aria-label":"Dropdown control"});u.append(Wn("caret-down",16,"0 0 24 24"));const d=G("div","drop-down",void 0,{"data-default-closed":"true"}),h=G("ul");return h.append(...[...r].map(p=>{const g=p.getAttribute("href"),y=G("li"),_=G("a","",g,{href:g,target:"_blank"});return y.append(_),y})),d.append(h),l.append(c,u),a.append(l,d),$s(a),{linkContainer:a,linksList:h}}initContainer(){const r=this.createLinksSummary();this.linkSummaryLinksList=r.linksList,this.footer.append(this.createPublishButton().publishButtonWrapper),this.container.append(r.section,this.footer)}initEditor(){this.editor.lexicalEditor.registerUpdateListener(async()=>{setTimeout(async()=>{this.userLinks=this.getValidUserLinks(),this.userLinksCount=this.userLinks.length,this.newLinks=this.userLinks.slice(this.userPaidLinksCount),this.updateSummaryContent(),this.userLinksCount>this.userPaidLinksCount?this.activatePaymentMode():this.activateFreeMode(),this.enablePaymentButtons()},150)}),Xn.registerSelectAndLinkListener(r=>{if(!r.selectionMade&&r.cursorOnLink){this.removelinkMode(r.cursorOnLinkElement),this.isLinkAddedByUser(r.cursorOnLinkElement)?this.enablLinkAddRemoveButton():this.disableLinkAddRemoveButton();return}if(r.selectionMade||(this.addLinkMode(),this.disableLinkAddRemoveButton()),r.selectionMade&&r.selectedOverLink){this.addLinkMode(),this.disableLinkAddRemoveButton();return}if(r.selectionMade){this.addLinkMode(),this.enablLinkAddRemoveButton();return}})}async activateFreeMode(){if(!this.isFreeMode){this.isFreeMode=!0;const{publishButtonWrapper:r,publishButton:a}=this.createPublishButton();this.publishButton=a,await this.animateElementOut(this.paymentSummary),this.paymentSummary=null;const l=this.footer.children;l.length>0&&await Promise.all([...l].map(c=>this.animateElementOut(c))),this.animateElementIn(r,this.footer),this.updateSummaryContent()}}async activatePaymentMode(){if(this.isFreeMode){this.isFreeMode=!1;const{paymentSummaryWrapper:r}=this.createPaymentSummarySection(),{publishButtonWrapper:a,publishButton:l}=this.createPayNowPublishButton(),{publishButtonWrapper:c,publishButton:u}=this.createPayLaterPublishButton();this.payPublishButton=l,this.payLaterPublishButton=u;const d=this.footer.children;d.length>0&&await Promise.all([...d].map(h=>this.animateElementOut(h))),this.publishButton=null,this.paymentSummary=r,this.footer.insertAdjacentElement("beforebegin",r),this.animateElementIn(a,this.footer),this.animateElementIn(c,this.footer),this.updateSummaryContent()}}initViolationDetector(){window.addEventListener("content-violation",r=>{const{detail:{detectedCategories:a,violations:l}}=r;this.hasViolation=Object.keys(a).length!==0,!this.hasViolation?this.enablePaymentButtons():this.disablePaymentButtons(),this.editor.editorWorkSpace.querySelectorAll("a").forEach(d=>{window.getComputedStyle(d).outline.includes("rgb(255, 187, 0)"),l.find(g=>g.element===d)&&setTimeout(()=>{d.style.padding="4px",d.style.borderRadius="4px",d.style.outline="1px dashed #FFBB00"},550)}),Object.keys(a).length>0?(this.hasViolation=!0,this.disablePaymentButtons()):(this.hasViolation=!1,this.enablePaymentButtons())})}async uploadPost(r){if(this.isSubmitting)return;this.isSubmitting=!0;const a=this.postLinksElementList.filter(c=>this.isLinkAddedByUser(c.element)).map(({element:c,...u})=>u);this.formData.append("pay_status",r),this.formData.append("post_hrefs",a.map(c=>c.url).join(",")),this.formData.append("post_links",JSON.stringify(a)),this.formData.append("post_reference",this.postReference);const l=this;try{const c=new XMLHttpRequest;c.upload.addEventListener("progress",function(u){const d=u.loaded/u.total*100;l.submitter.progress(d)}),await new Promise((u,d)=>{c.addEventListener("load",function(){try{const h=JSON.parse(c.response);c.status>=200&&c.status<300&&h.status?(l.submitter.success(),setTimeout(()=>{window.location.href=h.redirect},2e3),u()):(l.submitter.error(),Yn(h.message,5e3),d(new Error("Error Uploading Post")))}catch(h){throw l.submitter.error(),Yn("Sorry an an Error Occured!, Please try again.",5e3),d(),h}}),c.addEventListener("error",()=>{l.submitter.error(),d(new Error("Network error occurred"))}),c.addEventListener("timeout",()=>{l.submitter.error(),d(new Error("Request timed out"))}),c.open("POST","/api/v1/guestblog/create-insertion",!0),c.timeout=3e4,c.send(l.formData)})}catch(c){throw c}finally{this.isSubmitting=!1}}payNowUploadPost(){const r=new FormData(this.form),a=this.editor.editorWorkSpace.querySelectorAll("a");r.append("post_hrefs",[...a].map(u=>u.href).join(","));const{modal:l,paypalButtonWrapper:c}=this.createPaymentSummaryDialogue();document.body.append(l),this.initPaypalButton(c,l,r)}payLaterUploadPost(){this.uploadPost("pending")}createPaymentSummaryDialogue(){const r=G("div","overflow",void 0,{role:"dialogue","data-modal-element":"",id:"payment-modal","data-modal-title":"","aria-label":"Payment Dialogue"}),a=G("div","content-wrapper"),l=G("div","content"),c=G("header"),u=Wn("thumbs-up",117),d=G("h2",void 0,"Pay & Publish Now");c.append(u,d);const h=G("div","summary"),p=this.createSummaryGroup(),g=this.createSummaryItem("customer-name","Customer Name",me.blogAuthor);p.append(g);const y=this.createSummaryGroup(),_=this.createSummaryItem("blog-title","Blog Title",me.blogTitle);y.append(_);const w=this.createSummaryGroup("total-links"),f=this.createSummaryItem("","Total Links",this.newLinks.length),m=this.createSummaryItem("cost-per-link","Cost per Link",Jn.format(this.costPerLink));w.append(f,m);const b=this.createSummaryGroup("total"),v=this.createSummaryItem("total","Total",Jn.format(this.costPerLink*this.newLinks.length));b.append(v),h.append(p,y,w,b);const x=G("div",void 0,void 0,{id:"paypal-pay-button-wrapper"});return l.append(c,h,x),a.append(l),r.append(a),Tu(r),window.addEventListener("modal-close",k=>{k.detail===r&&(this.submitter&&this.submitter.idle(),setTimeout(()=>{r.remove()},1e3))},{once:!0}),{modal:r,paypalButtonWrapper:x}}initForm(){this.form.addEventListener("submit",async r=>{if(r.preventDefault(),this.hasViolation)return;const a=r.submitter;this.submitter=a,this.formData=new FormData(this.form);try{a===this.publishButton&&this.linksCount<=0&&this.isFreeMode?this.uploadPost("now"):a===this.payPublishButton?this.payNowUploadPost():a===this.payLaterPublishButton&&this.payLaterUploadPost()}catch(l){Yn(l.message,5e3)}})}createSummaryGroup(r){return G("div",`summary-group ${r||""}`)}createSummaryItem(r,a,l){const c=G("div",`summary-item ${r||""}`),u=G("div","title",a),d=G("div","value",l);return c.append(u,d),c}animateElementOut(r){if(r.parentElement)return new Promise(a=>{r.animate({transform:["scale(1)","scale(0.5)"],opacity:["1","0"]},i);const l=r.animate({width:[r.offsetWidth+"px","0px"],height:[r.offsetHeight+"px","0px"],marginBottom:["24px","0px"]},{...i,delay:300});l.onfinish=()=>{r.remove(),a()}})}animateElementIn(r,a){if(a)return r.style.transform="scale(0.5)",r.style.opacity="0",r.style.width="0px",r.style.height="0px",a.append(r),new Promise(l=>{r.animate({width:["0px","100%"],height:["0px","100%"],marginBottom:["0px","24px"]},i);const c=r.animate({transform:["scale(0.5)","scale(1)"],opacity:["0","1"]},{...i,delay:300});c.onfinish=()=>{l()}})}async initPaypalButton(r,a){const l=this;l.submitter.loading();let c=0;try{window.paypal.Buttons({style:{color:"silver",shape:"rect",borderRadius:10,layout:"vertical"},onInit(){l.getPostPrice().then(u=>{c=u,a.open()}).catch(u=>{throw l.submitter.error(),new Error(u.message)})},onError(u){console.log("PayPal Error:"+u),l.submitter.error()},async createOrder(){const u=new FormData;u.append("amount",c),u.append("currency","USD");const h=await(await fetch("/api/v1/payment/guestblog/paypal-order",{method:"POST",body:u})).json();return console.log(h),h.data},async onApprove(u,d){try{await l.uploadPost("paid"),l.submitter.success()}catch(h){console.log(h),l.submitter.error()}finally{a.close()}}}).render(r)}catch(u){throw console.log(u),Yn(u.message,5e3),a.open(),l.submitter.error(),Yn}}async getPostPrice(){const r=new FormData;return r.append("post_hrefs",this.linksOrder.slice(this.userPaidLinksCount).map(l=>l.href).join(",")),r.append("post_reference",this.postReference),(await this.sendData("/api/v1/guestblog/link-insertion-charges",r)).postAmount}disablePaymentButtons(){this.hasViolation&&setTimeout(()=>{[this.payLaterPublishButton,this.payPublishButton,this.publishButton].filter(Boolean).forEach(r=>r.disabled=!0)},200)}enablePaymentButtons(){!this.hasViolation&&this.hasMadeChange&&setTimeout(()=>{[this.payLaterPublishButton,this.payPublishButton,this.publishButton].filter(Boolean).forEach(r=>r.disabled=!1)},200)}async sendData(r,a){return new Promise((l,c)=>{const u=new XMLHttpRequest;u.addEventListener("load",function(){try{const p=JSON.parse(u.response);u.status>=200&&u.status<300?l(p):c(new Error(p.message||"Request failed"))}catch{c(new Error("Invalid JSON response"))}}),u.addEventListener("error",()=>{c(new Error("Network error occurred"))}),u.addEventListener("timeout",()=>{c(new Error("Request timed out"))});const d=a instanceof FormData,h=!d&&typeof a=="object";try{u.open("POST",r,!0),u.timeout=3e4,h&&u.setRequestHeader("Content-Type","application/json"),u.send(d?a:JSON.stringify(a))}catch{c(new Error("Failed to send request"))}})}getEditorLinks(){return[...this.editor.editorWorkSpace.querySelectorAll("a")]}getUserLinks(){return[...this.getEditorLinks()].filter(this.isLinkAddedByUser)}getValidUserLinks(){return[...this.getEditorLinks()].filter(this.isLinkAddedByUser).filter(this.isLinkValid)}getUserPaidLinks(){return[...this.getEditorLinks()].filter(this.isLinkAddedByUser)}isLinkAddedByUser(r){return this.postLinksElementList.some(a=>a.userId===this.userId&&a.element===r)}monitorLinkAdditionToEditor(){window.addEventListener("prompt-result",r=>{setTimeout(()=>{const a=this.getEditorLinks();if(this.linkElementToEditIndex)this.editLink(this.linkElementToEditIndex);else{const l=[...a].find(c=>!this.postLinksElementList.some(u=>u.element===c));this.addLink({userId:this.userId,url:l.href,anchor:l.textContent,element:l})}this.updateUserLinksIndicator(),this.updateSummaryContent()},100)})}updateUserLinksIndicator(){this.postLinksElementList.forEach(r=>{r.element.style.padding="4px",r.element.style.borderRadius="4px",r.userId===this.userId?r.isValid?r.element.style.outline="1px dotted green":r.element.style.outline="1px dotted rgb(255, 187, 0)":r.element.style.outline="1px dotted red"})}disableLinkAddRemoveButton(){this.linkAddRemoveButton.disabled=!0,this.linkAddRemoveButton.onclick=null}enablLinkAddRemoveButton(){this.linkAddRemoveButton.disabled=!1}addLinkMode(){this.linkAddRemoveButton.children[1].innerHTML="Add Link",this.linkAddRemoveButton.onclick=()=>{this.linkElementToEditIndex=null,this.editor.attachLink()}}removelinkMode(r){this.linkAddRemoveButton.children[1].innerHTML="Remove Link",this.linkAddRemoveButton.onclick=()=>{this.removeLink(r)}}removeLink(r){this.isLinkAddedByUser(r)&&(this.postLinksElementList=this.postLinksElementList.filter(a=>a.element!==r),this.linksOrder=this.linksOrder.filter(a=>a!==r),this.hasMadeChange=!0,this.editor.detachLink(),setTimeout(()=>{this.updatePostLinksElementData(),this.updateSummaryContent()},150))}addLink(r){this.hasMadeChange=!0,this.postLinksElementList=[...this.postLinksElementList,r],this.updatePostLinksElementData(),this.updateSummaryContent(),this.updateUserLinksIndicator(),this.linksOrder.push(r.element)}getAnchorMapping(r){const a=this.getEditorLinks(),l=a.indexOf(r);let c=0;for(let u=0;u<l;u++)a[u].href===r.href&&c++;return{index:l,order:c}}editLink(r){if(r===-1)return;const l=this.getEditorLinks()[r];if(!l)return;this.updatePostLinksElementData();const c=this.isLinkValid(l);this.postLinksElementList[r].url=l.href,this.postLinksElementList[r].element=l,this.postLinksElementList[r].isValid=c,c&&(this.hasMadeChange=!0)}updatePostLinksElementData(){const r=this.postLinksElementList||[],a=this.getEditorLinks(),l=Array.from(a).map((u,d)=>({userId:r[d].userId,url:u.href,anchor:u.innerText,index:d,element:u,isValid:this.isLinkValid(u)})),c={};l.forEach(u=>{c[u.url]||(c[u.url]=0),u.order=c[u.url],c[u.url]++}),this.postLinksElementList=l,this.updateUserLinksIndicator()}monitorLinkClickEvent(){window.addEventListener("click",r=>{const a=r.target.closest("a");a&&a instanceof HTMLAnchorElement&&this.isLinkAddedByUser(a)&&(this.editor.appendLinkEditToLinkElement(a),this.linkElementToEditIndex=[...a.parentElement.querySelectorAll("a")].findIndex(l=>l===a))})}updateSummaryContent(){var r;(r=this.linkSummaryLinksList)==null||r.replaceChildren(...this.linksOrder.filter(this.isLinkAddedByUser).slice(0,this.userPaidLinksCount).map(this.createSummaryLinkListItem)),this.linkSummaryUsedLinksCount&&(this.linkSummaryUsedLinksCount.textContent=Math.min(this.userLinks.length,this.userPaidLinksCount)),this.newLinksCountElement&&(this.newLinksCountElement.textContent=this.newLinks.length),this.newLinksTotalCostElement&&(this.newLinksTotalCostElement.textContent=Jn.format(this.newLinks.length*this.costPerLink)),this.newLinksSummaryLinksList&&this.newLinksSummaryLinksList.replaceChildren(...this.linksOrder.slice(this.userPaidLinksCount).filter(this.isLinkAddedByUser).map(this.createSummaryLinkListItem))}isLinkValid(r){var u;const a=((u=r.getAttribute("href"))==null?void 0:u.toLowerCase())||"";let l=!0;const c={"competitor-promotion":n["competitor-promotion"],"unpaid-link":n["unpaid-link"],"blocked-domain":n["blocked-domain"]};return Object.keys(c).forEach(d=>{c[d].some(p=>a.includes(p.toLowerCase()))&&(l=!1)}),l}createSummaryLinkListItem(r){const a=G("li");return a.appendChild(G("a","",r.href,{href:r.href,target:"_blank"})),a}}new o({editor:Xn,container:ci(".side-bar"),form:ci("form.page-content")})}setTimeout(pg,500);

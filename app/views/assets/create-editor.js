var hu=Object.defineProperty,pu=(n,t,e)=>t in n?hu(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,tt=(n,t,e)=>pu(n,typeof t!="symbol"?t+"":t,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fu={exports:{}};(function(n){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
* Prism: Lightweight, robust, elegant syntax highlighting
*
* @license MIT <https://opensource.org/licenses/MIT>
* @author Lea Verou <https://lea.verou.me>
* @namespace
* @public
*/var e=function(i){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,r=0,s={},a={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function f(m){return m instanceof l?new l(m.type,f(m.content),m.alias):Array.isArray(m)?m.map(f):m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(f){return Object.prototype.toString.call(f).slice(8,-1)},objId:function(f){return f.__id||Object.defineProperty(f,"__id",{value:++r}),f.__id},clone:function f(m,b){b=b||{};var v,x;switch(a.util.type(m)){case"Object":if(x=a.util.objId(m),b[x])return b[x];v={},b[x]=v;for(var E in m)m.hasOwnProperty(E)&&(v[E]=f(m[E],b));return v;case"Array":return x=a.util.objId(m),b[x]?b[x]:(v=[],b[x]=v,m.forEach(function(k,S){v[S]=f(k,b)}),v);default:return m}},getLanguage:function(f){for(;f;){var m=o.exec(f.className);if(m)return m[1].toLowerCase();f=f.parentElement}return"none"},setLanguage:function(f,m){f.className=f.className.replace(RegExp(o,"gi"),""),f.classList.add("language-"+m)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(v){var f=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(v.stack)||[])[1];if(f){var m=document.getElementsByTagName("script");for(var b in m)if(m[b].src==f)return m[b]}return null}},isActive:function(f,m,b){for(var v="no-"+m;f;){var x=f.classList;if(x.contains(m))return!0;if(x.contains(v))return!1;f=f.parentElement}return!!b}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(f,m){var b=a.util.clone(a.languages[f]);for(var v in m)b[v]=m[v];return b},insertBefore:function(f,m,b,v){v=v||a.languages;var x=v[f],E={};for(var k in x)if(x.hasOwnProperty(k)){if(k==m)for(var S in b)b.hasOwnProperty(S)&&(E[S]=b[S]);b.hasOwnProperty(k)||(E[k]=x[k])}var R=v[f];return v[f]=E,a.languages.DFS(a.languages,function(z,K){K===R&&z!=f&&(this[z]=E)}),E},DFS:function f(m,b,v,x){x=x||{};var E=a.util.objId;for(var k in m)if(m.hasOwnProperty(k)){b.call(m,k,m[k],v||k);var S=m[k],R=a.util.type(S);R==="Object"&&!x[E(S)]?(x[E(S)]=!0,f(S,b,null,x)):R==="Array"&&!x[E(S)]&&(x[E(S)]=!0,f(S,b,k,x))}}},plugins:{},highlightAll:function(f,m){a.highlightAllUnder(document,f,m)},highlightAllUnder:function(f,m,b){var v={callback:b,container:f,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",v),v.elements=Array.prototype.slice.apply(v.container.querySelectorAll(v.selector)),a.hooks.run("before-all-elements-highlight",v);for(var x=0,E;E=v.elements[x++];)a.highlightElement(E,m===!0,v.callback)},highlightElement:function(f,m,b){var v=a.util.getLanguage(f),x=a.languages[v];a.util.setLanguage(f,v);var E=f.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,v);var k=f.textContent,S={element:f,language:v,grammar:x,code:k};function R(K){S.highlightedCode=K,a.hooks.run("before-insert",S),S.element.innerHTML=S.highlightedCode,a.hooks.run("after-highlight",S),a.hooks.run("complete",S),b&&b.call(S.element)}if(a.hooks.run("before-sanity-check",S),E=S.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!S.code){a.hooks.run("complete",S),b&&b.call(S.element);return}if(a.hooks.run("before-highlight",S),!S.grammar){R(a.util.encode(S.code));return}if(m&&i.Worker){var z=new Worker(a.filename);z.onmessage=function(K){R(K.data)},z.postMessage(JSON.stringify({language:S.language,code:S.code,immediateClose:!0}))}else R(a.highlight(S.code,S.grammar,S.language))},highlight:function(f,m,b){var v={code:f,grammar:m,language:b};if(a.hooks.run("before-tokenize",v),!v.grammar)throw new Error('The language "'+v.language+'" has no grammar.');return v.tokens=a.tokenize(v.code,v.grammar),a.hooks.run("after-tokenize",v),l.stringify(a.util.encode(v.tokens),v.language)},tokenize:function(f,m){var b=m.rest;if(b){for(var v in b)m[v]=b[v];delete m.rest}var x=new h;return d(x,x.head,f),u(f,x,m,x.head,0),g(x)},hooks:{all:{},add:function(f,m){var b=a.hooks.all;b[f]=b[f]||[],b[f].push(m)},run:function(f,m){var b=a.hooks.all[f];if(!(!b||!b.length))for(var v=0,x;x=b[v++];)x(m)}},Token:l};i.Prism=a;function l(f,m,b,v){this.type=f,this.content=m,this.alias=b,this.length=(v||"").length|0}l.stringify=function f(m,b){if(typeof m=="string")return m;if(Array.isArray(m)){var v="";return m.forEach(function(R){v+=f(R,b)}),v}var x={type:m.type,content:f(m.content,b),tag:"span",classes:["token",m.type],attributes:{},language:b},E=m.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(x.classes,E):x.classes.push(E)),a.hooks.run("wrap",x);var k="";for(var S in x.attributes)k+=" "+S+'="'+(x.attributes[S]||"").replace(/"/g,"&quot;")+'"';return"<"+x.tag+' class="'+x.classes.join(" ")+'"'+k+">"+x.content+"</"+x.tag+">"};function c(f,m,b,v){f.lastIndex=m;var x=f.exec(b);if(x&&v&&x[1]){var E=x[1].length;x.index+=E,x[0]=x[0].slice(E)}return x}function u(f,m,b,v,x,E){for(var k in b)if(!(!b.hasOwnProperty(k)||!b[k])){var S=b[k];S=Array.isArray(S)?S:[S];for(var R=0;R<S.length;++R){if(E&&E.cause==k+","+R)return;var z=S[R],K=z.inside,j=!!z.lookbehind,Z=!!z.greedy,q=z.alias;if(Z&&!z.pattern.global){var I=z.pattern.toString().match(/[imsuy]*$/)[0];z.pattern=RegExp(z.pattern.source,I+"g")}for(var C=z.pattern||z,T=v.next,A=x;T!==m.tail&&!(E&&A>=E.reach);A+=T.value.length,T=T.next){var D=T.value;if(m.length>f.length)return;if(!(D instanceof l)){var L=1,N;if(Z){if(N=c(C,A,f,j),!N||N.index>=f.length)break;var $=N.index,O=N.index+N[0].length,M=A;for(M+=T.value.length;$>=M;)T=T.next,M+=T.value.length;if(M-=T.value.length,A=M,T.value instanceof l)continue;for(var B=T;B!==m.tail&&(M<O||typeof B.value=="string");B=B.next)L++,M+=B.value.length;L--,D=f.slice(A,M),N.index-=A}else if(N=c(C,0,D,j),!N)continue;var $=N.index,Y=N[0],X=D.slice(0,$),J=D.slice($+Y.length),G=A+D.length;E&&G>E.reach&&(E.reach=G);var ct=T.prev;X&&(ct=d(m,ct,X),A+=X.length),p(m,ct,L);var st=new l(k,K?a.tokenize(Y,K):Y,q,Y);if(T=d(m,ct,st),J&&d(m,T,J),L>1){var pt={cause:k+","+R,reach:G};u(f,m,b,T.prev,A,pt),E&&pt.reach>E.reach&&(E.reach=pt.reach)}}}}}}function h(){var f={value:null,prev:null,next:null},m={value:null,prev:f,next:null};f.next=m,this.head=f,this.tail=m,this.length=0}function d(f,m,b){var v=m.next,x={value:b,prev:m,next:v};return m.next=x,v.prev=x,f.length++,x}function p(f,m,b){for(var v=m.next,x=0;x<b&&v!==f.tail;x++)v=v.next;m.next=v,v.prev=m,f.length-=x}function g(f){for(var m=[],b=f.head.next;b!==f.tail;)m.push(b.value),b=b.next;return m}if(!i.document)return i.addEventListener&&(a.disableWorkerMessageHandler||i.addEventListener("message",function(f){var m=JSON.parse(f.data),b=m.language,v=m.code,x=m.immediateClose;i.postMessage(a.highlight(v,a.languages[b],b)),x&&i.close()},!1)),a;var y=a.util.currentScript();y&&(a.filename=y.src,y.hasAttribute("data-manual")&&(a.manual=!0));function _(){a.manual||a.highlightAll()}if(!a.manual){var w=document.readyState;w==="loading"||w==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",_):window.requestAnimationFrame?window.requestAnimationFrame(_):window.setTimeout(_,16)}return a}(t);n.exports&&(n.exports=e),typeof ys<"u"&&(ys.Prism=e),e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(i,o){var r={};r["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[o]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};s["language-"+o]={pattern:/[\s\S]+/,inside:e.languages[o]};var a={};a[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:s},e.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(i,o){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:e.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml,function(i){var o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var r=i.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript,function(){if(typeof e>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading…",o=function(y,_){return"✖ Error "+y+" while fetching file: "+_},r="✖ Error: File does not exist or is empty",s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",c="loaded",u="failed",h="pre[data-src]:not(["+a+'="'+c+'"]):not(['+a+'="'+l+'"])';function d(y,_,w){var f=new XMLHttpRequest;f.open("GET",y,!0),f.onreadystatechange=function(){f.readyState==4&&(f.status<400&&f.responseText?_(f.responseText):f.status>=400?w(o(f.status,f.statusText)):w(r))},f.send(null)}function p(y){var _=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(y||"");if(_){var w=Number(_[1]),f=_[2],m=_[3];return f?m?[w,Number(m)]:[w,void 0]:[w,w]}}e.hooks.add("before-highlightall",function(y){y.selector+=", "+h}),e.hooks.add("before-sanity-check",function(y){var _=y.element;if(_.matches(h)){y.code="",_.setAttribute(a,l);var w=_.appendChild(document.createElement("CODE"));w.textContent=i;var f=_.getAttribute("data-src"),m=y.language;if(m==="none"){var b=(/\.(\w+)$/.exec(f)||[,"none"])[1];m=s[b]||b}e.util.setLanguage(w,m),e.util.setLanguage(_,m);var v=e.plugins.autoloader;v&&v.loadLanguages(m),d(f,function(x){_.setAttribute(a,c);var E=p(_.getAttribute("data-range"));if(E){var k=x.split(/\r\n?|\n/g),S=E[0],R=E[1]==null?k.length:E[1];S<0&&(S+=k.length),S=Math.max(0,Math.min(S-1,k.length)),R<0&&(R+=k.length),R=Math.max(0,Math.min(R,k.length)),x=k.slice(S,R).join(`
`),_.hasAttribute("data-start")||_.setAttribute("data-start",String(S+1))}w.textContent=x,e.highlightElement(w)},function(x){_.setAttribute(a,u),w.textContent=x})}}),e.plugins.fileHighlight={highlight:function(y){for(var _=(y||document).querySelectorAll(h),w=0,f;f=_[w++];)e.highlightElement(f)}};var g=!1;e.fileHighlight=function(){g||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),g=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(fu);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(n,t){var e={};e["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},e.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:e}};i["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function e(u){return u=u.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+u+")")}var i=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return i}),r=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+r+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+r+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(i),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+r+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(i),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:e(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:e(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:e(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:e(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(u){["url","bold","italic","strike","code-snippet"].forEach(function(h){u!==h&&(n.languages.markdown[u].inside.content.inside[h]=n.languages.markdown[h])})}),n.hooks.add("after-tokenize",function(u){if(u.language!=="markdown"&&u.language!=="md")return;function h(d){if(!(!d||typeof d=="string"))for(var p=0,g=d.length;p<g;p++){var y=d[p];if(y.type!=="code"){h(y.content);continue}var _=y.content[1],w=y.content[3];if(_&&w&&_.type==="code-language"&&w.type==="code-block"&&typeof _.content=="string"){var f=_.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");f=(/[a-z][\w-]*/i.exec(f)||[""])[0].toLowerCase();var m="language-"+f;w.alias?typeof w.alias=="string"?w.alias=[w.alias,m]:w.alias.push(m):w.alias=[m]}}}h(u.tokens)}),n.hooks.add("wrap",function(u){if(u.type==="code-block"){for(var h="",d=0,p=u.classes.length;d<p;d++){var g=u.classes[d],y=/language-(.+)/.exec(g);if(y){h=y[1];break}}var _=n.languages[h];if(_)u.content=n.highlight(c(u.content),_,h);else if(h&&h!=="none"&&n.plugins.autoloader){var w="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);u.attributes.id=w,n.plugins.autoloader.loadLanguages(h,function(){var f=document.getElementById(w);f&&(f.innerHTML=n.highlight(f.textContent,n.languages[h],h))})}}});var s=RegExp(n.languages.markup.tag.pattern.source,"gi"),a={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;function c(u){var h=u.replace(s,"");return h=h.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(d,p){if(p=p.toLowerCase(),p[0]==="#"){var g;return p[1]==="x"?g=parseInt(p.slice(2),16):g=Number(p.slice(1)),l(g)}else{var y=a[p];return y||d}}),h}n.languages.md=n.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var e=n.languages.markup;e&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(n){var t=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};t.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}})(Prism);Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(n){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,e=0;e<2;e++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var t=n.languages.extend("typescript",{});delete t["class-name"],n.languages.typescript["class-name"].inside=t,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),n.languages.ts=n.languages.typescript})(Prism);(function(n){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,e=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:i.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+e+/[A-Z]\w*\b/.source),lookbehind:!0,inside:i.inside}],keyword:t,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+e+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:i.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+e+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:i.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(n){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,e=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return e})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])})(Prism);function ye(n){return{}}const to={},mu={},fl={},We={},gn={},Fi={},fn={},Tr={},Vo={},Gn={},Qn={},pe={},eo={},no={},yu={},ml={},_u={},yl={},bu={},_l={},bl={},ti={},vu={},Di={},vl={},Sr={},wu={},xu={},wl={},Ko={},xl={},Cl={},kl={},El={},Cu={},io={},Lr={},Zo={},ku={},Eu={},zn={},$n={},Tu={},Su={},Lu={},te=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Au=te&&"documentMode"in document?document.documentMode:null,Kt=te&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Se=te&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ii=!(!te||!("InputEvent"in window)||Au)&&"getTargetRanges"in new window.InputEvent("input"),Ar=te&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),oo=te&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Nu=te&&/Android/.test(navigator.userAgent),Tl=te&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Mu=te&&Nu&&Tl,Nr=te&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Tl,li=1,Me=3,Ue=0,Sl=1,bn=2,Ou=0,Fu=1,Du=2,Pi=4,Ri=8,Mr=128,Iu=112|(3|Pi|Ri)|Mr,Or=1,Fr=2,Dr=3,Ir=4,Pr=5,Rr=6,ro=Ar||oo||Nr?" ":"​",ge=`

`,Pu=Se?" ":ro,Ll="֑-߿יִ-﷽ﹰ-ﻼ",Al="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Ru=new RegExp("^[^"+Al+"]*["+Ll+"]"),Hu=new RegExp("^[^"+Ll+"]*["+Al+"]"),je={bold:1,code:16,highlight:Mr,italic:2,strikethrough:Pi,subscript:32,superscript:64,underline:Ri},Bu={directionless:1,unmergeable:2},_s={center:Fr,end:Rr,justify:Ir,left:Or,right:Dr,start:Pr},Wu={[Fr]:"center",[Rr]:"end",[Ir]:"justify",[Or]:"left",[Dr]:"right",[Pr]:"start"},zu={normal:0,segmented:2,token:1},$u={[Ou]:"normal",[Du]:"segmented",[Fu]:"token"};function Uu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var U=Uu(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function Hi(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[i]of e.matchAll(/\S+/g))t.push(i);return t}const ju=100;let Yo=!1,Hr=0;function Vu(n){Hr=n.timeStamp}function To(n,t,e){return t.__lexicalLineBreak===n||n[`__lexicalKey_${e._key}`]!==void 0}function Ku(n,t,e){const i=se(e._window);let o=null,r=null;i!==null&&i.anchorNode===n&&(o=i.anchorOffset,r=i.focusOffset);const s=n.nodeValue;s!==null&&Ur(t,s,o,r,!1)}function Zu(n,t,e){if(P(n)){const i=n.anchor.getNode();if(i.is(e)&&n.format!==i.getFormat())return!1}return t.nodeType===Me&&e.isAttached()}function Nl(n,t,e){Yo=!0;const i=performance.now()-Hr>ju;try{Wt(n,()=>{const o=W()||function(d){return d.getEditorState().read(()=>{const p=W();return p!==null?p.clone():null})}(n),r=new Map,s=n.getRootElement(),a=n._editorState,l=n._blockCursorElement;let c=!1,u="";for(let d=0;d<t.length;d++){const p=t[d],g=p.type,y=p.target;let _=fe(y,a);if(!(_===null&&y!==s||lt(_))){if(g==="characterData")i&&H(_)&&Zu(o,y,_)&&Ku(y,_,n);else if(g==="childList"){c=!0;const w=p.addedNodes;for(let b=0;b<w.length;b++){const v=w[b],x=Il(v),E=v.parentNode;if(E!=null&&v!==l&&x===null&&(v.nodeName!=="BR"||!To(v,E,n))){if(Se){const k=v.innerText||v.nodeValue;k&&(u+=k)}E.removeChild(v)}}const f=p.removedNodes,m=f.length;if(m>0){let b=0;for(let v=0;v<m;v++){const x=f[v];(x.nodeName==="BR"&&To(x,y,n)||l===x)&&(y.appendChild(x),b++)}m!==b&&(y===s&&(_=Rl(a)),r.set(y,_))}}}}if(r.size>0)for(const[d,p]of r)if(F(p)){const g=p.getChildrenKeys();let y=d.firstChild;for(let _=0;_<g.length;_++){const w=g[_],f=n.getElementByKey(w);f!==null&&(y==null?(d.appendChild(f),y=f):y!==f&&d.replaceChild(f,y),y=y.nextSibling)}}else H(p)&&p.markDirty();const h=e.takeRecords();if(h.length>0){for(let d=0;d<h.length;d++){const p=h[d],g=p.addedNodes,y=p.target;for(let _=0;_<g.length;_++){const w=g[_],f=w.parentNode;f==null||w.nodeName!=="BR"||To(w,y,n)||f.removeChild(w)}}e.takeRecords()}o!==null&&(c&&(o.dirty=!0,oe(o)),Se&&zl(n)&&o.insertRawText(u))})}finally{Yo=!1}}function Ml(n){const t=n._observer;t!==null&&Nl(n,t.takeRecords(),t)}function Ol(n){(function(t){Hr===0&&lo(t).addEventListener("textInput",Vu,!0)})(n),n._observer=new MutationObserver((t,e)=>{Nl(n,t,e)})}function bs(n,t){const e=n.__mode,i=n.__format,o=n.__style,r=t.__mode,s=t.__format,a=t.__style;return!(e!==null&&e!==r||i!==null&&i!==s||o!==null&&o!==a)}function vs(n,t){const e=n.mergeWithSibling(t),i=gt()._normalizedNodes;return i.add(n.__key),i.add(t.__key),e}function ws(n){let t,e,i=n;if(i.__text!==""||!i.isSimpleText()||i.isUnmergeable()){for(;(t=i.getPreviousSibling())!==null&&H(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(bs(t,i)){i=vs(t,i);break}break}t.remove()}for(;(e=i.getNextSibling())!==null&&H(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(bs(i,e)){i=vs(i,e);break}break}e.remove()}}else i.remove()}function Br(n){return xs(n.anchor),xs(n.focus),n}function xs(n){for(;n.type==="element";){const t=n.getNode(),e=n.offset;let i,o;if(e===t.getChildrenSize()?(i=t.getChildAtIndex(e-1),o=!0):(i=t.getChildAtIndex(e),o=!1),H(i)){n.set(i.__key,o?i.getTextContentSize():0,"text");break}if(!F(i))break;n.set(i.__key,o?i.getChildrenSize():0,"element")}}let Yu=1;const qu=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function Wr(n){const t=document.activeElement;if(t===null)return!1;const e=t.nodeName;return lt(fe(n))&&(e==="INPUT"||e==="TEXTAREA"||t.contentEditable==="true"&&t.__lexicalEditor==null)}function ci(n,t,e){const i=n.getRootElement();try{return i!==null&&i.contains(t)&&i.contains(e)&&t!==null&&!Wr(t)&&Fl(t)===n}catch{return!1}}function Fl(n){let t=n;for(;t!=null;){const e=t.__lexicalEditor;if(e!=null)return e;t=ao(t)}return null}function sn(n){return n.isToken()||n.isSegmented()}function Xu(n){return n.nodeType===Me}function Bi(n){let t=n;for(;t!=null;){if(Xu(t))return t;t=t.firstChild}return null}function qo(n,t,e){const i=je[t];if(e!==null&&(n&i)==(e&i))return n;let o=n^i;return t==="subscript"?o&=-65:t==="superscript"&&(o&=-33),o}function Dl(n){return H(n)||Le(n)||lt(n)}function Ju(n,t){if(t!=null)return void(n.__key=t);Pt(),ac();const e=gt(),i=_e(),o=""+Yu++;i._nodeMap.set(o,n),F(n)?e._dirtyElements.set(o,!0):e._dirtyLeaves.add(o),e._cloneNotNeeded.add(o),e._dirtyType=Sl,n.__key=o}function ze(n){const t=n.getParent();if(t!==null){const e=n.getWritable(),i=t.getWritable(),o=n.getPreviousSibling(),r=n.getNextSibling();if(o===null)if(r!==null){const s=r.getWritable();i.__first=r.__key,s.__prev=null}else i.__first=null;else{const s=o.getWritable();if(r!==null){const a=r.getWritable();a.__prev=s.__key,s.__next=a.__key}else s.__next=null;e.__prev=null}if(r===null)if(o!==null){const s=o.getWritable();i.__last=o.__key,s.__next=null}else i.__last=null;else{const s=r.getWritable();if(o!==null){const a=o.getWritable();a.__next=s.__key,s.__prev=a.__key}else s.__prev=null;e.__next=null}i.__size--,e.__parent=null}}function Wi(n){ac();const t=n.getLatest(),e=t.__parent,i=_e(),o=gt(),r=i._nodeMap,s=o._dirtyElements;e!==null&&function(l,c,u){let h=l;for(;h!==null;){if(u.has(h))return;const d=c.get(h);if(d===void 0)break;u.set(h,!1),h=d.__parent}}(e,r,s);const a=t.__key;o._dirtyType=Sl,F(n)?s.set(a,!0):o._dirtyLeaves.add(a)}function Et(n){Pt();const t=gt(),e=t._compositionKey;if(n!==e){if(t._compositionKey=n,e!==null){const i=at(e);i!==null&&i.getWritable()}if(n!==null){const i=at(n);i!==null&&i.getWritable()}}}function Ce(){return En()?null:gt()._compositionKey}function at(n,t){const e=(t||_e())._nodeMap.get(n);return e===void 0?null:e}function Il(n,t){const e=n[`__lexicalKey_${gt()._key}`];return e!==void 0?at(e,t):null}function fe(n,t){let e=n;for(;e!=null;){const i=Il(e,t);if(i!==null)return i;e=ao(e)}return null}function Pl(n){const t=n._decorators,e=Object.assign({},t);return n._pendingDecorators=e,e}function Cs(n){return n.read(()=>bt().getTextContent())}function bt(){return Rl(_e())}function Rl(n){return n._nodeMap.get("root")}function oe(n){Pt();const t=_e();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),t._selection=n}function cn(n){const t=gt(),e=function(i,o){let r=i;for(;r!=null;){const s=r[`__lexicalKey_${o._key}`];if(s!==void 0)return s;r=ao(r)}return null}(n,t);return e===null?n===t.getRootElement()?at("root"):null:at(e)}function ks(n,t){return t?n.getTextContentSize():0}function Hl(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function zr(n){const t=[];let e=n;for(;e!==null;)t.push(e),e=e._parentEditor;return t}function Bl(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Wl(n){return n.nodeType===Me?n.nodeValue:null}function $r(n,t,e){const i=se(t._window);if(i===null)return;const o=i.anchorNode;let{anchorOffset:r,focusOffset:s}=i;if(o!==null){let a=Wl(o);const l=fe(o);if(a!==null&&H(l)){if(a===ro&&e){const c=e.length;a=e,r=c,s=c}a!==null&&Ur(l,a,r,s,n)}}}function Ur(n,t,e,i,o){let r=n;if(r.isAttached()&&(o||!r.isDirty())){const s=r.isComposing();let a=t;(s||o)&&t[t.length-1]===ro&&(a=t.slice(0,-1));const l=r.getTextContent();if(o||a!==l){if(a===""){if(Et(null),Ar||oo||Nr)r.remove();else{const y=gt();setTimeout(()=>{y.update(()=>{r.isAttached()&&r.remove()})},20)}return}const c=r.getParent(),u=hi(),h=r.getTextContentSize(),d=Ce(),p=r.getKey();if(r.isToken()||d!==null&&p===d&&!s||P(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===n.__key&&u.anchor.offset===0&&!r.canInsertTextBefore()&&!s||u.focus.key===n.__key&&u.focus.offset===h&&!r.canInsertTextAfter()&&!s))return void r.markDirty();const g=W();if(!P(g)||e===null||i===null)return void r.setTextContent(a);if(g.setTextNodeRange(r,e,r,i),r.isSegmented()){const y=yt(r.getTextContent());r.replace(y),r=y}r.setTextContent(a)}}}function Gu(n,t){if(t.isSegmented())return!0;if(!n.isCollapsed())return!1;const e=n.anchor.offset,i=t.getParentOrThrow(),o=t.isToken();return e===0?!t.canInsertTextBefore()||!i.canInsertTextBefore()&&!t.isComposing()||o||function(r){const s=r.getPreviousSibling();return(H(s)||F(s)&&s.isInline())&&!s.canInsertTextAfter()}(t):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!i.canInsertTextAfter()&&!t.isComposing()||o)}function Es(n){return n==="ArrowLeft"}function Ts(n){return n==="ArrowRight"}function Un(n,t){return Kt?n:t}function Ss(n){return n==="Enter"}function Fn(n){return n==="Backspace"}function Dn(n){return n==="Delete"}function Ls(n,t,e){return n.toLowerCase()==="a"&&Un(t,e)}function Qu(){const n=bt();oe(Br(n.select(0,n.getChildrenSize())))}function Zn(n,t){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const e=n.__lexicalClassNameCache,i=e[t];if(i!==void 0)return i;const o=n[t];if(typeof o=="string"){const r=Hi(o);return e[t]=r,r}return o}function jr(n,t,e,i,o){if(e.size===0)return;const r=i.__type,s=i.__key,a=t.get(r);a===void 0&&U(33,r);const l=a.klass;let c=n.get(l);c===void 0&&(c=new Map,n.set(l,c));const u=c.get(s),h=u==="destroyed"&&o==="created";(u===void 0||h)&&c.set(s,h?"updated":o)}function As(n,t,e){const i=n.getParent();let o=e,r=n;return i!==null&&(t&&e===0?(o=r.getIndexWithinParent(),r=i):t||e!==r.getChildrenSize()||(o=r.getIndexWithinParent()+1,r=i)),r.getChildAtIndex(t?o-1:o)}function ei(n,t){const e=n.offset;if(n.type==="element")return As(n.getNode(),t,e);{const i=n.getNode();if(t&&e===0||!t&&e===i.getTextContentSize()){const o=t?i.getPreviousSibling():i.getNextSibling();return o===null?As(i.getParentOrThrow(),t,i.getIndexWithinParent()+(t?0:1)):o}}return null}function zl(n){const t=lo(n).event,e=t&&t.inputType;return e==="insertFromPaste"||e==="insertFromPasteAsQuotation"}function V(n,t,e){return lc(n,t,e)}function so(n){return!St(n)&&!n.isLastChild()&&!n.isInline()}function zi(n,t){const e=n._keyToDOMMap.get(t);return e===void 0&&U(75,t),e}function ao(n){const t=n.assignedSlot||n.parentElement;return t!==null&&t.nodeType===11?t.host:t}function Xo(n,t){let e=n.getParent();for(;e!==null;){if(e.is(t))return!0;e=e.getParent()}return!1}function lo(n){const t=n._window;return t===null&&U(78),t}function td(n){let t=n.getParentOrThrow();for(;t!==null;){if(re(t))return t;t=t.getParentOrThrow()}return t}function re(n){return St(n)||F(n)&&n.isShadowRoot()}function Lt(n){const t=gt(),e=n.constructor.getType(),i=t._nodes.get(e);i===void 0&&U(97);const o=i.replace;if(o!==null){const r=o(n);return r instanceof n.constructor||U(98),r}return n}function So(n,t){!St(n.getParent())||F(t)||lt(t)||U(99)}function Lo(n){return(lt(n)||F(n)&&!n.canBeEmpty())&&!n.isInline()}function Vr(n,t,e){e.style.removeProperty("caret-color"),t._blockCursorElement=null;const i=n.parentElement;i!==null&&i.removeChild(n)}function ed(n,t,e){let i=n._blockCursorElement;if(P(e)&&e.isCollapsed()&&e.anchor.type==="element"&&t.contains(document.activeElement)){const o=e.anchor,r=o.getNode(),s=o.offset;let a=!1,l=null;if(s===r.getChildrenSize())Lo(r.getChildAtIndex(s-1))&&(a=!0);else{const c=r.getChildAtIndex(s);if(Lo(c)){const u=c.getPreviousSibling();(u===null||Lo(u))&&(a=!0,l=n.getElementByKey(c.__key))}}if(a){const c=n.getElementByKey(r.__key);return i===null&&(n._blockCursorElement=i=function(u){const h=u.theme,d=document.createElement("div");d.contentEditable="false",d.setAttribute("data-lexical-cursor","true");let p=h.blockCursor;if(p!==void 0){if(typeof p=="string"){const g=Hi(p);p=h.blockCursor=g}p!==void 0&&d.classList.add(...p)}return d}(n._config)),t.style.caretColor="transparent",void(l===null?c.appendChild(i):c.insertBefore(i,l))}}i!==null&&Vr(i,n,t)}function se(n){return te?(n||window).getSelection():null}function nd(n){return ce(n)&&n.tagName==="A"}function ce(n){return n.nodeType===1}function id(n){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(t)!==null}function od(n){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(t)!==null}function an(n){if(St(n)||lt(n)&&!n.isInline())return!0;if(!F(n)||re(n))return!1;const t=n.getFirstChild(),e=t===null||Le(t)||H(t)||t.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&e}function Ao(n,t){let e=n;for(;e!==null&&e.getParent()!==null&&!t(e);)e=e.getParentOrThrow();return t(e)?e:null}function $l(n,t,e,i,o,r){let s=n.getFirstChild();for(;s!==null;){const a=s.__key;s.__parent===t&&(F(s)&&$l(s,a,e,i,o,r),e.has(a)||r.delete(a),o.push(a)),s=s.getNextSibling()}}let Ae,Ot,ni,co,Jo,Go,Ve,Xt,Qo,ii,_t="",Mt="",Zt=null,he="",Ul=!1,uo=!1,Mi=null;function $i(n,t){const e=Ve.get(n);if(t!==null){const i=nr(n);i.parentNode===t&&t.removeChild(i)}if(Xt.has(n)||Ot._keyToDOMMap.delete(n),F(e)){const i=ji(e,Ve);tr(i,0,i.length-1,null)}e!==void 0&&jr(ii,ni,co,e,"destroyed")}function tr(n,t,e,i){let o=t;for(;o<=e;++o){const r=n[o];r!==void 0&&$i(r,i)}}function Fe(n,t){n.setProperty("text-align",t)}const rd="40px";function jl(n,t){const e=Ae.theme.indent;if(typeof e=="string"){const o=n.classList.contains(e);t>0&&!o?n.classList.add(e):t<1&&o&&n.classList.remove(e)}const i=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||rd;n.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${i})`)}function Vl(n,t){const e=n.style;t===0?Fe(e,""):t===Or?Fe(e,"left"):t===Fr?Fe(e,"center"):t===Dr?Fe(e,"right"):t===Ir?Fe(e,"justify"):t===Pr?Fe(e,"start"):t===Rr&&Fe(e,"end")}function Ui(n,t,e){const i=Xt.get(n);i===void 0&&U(60);const o=i.createDOM(Ae,Ot);if(function(r,s,a){const l=a._keyToDOMMap;s["__lexicalKey_"+a._key]=r,l.set(r,s)}(n,o,Ot),H(i)?o.setAttribute("data-lexical-text","true"):lt(i)&&o.setAttribute("data-lexical-decorator","true"),F(i)){const r=i.__indent,s=i.__size;if(r!==0&&jl(o,r),s!==0){const l=s-1;(function(c,u,h,d){const p=Mt;Mt="",er(c,h,0,u,d,null),Zl(h,d),Mt=p})(ji(i,Xt),l,i,o)}const a=i.__format;a!==0&&Vl(o,a),i.isInline()||Kl(null,i,o),so(i)&&(_t+=ge,he+=ge)}else{const r=i.getTextContent();if(lt(i)){const s=i.decorate(Ot,Ae);s!==null&&Yl(n,s),o.contentEditable="false"}else H(i)&&(i.isDirectionless()||(Mt+=r));_t+=r,he+=r}if(t!==null)if(e!=null)t.insertBefore(o,e);else{const r=t.__lexicalLineBreak;r!=null?t.insertBefore(o,r):t.appendChild(o)}return jr(ii,ni,co,i,"created"),o}function er(n,t,e,i,o,r){const s=_t;_t="";let a=e;for(;a<=i;++a){Ui(n[a],o,r);const l=Xt.get(n[a]);l!==null&&Zt===null&&H(l)&&(Zt=l.getFormat())}so(t)&&(_t+=ge),o.__lexicalTextContent=_t,_t=s+_t}function Ns(n,t){const e=t.get(n);return Le(e)||lt(e)&&e.isInline()}function Kl(n,t,e){const i=n!==null&&(n.__size===0||Ns(n.__last,Ve)),o=t.__size===0||Ns(t.__last,Xt);if(i){if(!o){const r=e.__lexicalLineBreak;r!=null&&e.removeChild(r),e.__lexicalLineBreak=null}}else if(o){const r=document.createElement("br");e.__lexicalLineBreak=r,e.appendChild(r)}}function Zl(n,t){const e=t.__lexicalDirTextContent,i=t.__lexicalDir;if(e!==Mt||i!==Mi){const r=Mt==="",s=r?Mi:(o=Mt,Ru.test(o)?"rtl":Hu.test(o)?"ltr":null);if(s!==i){const a=t.classList,l=Ae.theme;let c=i!==null?l[i]:void 0,u=s!==null?l[s]:void 0;if(c!==void 0){if(typeof c=="string"){const h=Hi(c);c=l[i]=h}a.remove(...c)}if(s===null||r&&s==="ltr")t.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const h=Hi(u);u=l[s]=h}u!==void 0&&a.add(...u)}t.dir=s}uo||(n.getWritable().__dir=s)}Mi=s,t.__lexicalDirTextContent=Mt,t.__lexicalDir=s}var o}function sd(n,t,e){const i=Mt;var o;Mt="",Zt=null,function(r,s,a){const l=_t,c=r.__size,u=s.__size;if(_t="",c===1&&u===1){const h=r.__first,d=s.__first;if(h===d)jn(h,a);else{const g=nr(h),y=Ui(d,null,null);a.replaceChild(y,g),$i(h,null)}const p=Xt.get(d);Zt===null&&H(p)&&(Zt=p.getFormat())}else{const h=ji(r,Ve),d=ji(s,Xt);if(c===0)u!==0&&er(d,s,0,u-1,a,null);else if(u===0){if(c!==0){const p=a.__lexicalLineBreak==null;tr(h,0,c-1,p?null:a),p&&(a.textContent="")}}else(function(p,g,y,_,w,f){const m=_-1,b=w-1;let v,x,E=(R=f,R.firstChild),k=0,S=0;for(var R;k<=m&&S<=b;){const j=g[k],Z=y[S];if(j===Z)E=No(jn(Z,f)),k++,S++;else{v===void 0&&(v=new Set(g)),x===void 0&&(x=new Set(y));const I=x.has(j),C=v.has(Z);if(I)if(C){const T=zi(Ot,Z);T===E?E=No(jn(Z,f)):(E!=null?f.insertBefore(T,E):f.appendChild(T),jn(Z,f)),k++,S++}else Ui(Z,f,E),S++;else E=No(nr(j)),$i(j,f),k++}const q=Xt.get(Z);q!==null&&Zt===null&&H(q)&&(Zt=q.getFormat())}const z=k>m,K=S>b;if(z&&!K){const j=y[b+1];er(y,p,S,b,f,j===void 0?null:Ot.getElementByKey(j))}else K&&!z&&tr(g,k,m,f)})(s,h,d,c,u,a)}so(s)&&(_t+=ge),a.__lexicalTextContent=_t,_t=l+_t}(n,t,e),Zl(t,e),vn(o=t)&&Zt!=null&&Zt!==o.__textFormat&&!uo&&o.setTextFormat(Zt),Mt=i,Zt=null}function ji(n,t){const e=[];let i=n.__first;for(;i!==null;){const o=t.get(i);o===void 0&&U(101),e.push(i),i=o.__next}return e}function jn(n,t){const e=Ve.get(n);let i=Xt.get(n);e!==void 0&&i!==void 0||U(61);const o=Ul||Go.has(n)||Jo.has(n),r=zi(Ot,n);if(e===i&&!o){if(F(e)){const s=r.__lexicalTextContent;s!==void 0&&(_t+=s,he+=s);const a=r.__lexicalDirTextContent;a!==void 0&&(Mt+=a)}else{const s=e.getTextContent();H(e)&&!e.isDirectionless()&&(Mt+=s),he+=s,_t+=s}return r}if(e!==i&&o&&jr(ii,ni,co,i,"updated"),i.updateDOM(e,r,Ae)){const s=Ui(n,null,null);return t===null&&U(62),t.replaceChild(s,r),$i(n,null),s}if(F(e)&&F(i)){const s=i.__indent;s!==e.__indent&&jl(r,s);const a=i.__format;a!==e.__format&&Vl(r,a),o&&(sd(e,i,r),St(i)||i.isInline()||Kl(e,i,r)),so(i)&&(_t+=ge,he+=ge)}else{const s=i.getTextContent();if(lt(i)){const a=i.decorate(Ot,Ae);a!==null&&Yl(n,a)}else H(i)&&!i.isDirectionless()&&(Mt+=s);_t+=s,he+=s}if(!uo&&St(i)&&i.__cachedText!==he){const s=i.getWritable();s.__cachedText=he,i=s}return r}function Yl(n,t){let e=Ot._pendingDecorators;const i=Ot._decorators;if(e===null){if(i[n]===t)return;e=Pl(Ot)}e[n]=t}function No(n){let t=n.nextSibling;return t!==null&&t===Ot._blockCursorElement&&(t=t.nextSibling),t}function ad(n,t,e,i,o,r){_t="",he="",Mt="",Ul=i===bn,Mi=null,Ot=e,Ae=e._config,ni=e._nodes,co=Ot._listeners.mutation,Jo=o,Go=r,Ve=n._nodeMap,Xt=t._nodeMap,uo=t._readOnly,Qo=new Map(e._keyToDOMMap);const s=new Map;return ii=s,jn("root",null),Ot=void 0,ni=void 0,Jo=void 0,Go=void 0,Ve=void 0,Xt=void 0,Ae=void 0,Qo=void 0,ii=void 0,s}function nr(n){const t=Qo.get(n);return t===void 0&&U(75,n),t}const ue=Object.freeze({}),ir=30,or=[["keydown",function(n,t){if(Yn=n.timeStamp,ql=n.key,t.isComposing())return;const{key:e,shiftKey:i,ctrlKey:o,metaKey:r,altKey:s}=n;V(t,yu,n)||e!=null&&(function(a,l,c,u){return Ts(a)&&!l&&!u&&!c}(e,o,s,r)?V(t,ml,n):function(a,l,c,u,h){return Ts(a)&&!u&&!c&&(l||h)}(e,o,i,s,r)?V(t,_u,n):function(a,l,c,u){return Es(a)&&!l&&!u&&!c}(e,o,s,r)?V(t,yl,n):function(a,l,c,u,h){return Es(a)&&!u&&!c&&(l||h)}(e,o,i,s,r)?V(t,bu,n):function(a,l,c){return function(u){return u==="ArrowUp"}(a)&&!l&&!c}(e,o,r)?V(t,_l,n):function(a,l,c){return function(u){return u==="ArrowDown"}(a)&&!l&&!c}(e,o,r)?V(t,bl,n):function(a,l){return Ss(a)&&l}(e,i)?(qn=!0,V(t,ti,n)):function(a){return a===" "}(e)?V(t,vu,n):function(a,l){return Kt&&l&&a.toLowerCase()==="o"}(e,o)?(n.preventDefault(),qn=!0,V(t,gn,!0)):function(a,l){return Ss(a)&&!l}(e,i)?(qn=!1,V(t,ti,n)):function(a,l,c,u){return Kt?!l&&!c&&(Fn(a)||a.toLowerCase()==="h"&&u):!(u||l||c)&&Fn(a)}(e,s,r,o)?Fn(e)?V(t,Di,n):(n.preventDefault(),V(t,We,!0)):function(a){return a==="Escape"}(e)?V(t,vl,n):function(a,l,c,u,h){return Kt?!(c||u||h)&&(Dn(a)||a.toLowerCase()==="d"&&l):!(l||u||h)&&Dn(a)}(e,o,i,s,r)?Dn(e)?V(t,Sr,n):(n.preventDefault(),V(t,We,!1)):function(a,l,c){return Fn(a)&&(Kt?l:c)}(e,s,o)?(n.preventDefault(),V(t,Gn,!0)):function(a,l,c){return Dn(a)&&(Kt?l:c)}(e,s,o)?(n.preventDefault(),V(t,Gn,!1)):function(a,l){return Kt&&l&&Fn(a)}(e,r)?(n.preventDefault(),V(t,Qn,!0)):function(a,l){return Kt&&l&&Dn(a)}(e,r)?(n.preventDefault(),V(t,Qn,!1)):function(a,l,c,u){return a.toLowerCase()==="b"&&!l&&Un(c,u)}(e,s,r,o)?(n.preventDefault(),V(t,pe,"bold")):function(a,l,c,u){return a.toLowerCase()==="u"&&!l&&Un(c,u)}(e,s,r,o)?(n.preventDefault(),V(t,pe,"underline")):function(a,l,c,u){return a.toLowerCase()==="i"&&!l&&Un(c,u)}(e,s,r,o)?(n.preventDefault(),V(t,pe,"italic")):function(a,l,c,u){return a==="Tab"&&!l&&!c&&!u}(e,s,o,r)?V(t,wu,n):function(a,l,c,u){return a.toLowerCase()==="z"&&!l&&Un(c,u)}(e,i,r,o)?(n.preventDefault(),V(t,eo,void 0)):function(a,l,c,u){return Kt?a.toLowerCase()==="z"&&c&&l:a.toLowerCase()==="y"&&u||a.toLowerCase()==="z"&&u&&l}(e,i,r,o)?(n.preventDefault(),V(t,no,void 0)):qt(t._editorState._selection)?function(a,l,c,u){return!l&&a.toLowerCase()==="c"&&(Kt?c:u)}(e,i,r,o)?(n.preventDefault(),V(t,io,n)):function(a,l,c,u){return!l&&a.toLowerCase()==="x"&&(Kt?c:u)}(e,i,r,o)?(n.preventDefault(),V(t,Lr,n)):Ls(e,r,o)&&(n.preventDefault(),V(t,Zo,n)):!Se&&Ls(e,r,o)&&(n.preventDefault(),V(t,Zo,n)),function(a,l,c,u){return a||l||c||u}(o,i,s,r)&&V(t,Lu,n))}],["pointerdown",function(n,t){const e=n.target,i=n.pointerType;e instanceof Node&&i!=="touch"&&Wt(t,()=>{lt(fe(e))||(sr=!0)})}],["compositionstart",function(n,t){Wt(t,()=>{const e=W();if(P(e)&&!t.isComposing()){const i=e.anchor,o=e.anchor.getNode();Et(i.key),(n.timeStamp<Yn+ir||i.type==="element"||!e.isCollapsed()||o.getFormat()!==e.format||H(o)&&o.getStyle()!==e.style)&&V(t,fn,Pu)}})}],["compositionend",function(n,t){Se?In=!0:Wt(t,()=>{Mo(t,n.data)})}],["input",function(n,t){n.stopPropagation(),Wt(t,()=>{const e=W(),i=n.data,o=Ql(n);if(i!=null&&P(e)&&Gl(e,o,i,n.timeStamp,!1)){In&&(Mo(t,i),In=!1);const r=e.anchor.getNode(),s=se(t._window);if(s===null)return;const a=e.isBackward(),l=a?e.anchor.offset:e.focus.offset,c=a?e.focus.offset:e.anchor.offset;Ii&&!e.isCollapsed()&&H(r)&&s.anchorNode!==null&&r.getTextContent().slice(0,l)+i+r.getTextContent().slice(l+c)===Wl(s.anchorNode)||V(t,fn,i);const u=i.length;Se&&u>1&&n.inputType==="insertCompositionText"&&!t.isComposing()&&(e.anchor.offset-=u),Ar||oo||Nr||!t.isComposing()||(Yn=0,Et(null))}else $r(!1,t,i!==null?i:void 0),In&&(Mo(t,i||void 0),In=!1);Pt(),Ml(gt())}),ln=null}],["click",function(n,t){Wt(t,()=>{const e=W(),i=se(t._window),o=hi();if(i){if(P(e)){const r=e.anchor,s=r.getNode();r.type==="element"&&r.offset===0&&e.isCollapsed()&&!St(s)&&bt().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&o!==null&&e.is(o)?(i.removeAllRanges(),e.dirty=!0):n.detail===3&&!e.isCollapsed()&&s!==e.focus.getNode()&&(F(s)?s.select(0):s.getParentOrThrow().select(0))}else if(n.pointerType==="touch"){const r=i.anchorNode;if(r!==null){const s=r.nodeType;(s===li||s===Me)&&oe(Yr(o,i,t,n))}}}V(t,fl,n)})}],["cut",ue],["copy",ue],["dragstart",ue],["dragover",ue],["dragend",ue],["paste",ue],["focus",ue],["blur",ue],["drop",ue]];Ii&&or.push(["beforeinput",(n,t)=>function(e,i){const o=e.inputType,r=Ql(e);o==="deleteCompositionText"||Se&&zl(i)||o!=="insertCompositionText"&&Wt(i,()=>{const s=W();if(o==="deleteContentBackward"){if(s===null){const p=hi();if(!P(p))return;oe(p.clone())}if(P(s)){const p=s.anchor.key===s.focus.key;if(a=e.timeStamp,ql==="MediaLast"&&a<Yn+ir&&i.isComposing()&&p){if(Et(null),Yn=0,setTimeout(()=>{Wt(i,()=>{Et(null)})},ir),P(s)){const g=s.anchor.getNode();g.markDirty(),s.format=g.getFormat(),H(g)||U(142),s.style=g.getStyle()}}else{Et(null),e.preventDefault();const g=s.anchor.getNode().getTextContent(),y=s.anchor.offset===0&&s.focus.offset===g.length;Mu&&p&&!y||V(i,We,!0)}return}}var a;if(!P(s))return;const l=e.data;ln!==null&&$r(!1,i,ln),s.dirty&&ln===null||!s.isCollapsed()||St(s.anchor.getNode())||r===null||s.applyDOMRange(r),ln=null;const c=s.anchor,u=s.focus,h=c.getNode(),d=u.getNode();if(o!=="insertText"&&o!=="insertTranspose")switch(e.preventDefault(),o){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":V(i,fn,e);break;case"insertFromComposition":Et(null),V(i,fn,e);break;case"insertLineBreak":Et(null),V(i,gn,!1);break;case"insertParagraph":Et(null),qn&&!oo?(qn=!1,V(i,gn,!1)):V(i,Fi,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":V(i,Tr,e);break;case"deleteByComposition":(function(p,g){return p!==g||F(p)||F(g)||!p.isToken()||!g.isToken()})(h,d)&&V(i,Vo,e);break;case"deleteByDrag":case"deleteByCut":V(i,Vo,e);break;case"deleteContent":V(i,We,!1);break;case"deleteWordBackward":V(i,Gn,!0);break;case"deleteWordForward":V(i,Gn,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":V(i,Qn,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":V(i,Qn,!1);break;case"formatStrikeThrough":V(i,pe,"strikethrough");break;case"formatBold":V(i,pe,"bold");break;case"formatItalic":V(i,pe,"italic");break;case"formatUnderline":V(i,pe,"underline");break;case"historyUndo":V(i,eo,void 0);break;case"historyRedo":V(i,no,void 0)}else{if(l===`
`)e.preventDefault(),V(i,gn,!1);else if(l===ge)e.preventDefault(),V(i,Fi,void 0);else if(l==null&&e.dataTransfer){const p=e.dataTransfer.getData("text/plain");e.preventDefault(),s.insertRawText(p)}else l!=null&&Gl(s,r,l,e.timeStamp,!0)?(e.preventDefault(),V(i,fn,l)):ln=l;Xl=e.timeStamp}})}(n,t)]);let Yn=0,ql=null,Xl=0,ln=null;const Vi=new WeakMap;let rr=!1,sr=!1,qn=!1,In=!1,Jl=[0,"",0,"root",0];function Gl(n,t,e,i,o){const r=n.anchor,s=n.focus,a=r.getNode(),l=gt(),c=se(l._window),u=c!==null?c.anchorNode:null,h=r.key,d=l.getElementByKey(h),p=e.length;return h!==s.key||!H(a)||(!o&&(!Ii||Xl<i+50)||a.isDirty()&&p<2||Hl(e))&&r.offset!==s.offset&&!a.isComposing()||sn(a)||a.isDirty()&&p>1||(o||!Ii)&&d!==null&&!a.isComposing()&&u!==Bi(d)||c!==null&&t!==null&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||a.getFormat()!==n.format||a.getStyle()!==n.style||Gu(n,a)}function Ms(n,t){return n!==null&&n.nodeValue!==null&&n.nodeType===Me&&t!==0&&t!==n.nodeValue.length}function Os(n,t,e){const{anchorNode:i,anchorOffset:o,focusNode:r,focusOffset:s}=n;rr&&(rr=!1,Ms(i,o)&&Ms(r,s))||Wt(t,()=>{if(!e)return void oe(null);if(!ci(t,i,r))return;const a=W();if(P(a)){const l=a.anchor,c=l.getNode();if(a.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(a.dirty=!0);const u=lo(t).event,h=u?u.timeStamp:performance.now(),[d,p,g,y,_]=Jl,w=bt(),f=t.isComposing()===!1&&w.getTextContent()==="";if(h<_+200&&l.offset===g&&l.key===y)a.format=d,a.style=p;else if(l.type==="text")H(c)||U(141),a.format=c.getFormat(),a.style=c.getStyle();else if(l.type==="element"&&!f){const m=l.getNode();m instanceof Tn&&m.getChildrenSize()===0?a.format=m.getTextFormat():a.format=0,a.style=""}}else{const u=l.key,h=a.focus.key,d=a.getNodes(),p=d.length,g=a.isBackward(),y=g?s:o,_=g?o:s,w=g?h:u,f=g?u:h;let m=Iu,b=!1;for(let v=0;v<p;v++){const x=d[v],E=x.getTextContentSize();if(H(x)&&E!==0&&!(v===0&&x.__key===w&&y===E||v===p-1&&x.__key===f&&_===0)&&(b=!0,m&=x.getFormat(),m===0))break}a.format=b?m:0}}V(t,to,void 0)})}function Ql(n){if(!n.getTargetRanges)return null;const t=n.getTargetRanges();return t.length===0?null:t[0]}function Mo(n,t){const e=n._compositionKey;if(Et(null),e!==null&&t!=null){if(t===""){const i=at(e),o=Bi(n.getElementByKey(e));return void(o!==null&&o.nodeValue!==null&&H(i)&&Ur(i,o.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){const i=W();if(P(i)){const o=i.focus;return i.anchor.set(o.key,o.offset,o.type),void V(n,ti,null)}}}$r(!0,n,t)}function tc(n){let t=n.__lexicalEventHandles;return t===void 0&&(t=[],n.__lexicalEventHandles=t),t}const mn=new Map;function ec(n){const t=n.target,e=se(t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView);if(e===null)return;const i=Fl(e.anchorNode);if(i===null)return;sr&&(sr=!1,Wt(i,()=>{const c=hi(),u=e.anchorNode;if(u===null)return;const h=u.nodeType;h!==li&&h!==Me||oe(Yr(c,e,i,n))}));const o=zr(i),r=o[o.length-1],s=r._key,a=mn.get(s),l=a||r;l!==i&&Os(e,l,!1),Os(e,i,!0),i!==r?mn.set(s,i):a&&mn.delete(s)}function Fs(n){n._lexicalHandled=!0}function Ds(n){return n._lexicalHandled===!0}function ld(n){const t=n.ownerDocument,e=Vi.get(t);e===void 0&&U(162);const i=e-1;i>=0||U(164),Vi.set(t,i),i===0&&t.removeEventListener("selectionchange",ec);const o=n.__lexicalEditor;o!=null&&(function(s){if(s._parentEditor!==null){const a=zr(s),l=a[a.length-1]._key;mn.get(l)===s&&mn.delete(l)}else mn.delete(s._key)}(o),n.__lexicalEditor=null);const r=tc(n);for(let s=0;s<r.length;s++)r[s]();n.__lexicalEventHandles=[]}function ar(n,t,e){Pt();const i=n.__key,o=n.getParent();if(o===null)return;const r=function(a){const l=W();if(!P(l)||!F(a))return l;const{anchor:c,focus:u}=l,h=c.getNode(),d=u.getNode();return Xo(h,a)&&c.set(a.__key,0,"element"),Xo(d,a)&&u.set(a.__key,0,"element"),l}(n);let s=!1;if(P(r)&&t){const a=r.anchor,l=r.focus;a.key===i&&(Zi(a,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0),l.key===i&&(Zi(l,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0)}else qt(r)&&t&&n.isSelected()&&n.selectPrevious();if(P(r)&&t&&!s){const a=n.getIndexWithinParent();ze(n),Ki(r,o,a,-1)}else ze(n);e||re(o)||o.canBeEmpty()||!o.isEmpty()||ar(o,t),t&&St(o)&&o.isEmpty()&&o.selectEnd()}class ho{static getType(){U(64,this.name)}static clone(t){U(65,this.name)}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Ju(this,t)}getType(){return this.__type}isInline(){U(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;const e=at(t);if(e===null)break;t=e.__parent}return!1}isSelected(t){const e=t||W();if(e==null)return!1;const i=e.getNodes().some(o=>o.__key===this.__key);return(H(this)||!P(e)||e.anchor.type!=="element"||e.focus.type!=="element"||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&i}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(t===null)return-1;let e=t.getFirstChild(),i=0;for(;e!==null;){if(this.is(e))return i;i++,e=e.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return t===null?null:at(t)}getParentOrThrow(){const t=this.getParent();return t===null&&U(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){const e=t.getParent();if(re(e))return F(t)||U(138),t;t=e}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return t===null&&U(67,this.__key),t}getParents(){const t=[];let e=this.getParent();for(;e!==null;)t.push(e),e=e.getParent();return t}getParentKeys(){const t=[];let e=this.getParent();for(;e!==null;)t.push(e.__key),e=e.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return t===null?null:at(t)}getPreviousSiblings(){const t=[],e=this.getParent();if(e===null)return t;let i=e.getFirstChild();for(;i!==null&&!i.is(this);)t.push(i),i=i.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return t===null?null:at(t)}getNextSiblings(){const t=[];let e=this.getNextSibling();for(;e!==null;)t.push(e),e=e.getNextSibling();return t}getCommonAncestor(t){const e=this.getParents(),i=t.getParents();F(this)&&e.unshift(this),F(t)&&i.unshift(t);const o=e.length,r=i.length;if(o===0||r===0||e[o-1]!==i[r-1])return null;const s=new Set(i);for(let a=0;a<o;a++){const l=e[a];if(s.has(l))return l}return null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;const e=this.getCommonAncestor(t);let i=0,o=0,r=this;for(;;){const s=r.getParentOrThrow();if(s===e){i=r.getIndexWithinParent();break}r=s}for(r=t;;){const s=r.getParentOrThrow();if(s===e){o=r.getIndexWithinParent();break}r=s}return i<o}isParentOf(t){const e=this.__key;if(e===t.__key)return!1;let i=t;for(;i!==null;){if(i.__key===e)return!0;i=i.getParent()}return!1}getNodesBetween(t){const e=this.isBefore(t),i=[],o=new Set;let r=this;for(;r!==null;){const s=r.__key;if(o.has(s)||(o.add(s),i.push(r)),r===t)break;const a=F(r)?e?r.getFirstChild():r.getLastChild():null;if(a!==null){r=a;continue}const l=e?r.getNextSibling():r.getPreviousSibling();if(l!==null){r=l;continue}const c=r.getParentOrThrow();if(o.has(c.__key)||i.push(c),c===t)break;let u=null,h=c;do{if(h===null&&U(68),u=e?h.getNextSibling():h.getPreviousSibling(),h=h.getParent(),h===null)break;u!==null||o.has(h.__key)||i.push(h)}while(u===null);r=u}return e||i.reverse(),i}isDirty(){const t=gt()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){const t=at(this.__key);return t===null&&U(113),t}getWritable(){Pt();const t=_e(),e=gt(),i=t._nodeMap,o=this.__key,r=this.getLatest(),s=r.__parent,a=e._cloneNotNeeded,l=W();if(l!==null&&l.setCachedNodes(null),a.has(o))return Wi(r),r;const c=r.constructor.clone(r);return c.__parent=s,c.__next=r.__next,c.__prev=r.__prev,F(r)&&F(c)?(vn(r)&&vn(c)&&(c.__textFormat=r.__textFormat),c.__first=r.__first,c.__last=r.__last,c.__size=r.__size,c.__indent=r.__indent,c.__format=r.__format,c.__dir=r.__dir):H(r)&&H(c)&&(c.__format=r.__format,c.__style=r.__style,c.__mode=r.__mode,c.__detail=r.__detail),a.add(o),c.__key=o,Wi(c),i.set(o,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,e){U(70)}updateDOM(t,e,i){U(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){U(72)}static importJSON(t){U(18,this.name)}static transform(){return null}remove(t){ar(this,!0,t)}replace(t,e){Pt();let i=W();i!==null&&(i=i.clone()),So(this,t);const o=this.getLatest(),r=this.__key,s=t.__key,a=t.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;ze(a);const u=o.getPreviousSibling(),h=o.getNextSibling(),d=o.__prev,p=o.__next,g=o.__parent;if(ar(o,!1,!0),u===null?l.__first=s:u.getWritable().__next=s,a.__prev=d,h===null?l.__last=s:h.getWritable().__prev=s,a.__next=p,a.__parent=g,l.__size=c,e&&(F(this)&&F(a)||U(139),this.getChildren().forEach(y=>{a.append(y)})),P(i)){oe(i);const y=i.anchor,_=i.focus;y.key===r&&Bs(y,a),_.key===r&&Bs(_,a)}return Ce()===r&&Et(s),a}insertAfter(t,e=!0){Pt(),So(this,t);const i=this.getWritable(),o=t.getWritable(),r=o.getParent(),s=W();let a=!1,l=!1;if(r!==null){const p=t.getIndexWithinParent();if(ze(o),P(s)){const g=r.__key,y=s.anchor,_=s.focus;a=y.type==="element"&&y.key===g&&y.offset===p+1,l=_.type==="element"&&_.key===g&&_.offset===p+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),h=o.__key,d=i.__next;if(c===null?u.__last=h:c.getWritable().__prev=h,u.__size++,i.__next=h,o.__next=d,o.__prev=i.__key,o.__parent=i.__parent,e&&P(s)){const p=this.getIndexWithinParent();Ki(s,u,p+1);const g=u.__key;a&&s.anchor.set(g,p+2,"element"),l&&s.focus.set(g,p+2,"element")}return t}insertBefore(t,e=!0){Pt(),So(this,t);const i=this.getWritable(),o=t.getWritable(),r=o.__key;ze(o);const s=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=i.__prev,c=this.getIndexWithinParent();s===null?a.__first=r:s.getWritable().__next=r,a.__size++,i.__prev=r,o.__prev=l,o.__next=i.__key,o.__parent=i.__parent;const u=W();return e&&P(u)&&Ki(u,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return it()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,e){Pt();const i=this.getPreviousSibling(),o=this.getParentOrThrow();if(i===null)return o.select(0,0);if(F(i))return i.select();if(!H(i)){const r=i.getIndexWithinParent()+1;return o.select(r,r)}return i.select(t,e)}selectNext(t,e){Pt();const i=this.getNextSibling(),o=this.getParentOrThrow();if(i===null)return o.select();if(F(i))return i.select(0,0);if(!H(i)){const r=i.getIndexWithinParent();return o.select(r,r)}return i.select(t,e)}markDirty(){this.getWritable()}}class ui extends ho{static getType(){return"linebreak"}static clone(t){return new ui(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>function(e){const i=e.parentElement;if(i!==null){const o=i.firstChild;if(o===e||o.nextSibling===e&&Is(o)){const r=i.lastChild;if(r===e||r.previousSibling===e&&Is(r))return!0}}return!1}(t)?null:{conversion:cd,priority:0}}}static importJSON(t){return me()}exportJSON(){return{type:"linebreak",version:1}}}function cd(n){return{node:me()}}function me(){return Lt(new ui)}function Le(n){return n instanceof ui}function Is(n){return n.nodeType===Me&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function Oo(n,t){return 16&t?"code":t&Mr?"mark":32&t?"sub":64&t?"sup":null}function Fo(n,t){return 1&t?"strong":2&t?"em":"span"}function nc(n,t,e,i,o){const r=i.classList;let s=Zn(o,"base");s!==void 0&&r.add(...s),s=Zn(o,"underlineStrikethrough");let a=!1;const l=t&Ri&&t&Pi;s!==void 0&&(e&Ri&&e&Pi?(a=!0,l||r.add(...s)):l&&r.remove(...s));for(const c in je){const u=je[c];if(s=Zn(o,c),s!==void 0)if(e&u){if(a&&(c==="underline"||c==="strikethrough")){t&u&&r.remove(...s);continue}t&u&&(!l||c!=="underline")&&c!=="strikethrough"||r.add(...s)}else t&u&&r.remove(...s)}}function ic(n,t,e){const i=t.firstChild,o=e.isComposing(),r=n+(o?ro:"");if(i==null)t.textContent=r;else{const s=i.nodeValue;if(s!==r)if(o||Se){const[a,l,c]=function(u,h){const d=u.length,p=h.length;let g=0,y=0;for(;g<d&&g<p&&u[g]===h[g];)g++;for(;y+g<d&&y+g<p&&u[d-y-1]===h[p-y-1];)y++;return[g,d-g-y,h.slice(g,p-y)]}(s,r);l!==0&&i.deleteData(a,l),i.insertData(a,c)}else i.nodeValue=r}}function Ps(n,t,e,i,o,r){ic(o,n,t);const s=r.theme.text;s!==void 0&&nc(0,0,i,n,s)}function Ci(n,t){const e=document.createElement(t);return e.appendChild(n),e}class Jt extends ho{static getType(){return"text"}static clone(t){return new Jt(t.__text,t.__key)}constructor(t,e){super(e),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return $u[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Ce()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const e=je[t];return!!(this.getFormat()&e)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,e){return qo(this.getLatest().__format,t,e)}canHaveFormat(){return!0}createDOM(t,e){const i=this.__format,o=Oo(0,i),r=Fo(0,i),s=o===null?r:o,a=document.createElement(s);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),o!==null&&(l=document.createElement(r),a.appendChild(l)),Ps(l,this,0,i,this.__text,t);const c=this.__style;return c!==""&&(a.style.cssText=c),a}updateDOM(t,e,i){const o=this.__text,r=t.__format,s=this.__format,a=Oo(0,r),l=Oo(0,s),c=Fo(0,r),u=Fo(0,s);if((a===null?c:a)!==(l===null?u:l))return!0;if(a===l&&c!==u){const y=e.firstChild;y==null&&U(48);const _=document.createElement(u);return Ps(_,this,0,s,o,i),e.replaceChild(_,y),!1}let h=e;l!==null&&a!==null&&(h=e.firstChild,h==null&&U(49)),ic(o,h,this);const d=i.theme.text;d!==void 0&&r!==s&&nc(0,r,s,h,d);const p=t.__style,g=this.__style;return p!==g&&(e.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:pd,priority:0}),b:()=>({conversion:dd,priority:0}),code:()=>({conversion:be,priority:0}),em:()=>({conversion:be,priority:0}),i:()=>({conversion:be,priority:0}),s:()=>({conversion:be,priority:0}),span:()=>({conversion:ud,priority:0}),strong:()=>({conversion:be,priority:0}),sub:()=>({conversion:be,priority:0}),sup:()=>({conversion:be,priority:0}),u:()=>({conversion:be,priority:0})}}static importJSON(t){const e=yt(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportDOM(t){let{element:e}=super.exportDOM(t);return e!==null&&ce(e)||U(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=Ci(e,"b")),this.hasFormat("italic")&&(e=Ci(e,"i")),this.hasFormat("strikethrough")&&(e=Ci(e,"s")),this.hasFormat("underline")&&(e=Ci(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(t,e){}setFormat(t){const e=this.getWritable();return e.__format=typeof t=="string"?je[t]:t,e}setDetail(t){const e=this.getWritable();return e.__detail=typeof t=="string"?Bu[t]:t,e}setStyle(t){const e=this.getWritable();return e.__style=t,e}toggleFormat(t){const e=qo(this.getFormat(),t,null);return this.setFormat(e)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const e=zu[t];if(this.__mode===e)return this;const i=this.getWritable();return i.__mode=e,i}setTextContent(t){if(this.__text===t)return this;const e=this.getWritable();return e.__text=t,e}select(t,e){Pt();let i=t,o=e;const r=W(),s=this.getTextContent(),a=this.__key;if(typeof s=="string"){const l=s.length;i===void 0&&(i=l),o===void 0&&(o=l)}else i=0,o=0;if(!P(r))return sc(a,i,a,o,"text","text");{const l=Ce();l!==r.anchor.key&&l!==r.focus.key||Et(a),r.setTextNodeRange(this,i,this,o)}return r}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,e,i,o){const r=this.getWritable(),s=r.__text,a=i.length;let l=t;l<0&&(l=a+l,l<0&&(l=0));const c=W();if(o&&P(c)){const h=t+a;c.setTextNodeRange(r,h,r,h)}const u=s.slice(0,l)+i+s.slice(l+e);return r.__text=u,r}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){Pt();const e=this.getLatest(),i=e.getTextContent(),o=e.__key,r=Ce(),s=new Set(t),a=[],l=i.length;let c="";for(let E=0;E<l;E++)c!==""&&s.has(E)&&(a.push(c),c=""),c+=i[E];c!==""&&a.push(c);const u=a.length;if(u===0)return[];if(a[0]===i)return[e];const h=a[0],d=e.getParentOrThrow();let p;const g=e.getFormat(),y=e.getStyle(),_=e.__detail;let w=!1;e.isSegmented()?(p=yt(h),p.__format=g,p.__style=y,p.__detail=_,w=!0):(p=e.getWritable(),p.__text=h);const f=W(),m=[p];let b=h.length;for(let E=1;E<u;E++){const k=a[E],S=k.length,R=yt(k).getWritable();R.__format=g,R.__style=y,R.__detail=_;const z=R.__key,K=b+S;if(P(f)){const j=f.anchor,Z=f.focus;j.key===o&&j.type==="text"&&j.offset>b&&j.offset<=K&&(j.key=z,j.offset-=b,f.dirty=!0),Z.key===o&&Z.type==="text"&&Z.offset>b&&Z.offset<=K&&(Z.key=z,Z.offset-=b,f.dirty=!0)}r===o&&Et(z),b=K,m.push(R)}(function(E){const k=E.getPreviousSibling(),S=E.getNextSibling();k!==null&&Wi(k),S!==null&&Wi(S)})(this);const v=d.getWritable(),x=this.getIndexWithinParent();return w?(v.splice(x,0,m),this.remove()):v.splice(x,1,m),P(f)&&Ki(f,d,x,u-1),m}mergeWithSibling(t){const e=t===this.getPreviousSibling();e||t===this.getNextSibling()||U(50);const i=this.__key,o=t.__key,r=this.__text,s=r.length;Ce()===o&&Et(i);const a=W();if(P(a)){const h=a.anchor,d=a.focus;h!==null&&h.key===o&&(Ks(h,e,i,t,s),a.dirty=!0),d!==null&&d.key===o&&(Ks(d,e,i,t,s),a.dirty=!0)}const l=t.__text,c=e?l+r:r+l;this.setTextContent(c);const u=this.getWritable();return t.remove(),u}isTextEntity(){return!1}}function ud(n){return{forChild:Kr(n.style),node:null}}function dd(n){const t=n,e=t.style.fontWeight==="normal";return{forChild:Kr(t.style,e?void 0:"bold"),node:null}}const Rs=new WeakMap;function hd(n){return n.nodeName==="PRE"||n.nodeType===li&&n.style!==void 0&&n.style.whiteSpace!==void 0&&n.style.whiteSpace.startsWith("pre")}function pd(n){const t=n;n.parentElement===null&&U(129);let e=t.textContent||"";if(function(i){let o,r=i.parentNode;const s=[i];for(;r!==null&&(o=Rs.get(r))===void 0&&!hd(r);)s.push(r),r=r.parentNode;const a=o===void 0?r:o;for(let l=0;l<s.length;l++)Rs.set(s[l],a);return a}(t)!==null){const i=e.split(/(\r?\n|\t)/),o=[],r=i.length;for(let s=0;s<r;s++){const a=i[s];a===`
`||a===`\r
`?o.push(me()):a==="	"?o.push(kn()):a!==""&&o.push(yt(a))}return{node:o}}if(e=e.replace(/\r/g,"").replace(/[ \t\n]+/g," "),e==="")return{node:null};if(e[0]===" "){let i=t,o=!0;for(;i!==null&&(i=Hs(i,!1))!==null;){const r=i.textContent||"";if(r.length>0){/[ \t\n]$/.test(r)&&(e=e.slice(1)),o=!1;break}}o&&(e=e.slice(1))}if(e[e.length-1]===" "){let i=t,o=!0;for(;i!==null&&(i=Hs(i,!0))!==null;)if((i.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(e=e.slice(0,e.length-1))}return e===""?{node:null}:{node:yt(e)}}function Hs(n,t){let e=n;for(;;){let i;for(;(i=t?e.nextSibling:e.previousSibling)===null;){const r=e.parentElement;if(r===null)return null;e=r}if(e=i,e.nodeType===li){const r=e.style.display;if(r===""&&!id(e)||r!==""&&!r.startsWith("inline"))return null}let o=e;for(;(o=t?e.firstChild:e.lastChild)!==null;)e=o;if(e.nodeType===Me)return e;if(e.nodeName==="BR")return null}}const gd={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function be(n){const t=gd[n.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:Kr(n.style,t),node:null}}function yt(n=""){return Lt(new Jt(n))}function H(n){return n instanceof Jt}function Kr(n,t){const e=n.fontWeight,i=n.textDecoration.split(" "),o=e==="700"||e==="bold",r=i.includes("line-through"),s=n.fontStyle==="italic",a=i.includes("underline"),l=n.verticalAlign;return c=>(H(c)&&(o&&!c.hasFormat("bold")&&c.toggleFormat("bold"),r&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),s&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),t&&!c.hasFormat(t)&&c.toggleFormat(t)),c)}class di extends Jt{static getType(){return"tab"}static clone(t){const e=new di(t.__key);return e.__text=t.__text,e.__format=t.__format,e.__style=t.__style,e}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}static importJSON(t){const e=kn();return e.setFormat(t.format),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(t){U(126)}setDetail(t){U(127)}setMode(t){U(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function kn(){return Lt(new di)}function Zr(n){return n instanceof di}class fd{constructor(t,e,i){this._selection=null,this.key=t,this.offset=e,this.type=i}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let e=this.getNode(),i=t.getNode();const o=this.offset,r=t.offset;return F(e)&&(e=e.getDescendantByIndex(o)??e),F(i)&&(i=i.getDescendantByIndex(r)??i),e===i?o<r:e.isBefore(i)}getNode(){const t=at(this.key);return t===null&&U(20),t}set(t,e,i){const o=this._selection,r=this.key;this.key=t,this.offset=e,this.type=i,En()||(Ce()===r&&Et(t),o!==null&&(o.setCachedNodes(null),o.dirty=!0))}}function ae(n,t,e){return new fd(n,t,e)}function Do(n,t){let e=t.__key,i=n.offset,o="element";if(H(t)){o="text";const r=t.getTextContentSize();i>r&&(i=r)}else if(!F(t)){const r=t.getNextSibling();if(H(r))e=r.__key,i=0,o="text";else{const s=t.getParent();s&&(e=s.__key,i=t.getIndexWithinParent()+1)}}n.set(e,i,o)}function Bs(n,t){if(F(t)){const e=t.getLastDescendant();F(e)||H(e)?Do(n,e):Do(n,t)}else Do(n,t)}function xe(n,t,e,i){n.key=t,n.offset=e,n.type=i}class po{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!qt(t))return!1;const e=this._nodes,i=t._nodes;return e.size===i.size&&Array.from(e).every(o=>i.has(o))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new po(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const e=this.getNodes(),i=e.length,o=e[i-1];let r;if(H(o))r=o.select();else{const s=o.getIndexWithinParent()+1;r=o.getParentOrThrow().select(s,s)}r.insertNodes(t);for(let s=0;s<i;s++)e[s].remove()}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const e=this._nodes,i=[];for(const o of e){const r=at(o);r!==null&&i.push(r)}return En()||(this._cachedNodes=i),i}getTextContent(){const t=this.getNodes();let e="";for(let i=0;i<t.length;i++)e+=t[i].getTextContent();return e}}function P(n){return n instanceof Oe}class Oe{constructor(t,e,i,o){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=i,this.style=o,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!P(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const e=this.anchor,i=this.focus,o=e.isBefore(i),r=o?e:i,s=o?i:e;let a=r.getNode(),l=s.getNode();const c=r.offset,u=s.offset;if(F(a)&&(a=a.getDescendantByIndex(c)??a),F(l)){let d=l.getDescendantByIndex(u);d!==null&&d!==a&&l.getChildAtIndex(u)===d&&(d=d.getPreviousSibling()),l=d??l}let h;return h=a.is(l)?F(a)&&a.getChildrenSize()>0?[]:[a]:a.getNodesBetween(l),En()||(this._cachedNodes=h),h}setTextNodeRange(t,e,i,o){xe(this.anchor,t.__key,e,"text"),xe(this.focus,i.__key,o,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const t=this.getNodes();if(t.length===0)return"";const e=t[0],i=t[t.length-1],o=this.anchor,r=this.focus,s=o.isBefore(r),[a,l]=lr(this);let c="",u=!0;for(let h=0;h<t.length;h++){const d=t[h];if(F(d)&&!d.isInline())u||(c+=`
`),u=!d.isEmpty();else if(u=!1,H(d)){let p=d.getTextContent();d===e?d===i?o.type==="element"&&r.type==="element"&&r.offset!==o.offset||(p=a<l?p.slice(a,l):p.slice(l,a)):p=s?p.slice(a):p.slice(l):d===i&&(p=s?p.slice(0,l):p.slice(0,a)),c+=p}else!lt(d)&&!Le(d)||d===i&&this.isCollapsed()||(c+=d.getTextContent())}return c}applyDOMRange(t){const e=gt(),i=e.getEditorState()._selection,o=rc(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,i);if(o===null)return;const[r,s]=o;xe(this.anchor,r.key,r.offset,r.type),xe(this.focus,s.key,s.offset,s.type),this._cachedNodes=null}clone(){const t=this.anchor,e=this.focus;return new Oe(ae(t.key,t.offset,t.type),ae(e.key,e.offset,e.type),this.format,this.style)}toggleFormat(t){this.format=qo(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const e=je[t];return!!(this.format&e)}insertRawText(t){const e=t.split(/(\r?\n|\t)/),i=[],o=e.length;for(let r=0;r<o;r++){const s=e[r];s===`
`||s===`\r
`?i.push(me()):s==="	"?i.push(kn()):i.push(yt(s))}this.insertNodes(i)}insertText(t){const e=this.anchor,i=this.focus,o=this.format,r=this.style;let s=e,a=i;!this.isCollapsed()&&i.isBefore(e)&&(s=i,a=e),s.type==="element"&&function(_,w,f,m){const b=_.getNode(),v=b.getChildAtIndex(_.offset),x=yt(),E=St(b)?it().append(x):x;x.setFormat(f),x.setStyle(m),v===null?b.append(E):v.insertBefore(E),_.is(w)&&w.set(x.__key,0,"text"),_.set(x.__key,0,"text")}(s,a,o,r);const l=s.offset;let c=a.offset;const u=this.getNodes(),h=u.length;let d=u[0];H(d)||U(26);const p=d.getTextContent().length,g=d.getParentOrThrow();let y=u[h-1];if(h===1&&a.type==="element"&&(c=p,a.set(s.key,c,"text")),this.isCollapsed()&&l===p&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!g.canInsertTextAfter()&&d.getNextSibling()===null)){let _=d.getNextSibling();if(H(_)&&_.canInsertTextBefore()&&!sn(_)||(_=yt(),_.setFormat(o),_.setStyle(r),g.canInsertTextAfter()?d.insertAfter(_):g.insertAfter(_)),_.select(0,0),d=_,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&l===0&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!g.canInsertTextBefore()&&d.getPreviousSibling()===null)){let _=d.getPreviousSibling();if(H(_)&&!sn(_)||(_=yt(),_.setFormat(o),g.canInsertTextBefore()?d.insertBefore(_):g.insertBefore(_)),_.select(),d=_,t!=="")return void this.insertText(t)}else if(d.isSegmented()&&l!==p){const _=yt(d.getTextContent());_.setFormat(o),d.replace(_),d=_}else if(!this.isCollapsed()&&t!==""){const _=y.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||F(_)&&(!_.canInsertTextBefore()||!_.canInsertTextAfter()))return this.insertText(""),oc(this.anchor,this.focus,null),void this.insertText(t)}if(h===1){if(d.isToken()){const m=yt(t);return m.select(),void d.replace(m)}const _=d.getFormat(),w=d.getStyle();if(l!==c||_===o&&w===r){if(Zr(d)){const m=yt(t);return m.setFormat(o),m.setStyle(r),m.select(),void d.replace(m)}}else{if(d.getTextContent()!==""){const m=yt(t);if(m.setFormat(o),m.setStyle(r),m.select(),l===0)d.insertBefore(m,!1);else{const[b]=d.splitText(l);b.insertAfter(m,!1)}return void(m.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}d.setFormat(o),d.setStyle(r)}const f=c-l;d=d.spliceText(l,f,t,!0),d.getTextContent()===""?d.remove():this.anchor.type==="text"&&(d.isComposing()?this.anchor.offset-=t.length:(this.format=_,this.style=w))}else{const _=new Set([...d.getParentKeys(),...y.getParentKeys()]),w=F(d)?d:d.getParentOrThrow();let f=F(y)?y:y.getParentOrThrow(),m=y;if(!w.is(f)&&f.isInline())do m=f,f=f.getParentOrThrow();while(f.isInline());if(a.type==="text"&&(c!==0||y.getTextContent()==="")||a.type==="element"&&y.getIndexWithinParent()<c)if(H(y)&&!y.isToken()&&c!==y.getTextContentSize()){if(y.isSegmented()){const k=yt(y.getTextContent());y.replace(k),y=k}St(a.getNode())||a.type!=="text"||(y=y.spliceText(0,c,"")),_.add(y.__key)}else{const k=y.getParentOrThrow();k.canBeEmpty()||k.getChildrenSize()!==1?y.remove():k.remove()}else _.add(y.__key);const b=f.getChildren(),v=new Set(u),x=w.is(f),E=w.isInline()&&d.getNextSibling()===null?w:d;for(let k=b.length-1;k>=0;k--){const S=b[k];if(S.is(d)||F(S)&&S.isParentOf(d))break;S.isAttached()&&(!v.has(S)||S.is(m)?x||E.insertAfter(S,!1):S.remove())}if(!x){let k=f,S=null;for(;k!==null;){const R=k.getChildren(),z=R.length;(z===0||R[z-1].is(S))&&(_.delete(k.__key),S=k),k=k.getParent()}}if(d.isToken())if(l===p)d.select();else{const k=yt(t);k.select(),d.replace(k)}else d=d.spliceText(l,p-l,t,!0),d.getTextContent()===""?d.remove():d.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let k=1;k<h;k++){const S=u[k],R=S.__key;_.has(R)||S.remove()}}}removeText(){this.insertText("")}formatText(t){if(this.isCollapsed())return this.toggleFormat(t),void Et(null);const e=this.getNodes(),i=[];for(const f of e)H(f)&&i.push(f);const o=i.length;if(o===0)return this.toggleFormat(t),void Et(null);const r=this.anchor,s=this.focus,a=this.isBackward(),l=a?s:r,c=a?r:s;let u=0,h=i[0],d=l.type==="element"?0:l.offset;if(l.type==="text"&&d===h.getTextContentSize()&&(u=1,h=i[1],d=0),h==null)return;const p=h.getFormatFlags(t,null),g=o-1;let y=i[g];const _=c.type==="text"?c.offset:y.getTextContentSize();if(h.is(y)){if(d===_)return;if(sn(h)||d===0&&_===h.getTextContentSize())h.setFormat(p);else{const f=h.splitText(d,_),m=d===0?f[0]:f[1];m.setFormat(p),l.type==="text"&&l.set(m.__key,0,"text"),c.type==="text"&&c.set(m.__key,_-d,"text")}return void(this.format=p)}d===0||sn(h)||([,h]=h.splitText(d),d=0),h.setFormat(p);const w=y.getFormatFlags(t,p);_>0&&(_===y.getTextContentSize()||sn(y)||([y]=y.splitText(_)),y.setFormat(w));for(let f=u+1;f<g;f++){const m=i[f],b=m.getFormatFlags(t,w);m.setFormat(b)}l.type==="text"&&l.set(h.__key,d,"text"),c.type==="text"&&c.set(y.__key,_,"text"),this.format=p|w}insertNodes(t){if(t.length===0)return;if(this.anchor.key==="root"){this.insertParagraph();const g=W();return P(g)||U(134),g.insertNodes(t)}const e=Ao((this.isBackward()?this.focus:this.anchor).getNode(),an),i=t[t.length-1];if("__language"in e&&F(e)){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const g=Io(this);e.splice(g,0,t),i.selectEnd()}return}if(!t.some(g=>(F(g)||lt(g))&&!g.isInline())){F(e)||U(135);const g=Io(this);return e.splice(g,0,t),void i.selectEnd()}const o=function(g){const y=it();let _=null;for(let w=0;w<g.length;w++){const f=g[w],m=Le(f);if(m||lt(f)&&f.isInline()||F(f)&&f.isInline()||H(f)||f.isParentRequired()){if(_===null&&(_=f.createParentElementNode(),y.append(_),m))continue;_!==null&&_.append(f)}else y.append(f),_=null}return y}(t),r=o.getLastDescendant(),s=o.getChildren(),a=g=>"__value"in g&&"__checked"in g,l=!F(e)||!e.isEmpty()?this.insertParagraph():null,c=s[s.length-1];let u=s[0];var h;F(h=u)&&an(h)&&!h.isEmpty()&&F(e)&&(!e.isEmpty()||a(e))&&(F(e)||U(135),e.append(...u.getChildren()),u=s[1]),u&&function(g,y,_){const w=y.getParentOrThrow().getLastChild();let f=y;const m=[y];for(;f!==w;)f.getNextSibling()||U(140),f=f.getNextSibling(),m.push(f);let b=g;for(const v of m)b=b.insertAfter(v)}(e,u);const d=Ao(r,an);l&&F(d)&&(a(l)||an(c))&&(d.append(...l.getChildren()),l.remove()),F(e)&&e.isEmpty()&&e.remove(),r.selectEnd();const p=F(e)?e.getLastChild():null;Le(p)&&d!==e&&p.remove()}insertParagraph(){if(this.anchor.key==="root"){const s=it();return bt().splice(this.anchor.offset,0,[s]),s.select(),s}const t=Io(this),e=Ao(this.anchor.getNode(),an);F(e)||U(136);const i=e.getChildAtIndex(t),o=i?[i,...i.getNextSiblings()]:[],r=e.insertNewAfter(this,!1);return r?(r.append(...o),r.selectStart(),r):null}insertLineBreak(t){const e=me();if(this.insertNodes([e]),t){const i=e.getParentOrThrow(),o=e.getIndexWithinParent();i.select(o,o)}}extract(){const t=this.getNodes(),e=t.length,i=e-1,o=this.anchor,r=this.focus;let s=t[0],a=t[i];const[l,c]=lr(this);if(e===0)return[];if(e===1){if(H(s)&&!this.isCollapsed()){const h=l>c?c:l,d=l>c?l:c,p=s.splitText(h,d),g=h===0?p[0]:p[1];return g!=null?[g]:[]}return[s]}const u=o.isBefore(r);if(H(s)){const h=u?l:c;h===s.getTextContentSize()?t.shift():h!==0&&([,s]=s.splitText(h),t[0]=s)}if(H(a)){const h=a.getTextContent().length,d=u?c:l;d===0?t.pop():d!==h&&([a]=a.splitText(d),t[i]=a)}return t}modify(t,e,i){const o=this.focus,r=this.anchor,s=t==="move",a=ei(o,e);if(lt(a)&&!a.isIsolated()){if(s&&a.isKeyboardSelectable()){const p=js();return p.add(a.__key),void oe(p)}const d=e?a.getPreviousSibling():a.getNextSibling();if(H(d)){const p=d.__key,g=e?d.getTextContent().length:0;return o.set(p,g,"text"),void(s&&r.set(p,g,"text"))}{const p=a.getParentOrThrow();let g,y;return F(d)?(y=d.__key,g=e?d.getChildrenSize():0):(g=a.getIndexWithinParent(),y=p.__key,e||g++),o.set(y,g,"element"),void(s&&r.set(y,g,"element"))}}const l=gt(),c=se(l._window);if(!c)return;const u=l._blockCursorElement,h=l._rootElement;if(h===null||u===null||!F(a)||a.isInline()||a.canBeEmpty()||Vr(u,l,h),function(d,p,g,y){d.modify(p,g,y)}(c,t,e?"backward":"forward",i),c.rangeCount>0){const d=c.getRangeAt(0),p=this.anchor.getNode(),g=St(p)?p:td(p);if(this.applyDOMRange(d),this.dirty=!0,!s){const y=this.getNodes(),_=[];let w=!1;for(let f=0;f<y.length;f++){const m=y[f];Xo(m,g)?_.push(m):w=!0}if(w&&_.length>0)if(e){const f=_[0];F(f)?f.selectStart():f.getParentOrThrow().selectStart()}else{const f=_[_.length-1];F(f)?f.selectEnd():f.getParentOrThrow().selectEnd()}c.anchorNode===d.startContainer&&c.anchorOffset===d.startOffset||function(f){const m=f.focus,b=f.anchor,v=b.key,x=b.offset,E=b.type;xe(b,m.key,m.offset,m.type),xe(m,v,x,E),f._cachedNodes=null}(this)}}}forwardDeletion(t,e,i){if(!i&&(t.type==="element"&&F(e)&&t.offset===e.getChildrenSize()||t.type==="text"&&t.offset===e.getTextContentSize())){const o=e.getParent(),r=e.getNextSibling()||(o===null?null:o.getNextSibling());if(F(r)&&r.isShadowRoot())return!0}return!1}deleteCharacter(t){const e=this.isCollapsed();if(this.isCollapsed()){const i=this.anchor;let o=i.getNode();if(this.forwardDeletion(i,o,t))return;const r=this.focus,s=ei(r,t);if(lt(s)&&!s.isIsolated()){if(s.isKeyboardSelectable()&&F(o)&&o.getChildrenSize()===0){o.remove();const a=js();a.add(s.__key),oe(a)}else s.remove(),gt().dispatchCommand(to,void 0);return}if(!t&&F(s)&&F(o)&&o.isEmpty())return o.remove(),void s.selectStart();if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&i.offset===0&&(i.type==="element"?i.getNode():i.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const a=r.type==="text"?r.getNode():null;if(o=i.type==="text"?i.getNode():null,a!==null&&a.isSegmented()){const l=r.offset,c=a.getTextContentSize();if(a.is(o)||t&&l!==c||!t&&l!==0)return void zs(a,t,l)}else if(o!==null&&o.isSegmented()){const l=i.offset,c=o.getTextContentSize();if(o.is(a)||t&&l!==0||!t&&l!==c)return void zs(o,t,l)}(function(l,c){const u=l.anchor,h=l.focus,d=u.getNode(),p=h.getNode();if(d===p&&u.type==="text"&&h.type==="text"){const g=u.offset,y=h.offset,_=g<y,w=_?g:y,f=_?y:g,m=f-1;w!==m&&(Hl(d.getTextContent().slice(w,f))||(c?h.offset=m:u.offset=m))}})(this,t)}}if(this.removeText(),t&&!e&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const i=this.anchor.getNode();i.isEmpty()&&St(i.getParent())&&i.getIndexWithinParent()===0&&i.collapseAtStart(this)}}deleteLine(t){if(this.isCollapsed()){const e=this.anchor.type==="element";if(e&&this.insertText(" "),this.modify("extend",t,"lineboundary"),(t?this.focus:this.anchor).offset===0&&this.modify("extend",t,"character"),e){const i=t?this.anchor:this.focus;i.set(i.key,i.offset+1,i.type)}}this.removeText()}deleteWord(t){if(this.isCollapsed()){const e=this.anchor,i=e.getNode();if(this.forwardDeletion(e,i,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function qt(n){return n instanceof po}function Ws(n){const t=n.offset;if(n.type==="text")return t;const e=n.getNode();return t===e.getChildrenSize()?e.getTextContent().length:0}function lr(n){const t=n.getStartEndPoints();if(t===null)return[0,0];const[e,i]=t;return e.type==="element"&&i.type==="element"&&e.key===i.key&&e.offset===i.offset?[0,0]:[Ws(e),Ws(i)]}function zs(n,t,e){const i=n,o=i.getTextContent().split(/(?=\s)/g),r=o.length;let s=0,a=0;for(let c=0;c<r;c++){const u=c===r-1;if(a=s,s+=o[c].length,t&&s===e||s>e||u){o.splice(c,1),u&&(a=void 0);break}}const l=o.join("").trim();l===""?i.remove():(i.setTextContent(l),i.select(a,a))}function $s(n,t,e,i){let o,r=t;if(n.nodeType===li){let s=!1;const a=n.childNodes,l=a.length,c=i._blockCursorElement;r===l&&(s=!0,r=l-1);let u=a[r],h=!1;if(u===c)u=a[r+1],h=!0;else if(c!==null){const d=c.parentNode;n===d&&t>Array.prototype.indexOf.call(d.children,c)&&r--}if(o=cn(u),H(o))r=ks(o,s);else{let d=cn(n);if(d===null)return null;if(F(d)){r=Math.min(d.getChildrenSize(),r);let p=d.getChildAtIndex(r);if(F(p)&&function(g,y,_){const w=g.getParent();return _===null||w===null||!w.canBeEmpty()||w!==_.getNode()}(p,0,e)){const g=s?p.getLastDescendant():p.getFirstDescendant();g===null?d=p:(p=g,d=F(p)?p:p.getParentOrThrow()),r=0}H(p)?(o=p,d=null,r=ks(p,s)):p!==d&&s&&!h&&r++}else{const p=d.getIndexWithinParent();r=t===0&&lt(d)&&cn(n)===d?p:p+1,d=d.getParentOrThrow()}if(F(d))return ae(d.__key,r,"element")}}else o=cn(n);return H(o)?ae(o.__key,r,"text"):null}function Us(n,t,e){const i=n.offset,o=n.getNode();if(i===0){const r=o.getPreviousSibling(),s=o.getParent();if(t){if((e||!t)&&r===null&&F(s)&&s.isInline()){const a=s.getPreviousSibling();H(a)&&(n.key=a.__key,n.offset=a.getTextContent().length)}}else F(r)&&!e&&r.isInline()?(n.key=r.__key,n.offset=r.getChildrenSize(),n.type="element"):H(r)&&(n.key=r.__key,n.offset=r.getTextContent().length)}else if(i===o.getTextContent().length){const r=o.getNextSibling(),s=o.getParent();if(t&&F(r)&&r.isInline())n.key=r.__key,n.offset=0,n.type="element";else if((e||t)&&r===null&&F(s)&&s.isInline()&&!s.canInsertTextAfter()){const a=s.getNextSibling();H(a)&&(n.key=a.__key,n.offset=0)}}}function oc(n,t,e){if(n.type==="text"&&t.type==="text"){const i=n.isBefore(t),o=n.is(t);Us(n,i,o),Us(t,!i,o),o&&(t.key=n.key,t.offset=n.offset,t.type=n.type);const r=gt();if(r.isComposing()&&r._compositionKey!==n.key&&P(e)){const s=e.anchor,a=e.focus;xe(n,s.key,s.offset,s.type),xe(t,a.key,a.offset,a.type)}}}function rc(n,t,e,i,o,r){if(n===null||e===null||!ci(o,n,e))return null;const s=$s(n,t,P(r)?r.anchor:null,o);if(s===null)return null;const a=$s(e,i,P(r)?r.focus:null,o);if(a===null)return null;if(s.type==="element"&&a.type==="element"){const l=cn(n),c=cn(e);if(lt(l)&&lt(c))return null}return oc(s,a,r),[s,a]}function cr(n){return F(n)&&!n.isInline()}function sc(n,t,e,i,o,r){const s=_e(),a=new Oe(ae(n,t,o),ae(e,i,r),0,"");return a.dirty=!0,s._selection=a,a}function md(){const n=ae("root",0,"element"),t=ae("root",0,"element");return new Oe(n,t,0,"")}function js(){return new po(new Set)}function Yr(n,t,e,i){const o=e._window;if(o===null)return null;const r=i||o.event,s=r?r.type:void 0,a=s==="selectionchange",l=!Yo&&(a||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&r&&r.detail===3||s==="drop"||s===void 0);let c,u,h,d;if(P(n)&&!l)return n.clone();if(t===null)return null;if(c=t.anchorNode,u=t.focusNode,h=t.anchorOffset,d=t.focusOffset,a&&P(n)&&!ci(e,c,u))return n.clone();const p=rc(c,h,u,d,e,n);if(p===null)return null;const[g,y]=p;return new Oe(g,y,P(n)?n.format:0,P(n)?n.style:"")}function W(){return _e()._selection}function hi(){return gt()._editorState._selection}function Ki(n,t,e,i=1){const o=n.anchor,r=n.focus,s=o.getNode(),a=r.getNode();if(!t.is(s)&&!t.is(a))return;const l=t.__key;if(n.isCollapsed()){const c=o.offset;if(e<=c&&i>0||e<c&&i<0){const u=Math.max(0,c+i);o.set(l,u,"element"),r.set(l,u,"element"),Vs(n)}}else{const c=n.isBackward(),u=c?r:o,h=u.getNode(),d=c?o:r,p=d.getNode();if(t.is(h)){const g=u.offset;(e<=g&&i>0||e<g&&i<0)&&u.set(l,Math.max(0,g+i),"element")}if(t.is(p)){const g=d.offset;(e<=g&&i>0||e<g&&i<0)&&d.set(l,Math.max(0,g+i),"element")}}Vs(n)}function Vs(n){const t=n.anchor,e=t.offset,i=n.focus,o=i.offset,r=t.getNode(),s=i.getNode();if(n.isCollapsed()){if(!F(r))return;const a=r.getChildrenSize(),l=e>=a,c=l?r.getChildAtIndex(a-1):r.getChildAtIndex(e);if(H(c)){let u=0;l&&(u=c.getTextContentSize()),t.set(c.__key,u,"text"),i.set(c.__key,u,"text")}}else{if(F(r)){const a=r.getChildrenSize(),l=e>=a,c=l?r.getChildAtIndex(a-1):r.getChildAtIndex(e);if(H(c)){let u=0;l&&(u=c.getTextContentSize()),t.set(c.__key,u,"text")}}if(F(s)){const a=s.getChildrenSize(),l=o>=a,c=l?s.getChildAtIndex(a-1):s.getChildAtIndex(o);if(H(c)){let u=0;l&&(u=c.getTextContentSize()),i.set(c.__key,u,"text")}}}}function Zi(n,t,e,i,o){let r=null,s=0,a=null;i!==null?(r=i.__key,H(i)?(s=i.getTextContentSize(),a="text"):F(i)&&(s=i.getChildrenSize(),a="element")):o!==null&&(r=o.__key,H(o)?a="text":F(o)&&(a="element")),r!==null&&a!==null?n.set(r,s,a):(s=t.getIndexWithinParent(),s===-1&&(s=e.getChildrenSize()),n.set(e.__key,s,"element"))}function Ks(n,t,e,i,o){n.type==="text"?(n.key=e,t||(n.offset+=o)):n.offset>i.getIndexWithinParent()&&(n.offset-=1)}function yd(n,t,e,i,o,r,s){const a=i.anchorNode,l=i.focusNode,c=i.anchorOffset,u=i.focusOffset,h=document.activeElement;if(o.has("collaboration")&&h!==r||h!==null&&Wr(h))return;if(!P(t))return void(n!==null&&ci(e,a,l)&&i.removeAllRanges());const d=t.anchor,p=t.focus,g=d.key,y=p.key,_=zi(e,g),w=zi(e,y),f=d.offset,m=p.offset,b=t.format,v=t.style,x=t.isCollapsed();let E=_,k=w,S=!1;if(d.type==="text"){E=Bi(_);const q=d.getNode();S=q.getFormat()!==b||q.getStyle()!==v}else P(n)&&n.anchor.type==="text"&&(S=!0);var R,z,K,j,Z;if(p.type==="text"&&(k=Bi(w)),E!==null&&k!==null&&(x&&(n===null||S||P(n)&&(n.format!==b||n.style!==v))&&(R=b,z=v,K=f,j=g,Z=performance.now(),Jl=[R,z,K,j,Z]),c!==f||u!==m||a!==E||l!==k||i.type==="Range"&&x||(h!==null&&r.contains(h)||r.focus({preventScroll:!0}),d.type==="element"))){try{i.setBaseAndExtent(E,f,k,m)}catch{}if(!o.has("skip-scroll-into-view")&&t.isCollapsed()&&r!==null&&r===document.activeElement){const q=t instanceof Oe&&t.anchor.type==="element"?E.childNodes[f]||null:i.rangeCount>0?i.getRangeAt(0):null;if(q!==null){let I;if(q instanceof Text){const C=document.createRange();C.selectNode(q),I=C.getBoundingClientRect()}else I=q.getBoundingClientRect();(function(C,T,A){const D=A.ownerDocument,L=D.defaultView;if(L===null)return;let{top:N,bottom:O}=T,M=0,B=0,$=A;for(;$!==null;){const Y=$===D.body;if(Y)M=0,B=lo(C).innerHeight;else{const J=$.getBoundingClientRect();M=J.top,B=J.bottom}let X=0;if(N<M?X=-(M-N):O>B&&(X=O-B),X!==0)if(Y)L.scrollBy(0,X);else{const J=$.scrollTop;$.scrollTop+=X;const G=$.scrollTop-J;N-=G,O-=G}if(Y)break;$=ao($)}})(e,I,r)}}rr=!0}}function ur(n){let t=W()||hi();t===null&&(t=bt().selectEnd()),t.insertNodes(n)}function Io(n){let t=n;n.isCollapsed()||t.removeText();const e=W();P(e)&&(t=e),P(t)||U(161);const i=t.anchor;let o=i.getNode(),r=i.offset;for(;!an(o);)[o,r]=_d(o,r);return r}function _d(n,t){const e=n.getParent();if(!e){const o=it();return bt().append(o),o.select(),[bt(),0]}if(H(n)){const o=n.splitText(t);if(o.length===0)return[e,n.getIndexWithinParent()];const r=t===0?0:1;return[e,o[0].getIndexWithinParent()+r]}if(!F(n)||t===0)return[e,n.getIndexWithinParent()];const i=n.getChildAtIndex(t);if(i){const o=new Oe(ae(n.__key,t,"element"),ae(n.__key,t,"element"),0,""),r=n.insertNewAfter(o);r&&r.append(i,...i.getNextSiblings())}return[e,n.getIndexWithinParent()+1]}let wt=null,xt=null,Rt=!1,Po=!1,Oi=0;const Zs={characterData:!0,childList:!0,subtree:!0};function En(){return Rt||wt!==null&&wt._readOnly}function Pt(){Rt&&U(13)}function ac(){Oi>99&&U(14)}function _e(){return wt===null&&U(15),wt}function gt(){return xt===null&&U(16),xt}function bd(){return xt}function Ys(n,t,e){const i=t.__type,o=function(a,l){const c=a._nodes.get(l);return c===void 0&&U(30,l),c}(n,i);let r=e.get(i);r===void 0&&(r=Array.from(o.transforms),e.set(i,r));const s=r.length;for(let a=0;a<s&&(r[a](t),t.isAttached());a++);}function qs(n,t){return n!==void 0&&n.__key!==t&&n.isAttached()}function vd(n){return qr(n,gt()._nodes)}function qr(n,t){const e=n.type,i=t.get(e);i===void 0&&U(17,e);const o=i.klass;n.type!==o.getType()&&U(18,o.name);const r=o.importJSON(n),s=n.children;if(F(r)&&Array.isArray(s))for(let a=0;a<s.length;a++){const l=qr(s[a],t);r.append(l)}return r}function Xs(n,t){const e=wt,i=Rt,o=xt;wt=n,Rt=!0,xt=null;try{return t()}finally{wt=e,Rt=i,xt=o}}function $e(n,t){const e=n._pendingEditorState,i=n._rootElement,o=n._headless||i===null;if(e===null)return;const r=n._editorState,s=r._selection,a=e._selection,l=n._dirtyType!==Ue,c=wt,u=Rt,h=xt,d=n._updating,p=n._observer;let g=null;if(n._pendingEditorState=null,n._editorState=e,!o&&l&&p!==null){xt=n,wt=e,Rt=!1,n._updating=!0;try{const x=n._dirtyType,E=n._dirtyElements,k=n._dirtyLeaves;p.disconnect(),g=ad(r,e,n,x,E,k)}catch(x){if(x instanceof Error&&n._onError(x),Po)throw x;return dc(n,null,i,e),Ol(n),n._dirtyType=bn,Po=!0,$e(n,r),void(Po=!1)}finally{p.observe(i,Zs),n._updating=d,wt=c,Rt=u,xt=h}}e._readOnly||(e._readOnly=!0);const y=n._dirtyLeaves,_=n._dirtyElements,w=n._normalizedNodes,f=n._updateTags,m=n._deferred;l&&(n._dirtyType=Ue,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),function(x,E){const k=x._decorators;let S=x._pendingDecorators||k;const R=E._nodeMap;let z;for(z in S)R.has(z)||(S===k&&(S=Pl(x)),delete S[z])}(n,e);const b=o?null:se(n._window);if(n._editable&&b!==null&&(l||a===null||a.dirty)){xt=n,wt=e;try{if(p!==null&&p.disconnect(),l||a===null||a.dirty){const x=n._blockCursorElement;x!==null&&Vr(x,n,i),yd(s,a,n,b,f,i)}ed(n,i,a),p!==null&&p.observe(i,Zs)}finally{xt=h,wt=c}}g!==null&&function(x,E,k,S,R){const z=Array.from(x._listeners.mutation),K=z.length;for(let j=0;j<K;j++){const[Z,q]=z[j],I=E.get(q);I!==void 0&&Z(I,{dirtyLeaves:S,prevEditorState:R,updateTags:k})}}(n,g,f,y,r),P(a)||a===null||s!==null&&s.is(a)||n.dispatchCommand(to,void 0);const v=n._pendingDecorators;v!==null&&(n._decorators=v,n._pendingDecorators=null,Xn("decorator",n,!0,v)),function(x,E,k){const S=Cs(E),R=Cs(k);S!==R&&Xn("textcontent",x,!0,R)}(n,t||r,e),Xn("update",n,!0,{dirtyElements:_,dirtyLeaves:y,editorState:e,normalizedNodes:w,prevEditorState:t||r,tags:f}),function(x,E){if(x._deferred=[],E.length!==0){const k=x._updating;x._updating=!0;try{for(let S=0;S<E.length;S++)E[S]()}finally{x._updating=k}}}(n,m),function(x){const E=x._updates;if(E.length!==0){const k=E.shift();if(k){const[S,R]=k;cc(x,S,R)}}}(n)}function Xn(n,t,e,...i){const o=t._updating;t._updating=e;try{const r=Array.from(t._listeners[n]);for(let s=0;s<r.length;s++)r[s].apply(null,i)}finally{t._updating=o}}function lc(n,t,e){if(n._updating===!1||xt!==n){let o=!1;return n.update(()=>{o=lc(n,t,e)}),o}const i=zr(n);for(let o=4;o>=0;o--)for(let r=0;r<i.length;r++){const s=i[r]._commands.get(t);if(s!==void 0){const a=s[o];if(a!==void 0){const l=Array.from(a),c=l.length;for(let u=0;u<c;u++)if(l[u](e,n)===!0)return!0}}}return!1}function Js(n,t){const e=n._updates;let i=t||!1;for(;e.length!==0;){const o=e.shift();if(o){const[r,s]=o;let a,l;s!==void 0&&(a=s.onUpdate,l=s.tag,s.skipTransforms&&(i=!0),a&&n._deferred.push(a),l&&n._updateTags.add(l)),r()}}return i}function cc(n,t,e){const i=n._updateTags;let o,r,s=!1,a=!1;e!==void 0&&(o=e.onUpdate,r=e.tag,r!=null&&i.add(r),s=e.skipTransforms||!1,a=e.discrete||!1),o&&n._deferred.push(o);const l=n._editorState;let c=n._pendingEditorState,u=!1;(c===null||c._readOnly)&&(c=n._pendingEditorState=new fo(new Map((c||l)._nodeMap)),u=!0),c._flushSync=a;const h=wt,d=Rt,p=xt,g=n._updating;wt=c,Rt=!1,n._updating=!0,xt=n;try{u&&(n._headless?l._selection!==null&&(c._selection=l._selection.clone()):c._selection=function(w){const f=w.getEditorState()._selection,m=se(w._window);return P(f)||f==null?Yr(f,m,w,null):f.clone()}(n));const y=n._compositionKey;t(),s=Js(n,s),function(w,f){const m=f.getEditorState()._selection,b=w._selection;if(P(b)){const v=b.anchor,x=b.focus;let E;if(v.type==="text"&&(E=v.getNode(),E.selectionTransform(m,b)),x.type==="text"){const k=x.getNode();E!==k&&k.selectionTransform(m,b)}}}(c,n),n._dirtyType!==Ue&&(s?function(w,f){const m=f._dirtyLeaves,b=w._nodeMap;for(const v of m){const x=b.get(v);H(x)&&x.isAttached()&&x.isSimpleText()&&!x.isUnmergeable()&&ws(x)}}(c,n):function(w,f){const m=f._dirtyLeaves,b=f._dirtyElements,v=w._nodeMap,x=Ce(),E=new Map;let k=m,S=k.size,R=b,z=R.size;for(;S>0||z>0;){if(S>0){f._dirtyLeaves=new Set;for(const K of k){const j=v.get(K);H(j)&&j.isAttached()&&j.isSimpleText()&&!j.isUnmergeable()&&ws(j),j!==void 0&&qs(j,x)&&Ys(f,j,E),m.add(K)}if(k=f._dirtyLeaves,S=k.size,S>0){Oi++;continue}}f._dirtyLeaves=new Set,f._dirtyElements=new Map;for(const K of R){const j=K[0],Z=K[1];if(j!=="root"&&!Z)continue;const q=v.get(j);q!==void 0&&qs(q,x)&&Ys(f,q,E),b.set(j,Z)}k=f._dirtyLeaves,S=k.size,R=f._dirtyElements,z=R.size,Oi++}f._dirtyLeaves=m,f._dirtyElements=b}(c,n),Js(n),function(w,f,m,b){const v=w._nodeMap,x=f._nodeMap,E=[];for(const[k]of b){const S=x.get(k);S!==void 0&&(S.isAttached()||(F(S)&&$l(S,k,v,x,E,b),v.has(k)||b.delete(k),E.push(k)))}for(const k of E)x.delete(k);for(const k of m){const S=x.get(k);S===void 0||S.isAttached()||(v.has(k)||m.delete(k),x.delete(k))}}(l,c,n._dirtyLeaves,n._dirtyElements)),y!==n._compositionKey&&(c._flushSync=!0);const _=c._selection;if(P(_)){const w=c._nodeMap,f=_.anchor.key,m=_.focus.key;w.get(f)!==void 0&&w.get(m)!==void 0||U(19)}else qt(_)&&_._nodes.size===0&&(c._selection=null)}catch(y){return y instanceof Error&&n._onError(y),n._pendingEditorState=l,n._dirtyType=bn,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void $e(n)}finally{wt=h,Rt=d,xt=p,n._updating=g,Oi=0}n._dirtyType!==Ue||function(y,_){const w=_.getEditorState()._selection,f=y._selection;if(f!==null){if(f.dirty||!f.is(w))return!0}else if(w!==null)return!0;return!1}(c,n)?c._flushSync?(c._flushSync=!1,$e(n)):u&&qu(()=>{$e(n)}):(c._flushSync=!1,u&&(i.clear(),n._deferred=[],n._pendingEditorState=null))}function Wt(n,t,e){n._updating?n._updates.push([t,e]):cc(n,t,e)}class $t extends ho{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return Wu[t]||""}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let e=this.getFirstChild();for(;e!==null;)t.push(e),e=e.getNextSibling();return t}getChildrenKeys(){const t=[];let e=this.getFirstChild();for(;e!==null;)t.push(e.__key),e=e.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=gt()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return e!==null&&e.is(t)}getAllTextNodes(){const t=[];let e=this.getFirstChild();for(;e!==null;){if(H(e)&&t.push(e),F(e)){const i=e.getAllTextNodes();t.push(...i)}e=e.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;F(t);){const e=t.getFirstChild();if(e===null)break;t=e}return t}getLastDescendant(){let t=this.getLastChild();for(;F(t);){const e=t.getLastChild();if(e===null)break;t=e}return t}getDescendantByIndex(t){const e=this.getChildren(),i=e.length;if(t>=i){const r=e[i-1];return F(r)&&r.getLastDescendant()||r||null}const o=e[t];return F(o)&&o.getFirstDescendant()||o||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:at(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&U(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:at(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&U(96,this.__key),t}getChildAtIndex(t){const e=this.getChildrenSize();let i,o;if(t<e/2){for(i=this.getFirstChild(),o=0;i!==null&&o<=t;){if(o===t)return i;i=i.getNextSibling(),o++}return null}for(i=this.getLastChild(),o=e-1;i!==null&&o>=t;){if(o===t)return i;i=i.getPreviousSibling(),o--}return null}getTextContent(){let t="";const e=this.getChildren(),i=e.length;for(let o=0;o<i;o++){const r=e[o];t+=r.getTextContent(),F(r)&&o!==i-1&&!r.isInline()&&(t+=ge)}return t}getTextContentSize(){let t=0;const e=this.getChildren(),i=e.length;for(let o=0;o<i;o++){const r=e[o];t+=r.getTextContentSize(),F(r)&&o!==i-1&&!r.isInline()&&(t+=ge.length)}return t}getDirection(){return this.getLatest().__dir}hasFormat(t){if(t!==""){const e=_s[t];return!!(this.getFormat()&e)}return!1}select(t,e){Pt();const i=W();let o=t,r=e;const s=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&e===0){const l=this.getFirstChild();if(H(l)||F(l))return l.select(0,0)}else if(!(t!==void 0&&t!==s||e!==void 0&&e!==s)){const l=this.getLastChild();if(H(l)||F(l))return l.select()}}o===void 0&&(o=s),r===void 0&&(r=s);const a=this.__key;return P(i)?(i.anchor.set(a,o,"element"),i.focus.set(a,r,"element"),i.dirty=!0,i):sc(a,o,a,r,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(e=>e.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const e=this.getWritable();return e.__dir=t,e}setFormat(t){return this.getWritable().__format=t!==""?_s[t]:0,this}setIndent(t){return this.getWritable().__indent=t,this}splice(t,e,i){const o=i.length,r=this.getChildrenSize(),s=this.getWritable(),a=s.__key,l=[],c=[],u=this.getChildAtIndex(t+e);let h=null,d=r-e+o;if(t!==0)if(t===r)h=this.getLastChild();else{const g=this.getChildAtIndex(t);g!==null&&(h=g.getPreviousSibling())}if(e>0){let g=h===null?this.getFirstChild():h.getNextSibling();for(let y=0;y<e;y++){g===null&&U(100);const _=g.getNextSibling(),w=g.__key;ze(g.getWritable()),c.push(w),g=_}}let p=h;for(let g=0;g<o;g++){const y=i[g];p!==null&&y.is(p)&&(h=p=p.getPreviousSibling());const _=y.getWritable();_.__parent===a&&d--,ze(_);const w=y.__key;if(p===null)s.__first=w,_.__prev=null;else{const f=p.getWritable();f.__next=w,_.__prev=f.__key}y.__key===a&&U(76),_.__parent=a,l.push(w),p=y}if(t+e===r)p!==null&&(p.getWritable().__next=null,s.__last=p.__key);else if(u!==null){const g=u.getWritable();if(p!==null){const y=p.getWritable();g.__prev=p.__key,y.__next=u.__key}else g.__prev=null}if(s.__size=d,c.length){const g=W();if(P(g)){const y=new Set(c),_=new Set(l),{anchor:w,focus:f}=g;Gs(w,y,_)&&Zi(w,w.getNode(),this,h,u),Gs(f,y,_)&&Zi(f,f.getNode(),this,h,u),d!==0||this.canBeEmpty()||re(this)||this.remove()}}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(t,e){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,e,i){return!1}}function F(n){return n instanceof $t}function Gs(n,t,e){let i=n.getNode();for(;i;){const o=i.__key;if(t.has(o)&&!e.has(o))return!0;i=i.getParent()}return!1}class go extends ho{constructor(t){super(t)}decorate(t,e){U(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function lt(n){return n instanceof go}class pi extends $t{static getType(){return"root"}static clone(){return new pi}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){U(51)}getTextContent(){const t=this.__cachedText;return!En()&&gt()._dirtyType!==Ue||t===null?super.getTextContent():t}remove(){U(52)}replace(t){U(53)}insertBefore(t){U(54)}insertAfter(t){U(55)}updateDOM(t,e){return!1}append(...t){for(let e=0;e<t.length;e++){const i=t[e];F(i)||lt(i)||U(56)}return super.append(...t)}static importJSON(t){const e=bt();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function St(n){return n instanceof pi}function Xr(){return new fo(new Map([["root",new pi]]))}function uc(n){const t=n.exportJSON(),e=n.constructor;if(t.type!==e.getType()&&U(130,e.name),F(n)){const i=t.children;Array.isArray(i)||U(59,e.name);const o=n.getChildren();for(let r=0;r<o.length;r++){const s=uc(o[r]);i.push(s)}}return t}class fo{constructor(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t){return Xs(this,t)}clone(t){const e=new fo(this._nodeMap,t===void 0?this._selection:t);return e._readOnly=!0,e}toJSON(){return Xs(this,()=>({root:uc(bt())}))}}class Jr extends $t{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class Tn extends $t{constructor(t){super(t),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(t){const e=this.getWritable();return e.__textFormat=t,e}hasTextFormat(t){const e=je[t];return!!(this.getTextFormat()&e)}static clone(t){return new Tn(t.__key)}createDOM(t){const e=document.createElement("p"),i=Zn(t.theme,"paragraph");return i!==void 0&&e.classList.add(...i),e}updateDOM(t,e,i){return!1}static importDOM(){return{p:t=>({conversion:wd,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&ce(e)){this.isEmpty()&&e.append(document.createElement("br"));const i=this.getFormatType();e.style.textAlign=i;const o=this.getDirection();o&&(e.dir=o);const r=this.getIndent();r>0&&(e.style.textIndent=20*r+"px")}return{element:e}}static importJSON(t){const e=it();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e.setTextFormat(t.textFormat),e}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(t,e){const i=it();i.setTextFormat(t.format);const o=this.getDirection();return i.setDirection(o),i.setFormat(this.getFormatType()),this.insertAfter(i,e),i}collapseAtStart(){const t=this.getChildren();if(t.length===0||H(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function wd(n){const t=it();if(n.style){t.setFormat(n.style.textAlign);const e=parseInt(n.style.textIndent,10)/20;e>0&&t.setIndent(e)}return{node:t}}function it(){return Lt(new Tn)}function vn(n){return n instanceof Tn}const et=0,de=1,Qs=3,xd=4;function dc(n,t,e,i){const o=n._keyToDOMMap;o.clear(),n._editorState=Xr(),n._pendingEditorState=i,n._compositionKey=null,n._dirtyType=Ue,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const r=n._observer;r!==null&&(r.disconnect(),n._observer=null),t!==null&&(t.textContent=""),e!==null&&(e.textContent="",o.set("root",e))}function hc(n){const t=n||{},e=bd(),i=t.theme||{},o=n===void 0?e:t.parentEditor||null,r=t.disableEvents||!1,s=Xr(),a=t.namespace||(o!==null?o._config.namespace:Bl()),l=t.editorState,c=[pi,Jt,ui,di,Tn,Jr,...t.nodes||[]],{onError:u,html:h}=t,d=t.editable===void 0||t.editable;let p;if(n===void 0&&e!==null)p=e._nodes;else{p=new Map;for(let y=0;y<c.length;y++){let _=c[y],w=null,f=null;if(typeof _!="function"){const x=_;_=x.replace,w=x.with,f=x.withKlass||null}const m=_.getType(),b=_.transform(),v=new Set;b!==null&&v.add(b),p.set(m,{exportDOM:h&&h.export?h.export.get(_):void 0,klass:_,replace:w,replaceWithKlass:f,transforms:v})}}const g=new Cd(s,o,p,{disableEvents:r,namespace:a,theme:i},u||console.error,function(y,_){const w=new Map,f=new Set,m=b=>{Object.keys(b).forEach(v=>{let x=w.get(v);x===void 0&&(x=[],w.set(v,x)),x.push(b[v])})};return y.forEach(b=>{const v=b.klass.importDOM;if(v==null||f.has(v))return;f.add(v);const x=v.call(b.klass);x!==null&&m(x)}),_&&m(_),w}(p,h?h.import:void 0),d);return l!==void 0&&(g._pendingEditorState=l,g._dirtyType=bn),g}class Cd{constructor(t,e,i,o,r,s,a){this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=i,this._decorators={},this._pendingDecorators=null,this._dirtyType=Ue,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Bl(),this._onError=r,this._htmlConversions=s,this._editable=a,this._headless=e!==null&&e._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){const e=this._listeners.update;return e.add(t),()=>{e.delete(t)}}registerEditableListener(t){const e=this._listeners.editable;return e.add(t),()=>{e.delete(t)}}registerDecoratorListener(t){const e=this._listeners.decorator;return e.add(t),()=>{e.delete(t)}}registerTextContentListener(t){const e=this._listeners.textcontent;return e.add(t),()=>{e.delete(t)}}registerRootListener(t){const e=this._listeners.root;return t(this._rootElement,null),e.add(t),()=>{t(null,this._rootElement),e.delete(t)}}registerCommand(t,e,i){i===void 0&&U(35);const o=this._commands;o.has(t)||o.set(t,[new Set,new Set,new Set,new Set,new Set]);const r=o.get(t);r===void 0&&U(36,String(t));const s=r[i];return s.add(e),()=>{s.delete(e),r.every(a=>a.size===0)&&o.delete(t)}}registerMutationListener(t,e){let i=this._nodes.get(t.getType());i===void 0&&U(37,t.name);let o=t,r=null;for(;r=i.replaceWithKlass;)o=r,i=this._nodes.get(r.getType()),i===void 0&&U(37,r.name);const s=this._listeners.mutation;return s.set(e,o),()=>{s.delete(e)}}registerNodeTransformToKlass(t,e){const i=t.getType(),o=this._nodes.get(i);return o===void 0&&U(37,t.name),o.transforms.add(e),o}registerNodeTransform(t,e){const i=this.registerNodeTransformToKlass(t,e),o=[i],r=i.replaceWithKlass;if(r!=null){const l=this.registerNodeTransformToKlass(r,e);o.push(l)}var s,a;return s=this,a=t.getType(),Wt(s,()=>{const l=_e();if(l.isEmpty())return;if(a==="root")return void bt().markDirty();const c=l._nodeMap;for(const[,u]of c)u.markDirty()},s._pendingEditorState===null?{tag:"history-merge"}:void 0),()=>{o.forEach(l=>l.transforms.delete(e))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,e){return V(this,t,e)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const e=this._rootElement;if(t!==e){const i=Zn(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=t,dc(this,e,t,o),e!==null&&(this._config.disableEvents||ld(e),i!=null&&e.classList.remove(...i)),t!==null){const r=function(a){const l=a.ownerDocument;return l&&l.defaultView||null}(t),s=t.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=r,this._dirtyType=bn,Ol(this),this._updateTags.add("history-merge"),$e(this),this._config.disableEvents||function(a,l){const c=a.ownerDocument,u=Vi.get(c);(u===void 0||u<1)&&c.addEventListener("selectionchange",ec),Vi.set(c,(u||0)+1),a.__lexicalEditor=l;const h=tc(a);for(let d=0;d<or.length;d++){const[p,g]=or[d],y=typeof g=="function"?_=>{Ds(_)||(Fs(_),(l.isEditable()||p==="click")&&g(_,l))}:_=>{if(Ds(_))return;Fs(_);const w=l.isEditable();switch(p){case"cut":return w&&V(l,Lr,_);case"copy":return V(l,io,_);case"paste":return w&&V(l,Tr,_);case"dragstart":return w&&V(l,kl,_);case"dragover":return w&&V(l,El,_);case"dragend":return w&&V(l,Cu,_);case"focus":return w&&V(l,Tu,_);case"blur":return w&&V(l,Su,_);case"drop":return w&&V(l,xl,_)}};a.addEventListener(p,y),h.push(()=>{a.removeEventListener(p,y)})}}(t,this),i!=null&&t.classList.add(...i)}else this._editorState=o,this._pendingEditorState=null,this._window=null;Xn("root",this,!1,t,e)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,e){t.isEmpty()&&U(38),Ml(this);const i=this._pendingEditorState,o=this._updateTags,r=e!==void 0?e.tag:null;i===null||i.isEmpty()||(r!=null&&o.add(r),$e(this)),this._pendingEditorState=t,this._dirtyType=bn,this._dirtyElements.set("root",!1),this._compositionKey=null,r!=null&&o.add(r),$e(this)}parseEditorState(t,e){return function(i,o,r){const s=Xr(),a=wt,l=Rt,c=xt,u=o._dirtyElements,h=o._dirtyLeaves,d=o._cloneNotNeeded,p=o._dirtyType;o._dirtyElements=new Map,o._dirtyLeaves=new Set,o._cloneNotNeeded=new Set,o._dirtyType=0,wt=s,Rt=!1,xt=o;try{const g=o._nodes;qr(i.root,g),r&&r(),s._readOnly=!0}catch(g){g instanceof Error&&o._onError(g)}finally{o._dirtyElements=u,o._dirtyLeaves=h,o._cloneNotNeeded=d,o._dirtyType=p,wt=a,Rt=l,xt=c}return s}(typeof t=="string"?JSON.parse(t):t,this,e)}update(t,e){Wt(this,t,e)}focus(t,e={}){const i=this._rootElement;i!==null&&(i.setAttribute("autocapitalize","off"),Wt(this,()=>{const o=W(),r=bt();o!==null?o.dirty=!0:r.getChildrenSize()!==0&&(e.defaultSelection==="rootStart"?r.selectStart():r.selectEnd())},{onUpdate:()=>{i.removeAttribute("autocapitalize"),t&&t()},tag:"focus"}),this._pendingEditorState===null&&i.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;t!==null&&t.blur();const e=se(this._window);e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,Xn("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}function kd(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pc=kd(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const Yi=new Map;function gc(n){const t={},e=n.split(";");for(const i of e)if(i!==""){const[o,r]=i.split(/:([^]+)/);o&&r&&(t[o.trim()]=r.trim())}return t}function Gr(n){let t=Yi.get(n);return t===void 0&&(t=gc(n),Yi.set(n,t)),t}function fc(n){const t=n.constructor.clone(n);return t.__parent=n.__parent,t.__next=n.__next,t.__prev=n.__prev,F(n)&&F(t)?(i=n,(e=t).__first=i.__first,e.__last=i.__last,e.__size=i.__size,e.__format=i.__format,e.__indent=i.__indent,e.__dir=i.__dir,e):H(n)&&H(t)?function(o,r){return o.__format=r.__format,o.__style=r.__style,o.__mode=r.__mode,o.__detail=r.__detail,o}(t,n):vn(n)&&vn(t)?function(o,r){return o.__textFormat=r.__textFormat,o}(t,n):t;var e,i}function mc(n,t){const e=n.getStartEndPoints();if(t.isSelected(n)&&!t.isSegmented()&&!t.isToken()&&e!==null){const[i,o]=e,r=n.isBackward(),s=i.getNode(),a=o.getNode(),l=t.is(s),c=t.is(a);if(l||c){const[u,h]=lr(n),d=s.is(a),p=t.is(r?a:s),g=t.is(r?s:a);let y,_=0;return d?(_=u>h?h:u,y=u>h?u:h):p?(_=r?h:u,y=void 0):g&&(_=0,y=r?u:h),t.__text=t.__text.slice(_,y),t}}return t}function ta(n){if(n.type==="text")return n.offset===n.getNode().getTextContentSize();const t=n.getNode();return F(t)||pc(177),n.offset===t.getChildrenSize()}function Ed(n){const t=n.getStyle(),e=gc(t);Yi.set(t,e)}function Qe(n,t){const e=Gr("getStyle"in n?n.getStyle():n.style),i=Object.entries(t).reduce((r,[s,a])=>(a instanceof Function?r[s]=a(e[s]):a===null?delete r[s]:r[s]=a,r),{...e}),o=function(r){let s="";for(const a in r)a&&(s+=`${a}: ${r[a]};`);return s}(i);n.setStyle(o),Yi.set(o,i)}function ea(n,t){const e=n.getNodes(),i=e.length,o=n.getStartEndPoints();if(o===null)return;const[r,s]=o,a=i-1;let l=e[0],c=e[a];if(n.isCollapsed()&&P(n))return void Qe(n,t);const u=l.getTextContent().length,h=s.offset;let d=r.offset;const p=r.isBefore(s);let g=p?d:h,y=p?h:d;const _=p?r.type:s.type,w=p?s.type:r.type,f=p?s.key:r.key;if(H(l)&&g===u){const m=l.getNextSibling();H(m)&&(d=0,g=0,l=m)}if(e.length===1){if(H(l)&&l.canHaveFormat()){if(g=_==="element"?0:d>h?h:d,y=w==="element"?u:d>h?d:h,g===y)return;if(g===0&&y===u)Qe(l,t),l.select(g,y);else{const m=l.splitText(g,y),b=g===0?m[0]:m[1];Qe(b,t),b.select(0,y-g)}}}else{if(H(l)&&g<l.getTextContentSize()&&l.canHaveFormat()&&(g!==0&&(l=l.splitText(g)[1],g=0,p?r.set(l.getKey(),g,"text"):s.set(l.getKey(),g,"text")),Qe(l,t)),H(c)&&c.canHaveFormat()){const m=c.getTextContent().length;c.__key!==f&&y!==0&&(y=m),y!==m&&([c]=c.splitText(y)),y===0&&w!=="element"||Qe(c,t)}for(let m=1;m<a;m++){const b=e[m],v=b.getKey();H(b)&&b.canHaveFormat()&&v!==l.getKey()&&v!==c.getKey()&&!b.isToken()&&Qe(b,t)}}}function ki(n,t){if(n===null)return;const e=n.getStartEndPoints(),i=e?e[0]:null;if(i!==null&&i.key==="root"){const s=t(),a=bt(),l=a.getFirstChild();return void(l?l.replace(s,!0):a.append(s))}const o=n.getNodes(),r=i!==null&&function(s,a){let l=s;for(;l!==null&&l.getParent()!==null&&!a(l);)l=l.getParentOrThrow();return a(l)?l:null}(i.getNode(),oa);r&&o.indexOf(r)===-1&&o.push(r);for(let s=0;s<o.length;s++){const a=o[s];if(!oa(a))continue;F(a)||pc(178);const l=t();l.setFormat(a.getFormatType()),l.setIndent(a.getIndent()),a.replace(l,!0)}}function na(n,t){const e=ei(n.focus,t);return lt(e)&&!e.isIsolated()||F(e)&&!e.isInline()&&!e.canBeEmpty()}function Td(n,t,e,i){n.modify(t?"extend":"move",e,i)}function Sd(n){const t=n.anchor.getNode();return(St(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function ia(n,t,e){const i=Sd(n);Td(n,t,e?!i:i,"character")}function Ld(n,t,e){const i=Gr(n.getStyle());return i!==null&&i[t]||e}function Ro(n,t,e=""){let i=null;const o=n.getNodes(),r=n.anchor,s=n.focus,a=n.isBackward(),l=a?s.offset:r.offset,c=a?s.getNode():r.getNode();if(P(n)&&n.isCollapsed()&&n.style!==""){const u=Gr(n.style);if(u!==null&&t in u)return u[t]}for(let u=0;u<o.length;u++){const h=o[u];if((u===0||l!==0||!h.is(c))&&H(h)){const d=Ld(h,t,e);if(i===null)i=d;else if(i!==d){i="";break}}}return i===null?e:i}function oa(n){if(lt(n)||!F(n)||re(n))return!1;const t=n.getFirstChild(),e=t===null||Le(t)||H(t)||t.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&e}function Ad(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nd=Ad(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const yc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Md=yc&&"documentMode"in document?document.documentMode:null;!(!yc||!("InputEvent"in window)||Md)&&"getTargetRanges"in new window.InputEvent("input");function _c(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[i]of e.matchAll(/\S+/g))t.push(i);return t}function bc(...n){return()=>{for(let t=n.length-1;t>=0;t--)n[t]();n.length=0}}function jt(n,...t){const e=_c(...t);e.length>0&&n.classList.add(...e)}function Qr(n,...t){const e=_c(...t);e.length>0&&n.classList.remove(...e)}function dr(n,t){let e=n;for(;e!=null;){if(e instanceof t)return e;e=e.getParent()}return null}function vc(n){const t=Gt(n,e=>F(e)&&!e.isInline());return F(t)||Nd(4,n.__key),t}const Gt=(n,t)=>{let e=n;for(;e!==bt()&&e!=null;){if(t(e))return e;e=e.getParent()}return null};function Be(n,t){return n!==null&&Object.getPrototypeOf(n).constructor.name===t.name}function Od(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}Od(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const ra=n=>{try{return!!n&&window.Prism.languages.hasOwnProperty(n)}catch{return!1}};function wc(n,t){for(const e of n.childNodes){if(ce(e)&&e.tagName===t)return!0;wc(e,t)}return!1}const Vn="data-language",Ei="data-highlight-language";let ts=class xc extends $t{static getType(){return"code"}static clone(t){return new xc(t.__language,t.__key)}constructor(t,e){super(e),this.__language=t,this.__isSyntaxHighlightSupported=ra(t)}createDOM(t){const e=document.createElement("code");jt(e,t.theme.code),e.setAttribute("spellcheck","false");const i=this.getLanguage();return i&&(e.setAttribute(Vn,i),this.getIsSyntaxHighlightSupported()&&e.setAttribute(Ei,i)),e}updateDOM(t,e,i){const o=this.__language,r=t.__language;return o?o!==r&&(e.setAttribute(Vn,o),this.__isSyntaxHighlightSupported&&e.setAttribute(Ei,o)):r&&(e.removeAttribute(Vn),t.__isSyntaxHighlightSupported&&e.removeAttribute(Ei)),!1}exportDOM(t){const e=document.createElement("pre");jt(e,t._config.theme.code),e.setAttribute("spellcheck","false");const i=this.getLanguage();return i&&(e.setAttribute(Vn,i),this.getIsSyntaxHighlightSupported()&&e.setAttribute(Ei,i)),{element:e}}static importDOM(){return{code:t=>t.textContent!=null&&(/\r?\n/.test(t.textContent)||wc(t,"BR"))?{conversion:sa,priority:1}:null,div:()=>({conversion:Dd,priority:1}),pre:()=>({conversion:sa,priority:0}),table:t=>Ho(t)?{conversion:Id,priority:3}:null,td:t=>{const e=t,i=e.closest("table");return e.classList.contains("js-file-line")||i&&Ho(i)?{conversion:aa,priority:3}:null},tr:t=>{const e=t.closest("table");return e&&Ho(e)?{conversion:aa,priority:3}:null}}}static importJSON(t){const e=Ke(t.language);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(t,e=!0){const i=this.getChildren(),o=i.length;if(o>=2&&i[o-1].getTextContent()===`
`&&i[o-2].getTextContent()===`
`&&t.isCollapsed()&&t.anchor.key===this.__key&&t.anchor.offset===o){i[o-1].remove(),i[o-2].remove();const l=it();return this.insertAfter(l,e),l}const{anchor:r,focus:s}=t,a=(r.isBefore(s)?r:s).getNode();if(H(a)){let l=Pd(a);const c=[];for(;;)if(Zr(l))c.push(kn()),l=l.getNextSibling();else{if(!kc(l))break;{let _=0;const w=l.getTextContent(),f=l.getTextContentSize();for(;_<f&&w[_]===" ";)_++;if(_!==0&&c.push(Cc(" ".repeat(_))),_!==f)break;l=l.getNextSibling()}}const u=a.splitText(r.offset)[0],h=r.offset===0?0:1,d=u.getIndexWithinParent()+h,p=a.getParentOrThrow(),g=[me(),...c];p.splice(d,0,g);const y=c[c.length-1];y?y.select():r.offset===0?u.selectPrevious():u.getNextSibling().selectNext(0,0)}if(Fd(a)){const{offset:l}=t.anchor;a.splice(l,0,[me()]),a.select(l+1,l+1)}return null}canIndent(){return!1}collapseAtStart(){const t=it();return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}setLanguage(t){const e=this.getWritable();e.__language=t,e.__isSyntaxHighlightSupported=ra(t)}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};function Ke(n){return Lt(new ts(n))}function Fd(n){return n instanceof ts}function sa(n){return{node:Ke(n.getAttribute(Vn))}}function Dd(n){const t=n,e=la(t);return e||function(i){let o=i.parentElement;for(;o!==null;){if(la(o))return!0;o=o.parentElement}return!1}(t)?{node:e?Ke():null}:{node:null}}function Id(){return{node:Ke()}}function aa(){return{node:null}}function la(n){return n.style.fontFamily.match("monospace")!==null}function Ho(n){return n.classList.contains("js-file-line-container")}class mo extends Jt{constructor(t,e,i){super(t,i),this.__highlightType=e}static getType(){return"code-highlight"}static clone(t){return new mo(t.__text,t.__highlightType||void 0,t.__key)}getHighlightType(){return this.getLatest().__highlightType}canHaveFormat(){return!1}createDOM(t){const e=super.createDOM(t),i=Bo(t.theme,this.__highlightType);return jt(e,i),e}updateDOM(t,e,i){const o=super.updateDOM(t,e,i),r=Bo(i.theme,t.__highlightType),s=Bo(i.theme,this.__highlightType);return r!==s&&(r&&Qr(e,r),s&&jt(e,s)),o}static importJSON(t){const e=Cc(t.text,t.highlightType);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(t){return this}isParentRequired(){return!0}createParentElementNode(){return Ke()}}function Bo(n,t){return t&&n&&n.codeHighlight&&n.codeHighlight[t]}function Cc(n,t){return Lt(new mo(n,t))}function kc(n){return n instanceof mo}function Pd(n){let t=n,e=n;for(;kc(e)||Zr(e);)t=e,e=e.getPreviousSibling();return t}const Wo=0,hr=1,pr=2,Yt=0,Rd=1,ca=2,Hd=3,Bd=4;function Wd(n,t,e,i,o){if(n===null||e.size===0&&i.size===0&&!o)return Yt;const r=t._selection,s=n._selection;if(o)return Rd;if(!(P(r)&&P(s)&&s.isCollapsed()&&r.isCollapsed()))return Yt;const a=function(w,f,m){const b=w._nodeMap,v=[];for(const x of f){const E=b.get(x);E!==void 0&&v.push(E)}for(const[x,E]of m){if(!E)continue;const k=b.get(x);k===void 0||St(k)||v.push(k)}return v}(t,e,i);if(a.length===0)return Yt;if(a.length>1){const w=t._nodeMap,f=w.get(r.anchor.key),m=w.get(s.anchor.key);return f&&m&&!n._nodeMap.has(f.__key)&&H(f)&&f.__text.length===1&&r.anchor.offset===1?ca:Yt}const l=a[0],c=n._nodeMap.get(l.__key);if(!H(c)||!H(l)||c.__mode!==l.__mode)return Yt;const u=c.__text,h=l.__text;if(u===h)return Yt;const d=r.anchor,p=s.anchor;if(d.key!==p.key||d.type!=="text")return Yt;const g=d.offset,y=p.offset,_=h.length-u.length;return _===1&&y===g-1?ca:_===-1&&y===g+1?Hd:_===-1&&y===g?Bd:Yt}function zd(n,t){let e=Date.now(),i=Yt;return(o,r,s,a,l,c)=>{const u=Date.now();if(c.has("historic"))return i=Yt,e=u,pr;const h=Wd(o,r,a,l,n.isComposing()),d=(()=>{const p=s===null||s.editor===n,g=c.has("history-push");if(!g&&p&&c.has("history-merge"))return Wo;if(o===null)return hr;const y=r._selection;return a.size>0||l.size>0?g===!1&&h!==Yt&&h===i&&u<e+t&&p||a.size===1&&function(_,w,f){const m=w._nodeMap.get(_),b=f._nodeMap.get(_),v=w._selection,x=f._selection;let E=!1;return P(v)&&P(x)&&(E=v.anchor.type==="element"&&v.focus.type==="element"&&x.anchor.type==="text"&&x.focus.type==="text"),!(E||!H(m)||!H(b))&&m.__type===b.__type&&m.__text===b.__text&&m.__mode===b.__mode&&m.__detail===b.__detail&&m.__style===b.__style&&m.__format===b.__format&&m.__parent===b.__parent}(Array.from(a)[0],o,r)?Wo:hr:y!==null?Wo:pr})();return e=u,i=h,d}}function ua(n){n.undoStack=[],n.redoStack=[],n.current=null}function $d(n,t,e){const i=zd(n,e);return bc(n.registerCommand(eo,()=>(function(o,r){const s=r.redoStack,a=r.undoStack;if(a.length!==0){const l=r.current,c=a.pop();l!==null&&(s.push(l),o.dispatchCommand(zn,!0)),a.length===0&&o.dispatchCommand($n,!1),r.current=c||null,c&&c.editor.setEditorState(c.editorState,{tag:"historic"})}}(n,t),!0),et),n.registerCommand(no,()=>(function(o,r){const s=r.redoStack,a=r.undoStack;if(s.length!==0){const l=r.current;l!==null&&(a.push(l),o.dispatchCommand($n,!0));const c=s.pop();s.length===0&&o.dispatchCommand(zn,!1),r.current=c||null,c&&c.editor.setEditorState(c.editorState,{tag:"historic"})}}(n,t),!0),et),n.registerCommand(ku,()=>(ua(t),!1),et),n.registerCommand(Eu,()=>(ua(t),n.dispatchCommand(zn,!1),n.dispatchCommand($n,!1),!0),et),n.registerUpdateListener(({editorState:o,prevEditorState:r,dirtyLeaves:s,dirtyElements:a,tags:l})=>{const c=t.current,u=t.redoStack,h=t.undoStack,d=c===null?null:c.editorState;if(c!==null&&o===d)return;const p=i(r,o,c,s,a,l);if(p===hr)u.length!==0&&(t.redoStack=[],n.dispatchCommand(zn,!1)),c!==null&&(h.push({...c}),n.dispatchCommand($n,!0));else if(p===pr)return;t.current={editor:n,editorState:o}}))}function Ud(){return{current:null,redoStack:[],undoStack:[]}}function Ec(n,t){const e=t.body?t.body.childNodes:[];let i=[];const o=[];for(let r=0;r<e.length;r++){const s=e[r];if(!Lc.has(s.nodeName)){const a=Ac(s,n,o,!1);a!==null&&(i=i.concat(a))}}return function(r){for(const s of r)s.getNextSibling()instanceof Jr&&s.insertAfter(me());for(const s of r){const a=s.getChildren();for(const l of a)s.insertBefore(l);s.remove()}}(o),i}function Tc(n,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const e=document.createElement("div"),i=bt().getChildren();for(let o=0;o<i.length;o++)Sc(n,i[o],e,t);return e.innerHTML}function Sc(n,t,e,i=null){let o=i===null||t.isSelected(i);const r=F(t)&&t.excludeFromCopy("html");let s=t;if(i!==null){let p=fc(t);p=H(p)&&i!==null?mc(i,p):p,s=p}const a=F(s)?s.getChildren():[],l=n._nodes.get(s.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(n,s):s.exportDOM(n);const{element:u,after:h}=c;if(!u)return!1;const d=document.createDocumentFragment();for(let p=0;p<a.length;p++){const g=a[p],y=Sc(n,g,d,i);!o&&F(t)&&y&&t.extractWithChild(g,i,"html")&&(o=!0)}if(o&&!r){if(ce(u)&&u.append(d),e.append(u),h){const p=h.call(s,u);p&&u.replaceWith(p)}}else e.append(d);return o}const Lc=new Set(["STYLE","SCRIPT"]);function Ac(n,t,e,i,o=new Map,r){let s=[];if(Lc.has(n.nodeName))return s;let a=null;const l=function(g,y){const{nodeName:_}=g,w=y._htmlConversions.get(_.toLowerCase());let f=null;if(w!==void 0)for(const m of w){const b=m(g);b!==null&&(f===null||(f.priority||0)<(b.priority||0))&&(f=b)}return f!==null?f.conversion:null}(n,t),c=l?l(n):null;let u=null;if(c!==null){u=c.after;const g=c.node;if(a=Array.isArray(g)?g[g.length-1]:g,a!==null){for(const[,y]of o)if(a=y(a,r),!a)break;a&&s.push(...Array.isArray(g)?g:[a])}c.forChild!=null&&o.set(n.nodeName,c.forChild)}const h=n.childNodes;let d=[];const p=(a==null||!re(a))&&(a!=null&&cr(a)||i);for(let g=0;g<h.length;g++)d.push(...Ac(h[g],t,e,p,new Map(o),a));return u!=null&&(d=u(d)),od(n)&&(d=jd(n,d,p?()=>{const g=new Jr;return e.push(g),g}:it)),a==null?s=s.concat(d):F(a)&&a.append(...d),s}function jd(n,t,e){const i=n.style.textAlign,o=[];let r=[];for(let s=0;s<t.length;s++){const a=t[s];if(cr(a))i&&!a.getFormat()&&a.setFormat(i),o.push(a);else if(r.push(a),s===t.length-1||s<t.length-1&&cr(t[s+1])){const l=e();l.setFormat(i),l.append(...r),o.push(l),r=[]}}return o}const Vd=new Set(["http:","https:","mailto:","sms:","tel:"]);class Sn extends $t{static getType(){return"link"}static clone(t){return new Sn(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t,e={},i){super(i);const{target:o=null,rel:r=null,title:s=null}=e;this.__url=t,this.__target=o,this.__rel=r,this.__title=s}createDOM(t){const e=document.createElement("a");return e.href=this.sanitizeUrl(this.__url),this.__target!==null&&(e.target=this.__target),this.__rel!==null&&(e.rel=this.__rel),this.__title!==null&&(e.title=this.__title),jt(e,t.theme.link),e}updateDOM(t,e,i){if(e instanceof HTMLAnchorElement){const o=this.__url,r=this.__target,s=this.__rel,a=this.__title;o!==t.__url&&(e.href=o),r!==t.__target&&(r?e.target=r:e.removeAttribute("target")),s!==t.__rel&&(s?e.rel=s:e.removeAttribute("rel")),a!==t.__title&&(a?e.title=a:e.removeAttribute("title"))}return!1}static importDOM(){return{a:t=>({conversion:Kd,priority:1})}}static importJSON(t){const e=wn(t.url,{rel:t.rel,target:t.target,title:t.title});return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}sanitizeUrl(t){try{const e=new URL(t);if(!Vd.has(e.protocol))return"about:blank"}catch{return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(t){this.getWritable().__url=t}getTarget(){return this.getLatest().__target}setTarget(t){this.getWritable().__target=t}getRel(){return this.getLatest().__rel}setRel(t){this.getWritable().__rel=t}getTitle(){return this.getLatest().__title}setTitle(t){this.getWritable().__title=t}insertNewAfter(t,e=!0){const i=wn(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(i,e),i}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,e,i){if(!P(e))return!1;const o=e.anchor.getNode(),r=e.focus.getNode();return this.isParentOf(o)&&this.isParentOf(r)&&e.getTextContent().length>0}}function Kd(n){let t=null;if(nd(n)){const e=n.textContent;(e!==null&&e!==""||n.children.length>0)&&(t=wn(n.getAttribute("href")||"",{rel:n.getAttribute("rel"),target:n.getAttribute("target"),title:n.getAttribute("title")}))}return{node:t}}function wn(n,t){return Lt(new Sn(n,t))}function Nt(n){return n instanceof Sn}class yo extends Sn{constructor(t,e={},i){super(t,e,i),this.__isUnlinked=e.isUnlinked!==void 0&&e.isUnlinked!==null&&e.isUnlinked}static getType(){return"autolink"}static clone(t){return new yo(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(t){const e=this.getWritable();return e.__isUnlinked=t,e}createDOM(t){return this.__isUnlinked?document.createElement("span"):super.createDOM(t)}updateDOM(t,e,i){return super.updateDOM(t,e,i)||t.__isUnlinked!==this.__isUnlinked}static importJSON(t){const e=da(t.url,{isUnlinked:t.isUnlinked,rel:t.rel,target:t.target,title:t.title});return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked,type:"autolink",version:1}}insertNewAfter(t,e=!0){const i=this.getParentOrThrow().insertNewAfter(t,e);if(F(i)){const o=da(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return i.append(o),o}return null}}function da(n,t){return Lt(new yo(n,t))}function Zd(n){return n instanceof yo}const ha=ye();function Yd(n,t={}){const{target:e,title:i}=t,o=t.rel===void 0?"noreferrer":t.rel,r=W();if(!P(r))return;const s=r.extract();if(n===null)s.forEach(a=>{const l=a.getParent();if(!Zd(l)&&Nt(l)){const c=l.getChildren();for(let u=0;u<c.length;u++)l.insertBefore(c[u]);l.remove()}});else{if(s.length===1){const c=function(u,h){let d=u;for(;d!==null&&d.getParent()!==null&&!h(d);)d=d.getParentOrThrow();return h(d)?d:null}(s[0],Nt);if(c!==null)return c.setURL(n),e!==void 0&&c.setTarget(e),o!==null&&c.setRel(o),void(i!==void 0&&c.setTitle(i))}let a=null,l=null;s.forEach(c=>{const u=c.getParent();if(u!==l&&u!==null&&(!F(c)||c.isInline())){if(Nt(u))return l=u,u.setURL(n),e!==void 0&&u.setTarget(e),o!==null&&l.setRel(o),void(i!==void 0&&l.setTitle(i));if(u.is(a)||(a=u,l=wn(n,{rel:o,target:e,title:i}),Nt(u)?c.getPreviousSibling()===null?u.insertBefore(l):u.insertAfter(l):c.insertBefore(l)),Nt(c)){if(c.is(l))return;if(l!==null){const h=c.getChildren();for(let d=0;d<h.length;d++)l.append(h[d])}c.remove()}else l!==null&&l.append(c)}})}}const pa=Yd;function qd(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ke=qd(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function Xd(n){let t=1,e=n.getParent();for(;e!=null;){if(ft(e)){const i=e.getParent();if(ot(i)){t++,e=i.getParent();continue}ke(40)}return t}return t}function ga(n){let t=n.getParent();ot(t)||ke(40);let e=t;for(;e!==null;)e=e.getParent(),ot(e)&&(t=e);return t}function Nc(n){let t=[];const e=n.getChildren().filter(ft);for(let i=0;i<e.length;i++){const o=e[i],r=o.getFirstChild();ot(r)?t=t.concat(Nc(r)):t.push(o)}return t}function ne(n){return ft(n)&&ot(n.getFirstChild())}function fa(n){return Qt().append(n)}function Mc(n,t){return ft(n)&&(t.length===0||t.length===1&&n.is(t[0])&&n.getChildrenSize()===0)}function zo(n,t){n.update(()=>{const e=W();if(e!==null){const i=e.getNodes();if(P(e)){const r=e.getStartEndPoints();r===null&&ke(143);const[s]=r,a=s.getNode(),l=a.getParent();if(Mc(a,i)){const c=zt(t);if(re(l)){a.replace(c);const u=Qt();F(a)&&(u.setFormat(a.getFormatType()),u.setIndent(a.getIndent())),c.append(u)}else if(ft(a)){const u=a.getParentOrThrow();Ze(c,u.getChildren()),u.replace(c)}return}}const o=new Set;for(let r=0;r<i.length;r++){const s=i[r];if(!F(s)||!s.isEmpty()||ft(s)||o.has(s.getKey())){if(Dl(s)){let a=s.getParent();for(;a!=null;){const l=a.getKey();if(ot(a)){if(!o.has(l)){const c=zt(t);Ze(c,a.getChildren()),a.replace(c),o.add(l)}break}{const c=a.getParent();if(re(c)&&!o.has(l)){o.add(l),ma(a,t);break}a=c}}}}else ma(s,t)}}})}function Ze(n,t){n.splice(n.getChildrenSize(),0,t)}function ma(n,t){if(ot(n))return n;const e=n.getPreviousSibling(),i=n.getNextSibling(),o=Qt();if(o.setFormat(n.getFormatType()),o.setIndent(n.getIndent()),Ze(o,n.getChildren()),ot(e)&&t===e.getListType())return e.append(o),n.remove(),ot(i)&&t===i.getListType()&&(Ze(e,i.getChildren()),i.remove()),e;if(ot(i)&&t===i.getListType())return i.getFirstChildOrThrow().insertBefore(o),n.remove(),i;{const r=zt(t);return r.append(o),n.replace(r),r}}function es(n,t){const e=n.getLastChild(),i=t.getFirstChild();e&&i&&ne(e)&&ne(i)&&(es(e.getFirstChild(),i.getFirstChild()),i.remove());const o=t.getChildren();o.length>0&&n.append(...o),t.remove()}function Jd(n){n.update(()=>{const t=W();if(P(t)){const e=new Set,i=t.getNodes(),o=t.anchor.getNode();if(Mc(o,i))e.add(ga(o));else for(let r=0;r<i.length;r++){const s=i[r];if(Dl(s)){const a=dr(s,Ye);a!=null&&e.add(ga(a))}}for(const r of e){let s=r;const a=Nc(r);for(const l of a){const c=it();Ze(c,l.getChildren()),s.insertAfter(c),s=c,l.__key===t.anchor.key&&t.anchor.set(c.getKey(),0,"element"),l.__key===t.focus.key&&t.focus.set(c.getKey(),0,"element"),l.remove()}r.remove()}}})}function Gd(n){const t=new Set;if(ne(n)||t.has(n.getKey()))return;const e=n.getParent(),i=n.getNextSibling(),o=n.getPreviousSibling();if(ne(i)&&ne(o)){const r=o.getFirstChild();if(ot(r)){r.append(n);const s=i.getFirstChild();ot(s)&&(Ze(r,s.getChildren()),i.remove(),t.add(i.getKey()))}}else if(ne(i)){const r=i.getFirstChild();if(ot(r)){const s=r.getFirstChild();s!==null&&s.insertBefore(n)}}else if(ne(o)){const r=o.getFirstChild();ot(r)&&r.append(n)}else if(ot(e)){const r=Qt(),s=zt(e.getListType());r.append(s),s.append(n),o?o.insertAfter(r):i?i.insertBefore(r):e.append(r)}}function Qd(n){if(ne(n))return;const t=n.getParent(),e=t?t.getParent():void 0;if(ot(e?e.getParent():void 0)&&ft(e)&&ot(t)){const i=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(n.is(i))e.insertBefore(n),t.isEmpty()&&e.remove();else if(n.is(o))e.insertAfter(n),t.isEmpty()&&e.remove();else{const r=t.getListType(),s=Qt(),a=zt(r);s.append(a),n.getPreviousSiblings().forEach(u=>a.append(u));const l=Qt(),c=zt(r);l.append(c),Ze(c,n.getNextSiblings()),e.insertBefore(s),e.insertAfter(l),e.replace(n)}}}function qi(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[i]of e.matchAll(/\S+/g))t.push(i);return t}class Ye extends $t{static getType(){return"listitem"}static clone(t){return new Ye(t.__value,t.__checked,t.__key)}constructor(t,e,i){super(i),this.__value=t===void 0?1:t,this.__checked=e}createDOM(t){const e=document.createElement("li"),i=this.getParent();return ot(i)&&i.getListType()==="check"&&_a(e,this,null),e.value=this.__value,ya(e,t.theme,this),e}updateDOM(t,e,i){const o=this.getParent();return ot(o)&&o.getListType()==="check"&&_a(e,this,t),e.value=this.__value,ya(e,i.theme,this),!1}static transform(){return t=>{if(ft(t)||ke(144),t.__checked==null)return;const e=t.getParent();ot(e)&&e.getListType()!=="check"&&t.getChecked()!=null&&t.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:th,priority:0})}}static importJSON(t){const e=Qt();return e.setChecked(t.checked),e.setValue(t.value),e.setFormat(t.format),e.setDirection(t.direction),e}exportDOM(t){const e=this.createDOM(t._config);return e.style.textAlign=this.getFormatType(),{element:e}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...t){for(let e=0;e<t.length;e++){const i=t[e];if(F(i)&&this.canMergeWith(i)){const o=i.getChildren();this.append(...o),i.remove()}else super.append(i)}return this}replace(t,e){if(ft(t))return super.replace(t);this.setIndent(0);const i=this.getParentOrThrow();if(!ot(i))return t;if(i.__first===this.getKey())i.insertBefore(t);else if(i.__last===this.getKey())i.insertAfter(t);else{const o=zt(i.getListType());let r=this.getNextSibling();for(;r;){const s=r;r=r.getNextSibling(),o.append(s)}i.insertAfter(t),t.insertAfter(o)}return e&&(F(t)||ke(139),this.getChildren().forEach(o=>{t.append(o)})),this.remove(),i.getChildrenSize()===0&&i.remove(),t}insertAfter(t,e=!0){const i=this.getParentOrThrow();if(ot(i)||ke(39),ft(t))return super.insertAfter(t,e);const o=this.getNextSiblings();if(i.insertAfter(t,e),o.length!==0){const r=zt(i.getListType());o.forEach(s=>r.append(s)),t.insertAfter(r,e)}return t}remove(t){const e=this.getPreviousSibling(),i=this.getNextSibling();super.remove(t),e&&i&&ne(e)&&ne(i)&&(es(e.getFirstChild(),i.getFirstChild()),i.remove())}insertNewAfter(t,e=!0){const i=Qt(this.__checked==null&&void 0);return this.insertAfter(i,e),i}collapseAtStart(t){const e=it();this.getChildren().forEach(s=>e.append(s));const i=this.getParentOrThrow(),o=i.getParentOrThrow(),r=ft(o);if(i.getChildrenSize()===1)if(r)i.remove(),o.select();else{i.insertBefore(e),i.remove();const s=t.anchor,a=t.focus,l=e.getKey();s.type==="element"&&s.getNode().is(this)&&s.set(l,s.offset,"element"),a.type==="element"&&a.getNode().is(this)&&a.set(l,a.offset,"element")}else i.insertBefore(e),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){this.getWritable().__value=t}getChecked(){return this.getLatest().__checked}setChecked(t){this.getWritable().__checked=t}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){const t=this.getParent();if(t===null)return this.getLatest().__indent;let e=t.getParentOrThrow(),i=0;for(;ft(e);)e=e.getParentOrThrow().getParentOrThrow(),i++;return i}setIndent(t){typeof t=="number"&&t>-1||ke(117);let e=this.getIndent();for(;e!==t;)e<t?(Gd(this),e++):(Qd(this),e--);return this}canInsertAfter(t){return ft(t)}canReplaceWith(t){return ft(t)}canMergeWith(t){return vn(t)||ft(t)}extractWithChild(t,e){if(!P(e))return!1;const i=e.anchor.getNode(),o=e.focus.getNode();return this.isParentOf(i)&&this.isParentOf(o)&&this.getTextContent().length===e.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return zt("bullet")}}function ya(n,t,e){const i=[],o=[],r=t.list,s=r?r.listitem:void 0;let a;if(r&&r.nested&&(a=r.nested.listitem),s!==void 0&&i.push(...qi(s)),r){const l=e.getParent(),c=ot(l)&&l.getListType()==="check",u=e.getChecked();c&&!u||o.push(r.listitemUnchecked),c&&u||o.push(r.listitemChecked),c&&i.push(u?r.listitemChecked:r.listitemUnchecked)}if(a!==void 0){const l=qi(a);e.getChildren().some(c=>ot(c))?i.push(...l):o.push(...l)}o.length>0&&Qr(n,...o),i.length>0&&jt(n,...i)}function _a(n,t,e,i){ot(t.getFirstChild())?(n.removeAttribute("role"),n.removeAttribute("tabIndex"),n.removeAttribute("aria-checked")):(n.setAttribute("role","checkbox"),n.setAttribute("tabIndex","-1"),e&&t.__checked===e.__checked||n.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function th(n){if(n.classList.contains("task-list-item")){for(const e of n.children)if(e.tagName==="INPUT")return eh(e)}const t=n.getAttribute("aria-checked");return{node:Qt(t==="true"||t!=="false"&&void 0)}}function eh(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:Qt(n.hasAttribute("checked"))}}function Qt(n){return Lt(new Ye(void 0,n))}function ft(n){return n instanceof Ye}class qe extends $t{static getType(){return"list"}static clone(t){const e=t.__listType||wa[t.__tag];return new qe(e,t.__start,t.__key)}constructor(t,e,i){super(i);const o=wa[t]||t;this.__listType=o,this.__tag=o==="number"?"ol":"ul",this.__start=e}getTag(){return this.__tag}setListType(t){const e=this.getWritable();e.__listType=t,e.__tag=t==="number"?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(t,e){const i=this.__tag,o=document.createElement(i);return this.__start!==1&&o.setAttribute("start",String(this.__start)),o.__lexicalListType=this.__listType,ba(o,t.theme,this),o}updateDOM(t,e,i){return t.__tag!==this.__tag||(ba(e,i.theme,this),!1)}static transform(){return t=>{ot(t)||ke(163),function(e){const i=e.getNextSibling();ot(i)&&e.getListType()===i.getListType()&&es(e,i)}(t),function(e){const i=e.getListType()!=="check";let o=e.getStart();for(const r of e.getChildren())ft(r)&&(r.getValue()!==o&&r.setValue(o),i&&r.getChecked()!=null&&r.setChecked(void 0),ot(r.getFirstChild())||o++)}(t)}}static importDOM(){return{ol:()=>({conversion:va,priority:0}),ul:()=>({conversion:va,priority:0})}}static importJSON(t){const e=zt(t.listType,t.start);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportDOM(t){const{element:e}=super.exportDOM(t);return e&&ce(e)&&(this.__start!==1&&e.setAttribute("start",String(this.__start)),this.__listType==="check"&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...t){for(let e=0;e<t.length;e++){const i=t[e];if(ft(i))super.append(i);else{const o=Qt();if(ot(i))o.append(i);else if(F(i)){const r=yt(i.getTextContent());o.append(r)}else o.append(i);super.append(o)}}return this}extractWithChild(t){return ft(t)}}function ba(n,t,e){const i=[],o=[],r=t.list;if(r!==void 0){const s=r[`${e.__tag}Depth`]||[],a=Xd(e)-1,l=a%s.length,c=s[l],u=r[e.__tag];let h;const d=r.nested,p=r.checklist;if(d!==void 0&&d.list&&(h=d.list),u!==void 0&&i.push(u),p!==void 0&&e.__listType==="check"&&i.push(p),c!==void 0){i.push(...qi(c));for(let g=0;g<s.length;g++)g!==l&&o.push(e.__tag+g)}if(h!==void 0){const g=qi(h);a>1?i.push(...g):o.push(...g)}}o.length>0&&Qr(n,...o),i.length>0&&jt(n,...i)}function nh(n){const t=[];for(let e=0;e<n.length;e++){const i=n[e];if(ft(i)){t.push(i);const o=i.getChildren();o.length>1&&o.forEach(r=>{ot(r)&&t.push(fa(r))})}else t.push(fa(i))}return t}function va(n){const t=n.nodeName.toLowerCase();let e=null;return t==="ol"?e=zt("number",n.start):t==="ul"&&(e=function(i){if(i.getAttribute("__lexicallisttype")==="check"||i.classList.contains("contains-task-list"))return!0;for(const o of i.childNodes)if(ce(o)&&o.hasAttribute("aria-checked"))return!0;return!1}(n)?zt("check"):zt("bullet")),{after:nh,node:e}}const wa={ol:"number",ul:"bullet"};function zt(n,t=1){return Lt(new qe(n,t))}function ot(n){return n instanceof qe}const xa=ye(),Ca=ye(),ka=ye(),Ea=ye();function ih(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xi=ih(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const oh=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Oc=n=>oh?(n||window).getSelection():null;function rh(n){const t=W();return t==null&&Xi(166),P(t)&&t.isCollapsed()||t.getNodes().length===0?"":Tc(n,t)}function sh(n){const t=W();return t==null&&Xi(166),P(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(ah(n,t))}function Ta(n,t,e){const i=n.getData("application/x-lexical-editor");if(i)try{const s=JSON.parse(i);if(s.namespace===e._config.namespace&&Array.isArray(s.nodes))return Sa(e,lh(s.nodes),t)}catch{}const o=n.getData("text/html");if(o)try{const s=new DOMParser().parseFromString(o,"text/html");return Sa(e,Ec(e,s),t)}catch{}const r=n.getData("text/plain")||n.getData("text/uri-list");if(r!=null)if(P(t)){const s=r.split(/(\r?\n|\t)/);s[s.length-1]===""&&s.pop();for(let a=0;a<s.length;a++){const l=W();if(P(l)){const c=s[a];c===`
`||c===`\r
`?l.insertParagraph():c==="	"?l.insertNodes([kn()]):l.insertText(c)}}}else t.insertRawText(r)}function Sa(n,t,e){n.dispatchCommand(mu,{nodes:t,selection:e})||e.insertNodes(t)}function Fc(n,t,e,i=[]){let o=t===null||e.isSelected(t);const r=F(e)&&e.excludeFromCopy("html");let s=e;if(t!==null){let c=fc(e);c=H(c)&&t!==null?mc(t,c):c,s=c}const a=F(s)?s.getChildren():[],l=function(c){const u=c.exportJSON(),h=c.constructor;if(u.type!==h.getType()&&Xi(58,h.name),F(c)){const d=u.children;Array.isArray(d)||Xi(59,h.name)}return u}(s);if(H(s)){const c=s.__text;c.length>0?l.text=c:o=!1}for(let c=0;c<a.length;c++){const u=a[c],h=Fc(n,t,u,l.children);!o&&F(e)&&h&&e.extractWithChild(u,t,"clone")&&(o=!0)}if(o&&!r)i.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const u=l.children[c];i.push(u)}return o}function ah(n,t){const e=[],i=bt().getChildren();for(let o=0;o<i.length;o++)Fc(n,t,i[o],e);return{namespace:n._config.namespace,nodes:e}}function lh(n){const t=[];for(let e=0;e<n.length;e++){const i=n[e],o=vd(i);H(o)&&Ed(o),t.push(o)}return t}let tn=null;async function La(n,t){if(tn!==null)return!1;if(t!==null)return new Promise((a,l)=>{n.update(()=>{a(Aa(n,t))})});const e=n.getRootElement(),i=n._window==null?window.document:n._window.document,o=Oc(n._window);if(e===null||o===null)return!1;const r=i.createElement("span");r.style.cssText="position: fixed; top: -1000px;",r.append(i.createTextNode("#")),e.append(r);const s=new Range;return s.setStart(r,0),s.setEnd(r,1),o.removeAllRanges(),o.addRange(s),new Promise((a,l)=>{const c=n.registerCommand(io,u=>(Be(u,ClipboardEvent)&&(c(),tn!==null&&(window.clearTimeout(tn),tn=null),a(Aa(n,u))),!0),xd);tn=window.setTimeout(()=>{c(),tn=null,a(!1)},50),i.execCommand("copy"),r.remove()})}function Aa(n,t){const e=Oc(n._window);if(!e)return!1;const i=e.anchorNode,o=e.focusNode;if(i!==null&&o!==null&&!ci(n,i,o))return!1;t.preventDefault();const r=t.clipboardData,s=W();if(r===null||s===null)return!1;const a=rh(n),l=sh(n);let c="";return s!==null&&(c=s.getTextContent()),a!==null&&r.setData("text/html",a),l!==null&&r.setData("application/x-lexical-editor",l),r.setData("text/plain",c),!0}function Na(n,t){if(document.caretRangeFromPoint!==void 0){const e=document.caretRangeFromPoint(n,t);return e===null?null:{node:e.startContainer,offset:e.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const e=document.caretPositionFromPoint(n,t);return e===null?null:{node:e.offsetNode,offset:e.offset}}return null}const Ln=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ch=Ln&&"documentMode"in document?document.documentMode:null,uh=!(!Ln||!("InputEvent"in window)||ch)&&"getTargetRanges"in new window.InputEvent("input"),dh=Ln&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),hh=Ln&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ph=Ln&&/^(?=.*Chrome).*/i.test(navigator.userAgent),gh=Ln&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ph,Ma=ye();class gi extends $t{static getType(){return"quote"}static clone(t){return new gi(t.__key)}constructor(t){super(t)}createDOM(t){const e=document.createElement("blockquote");return jt(e,t.theme.quote),e}updateDOM(t,e){return!1}static importDOM(){return{blockquote:t=>({conversion:mh,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&ce(e)){this.isEmpty()&&e.append(document.createElement("br"));const i=this.getFormatType();e.style.textAlign=i;const o=this.getDirection();o&&(e.dir=o)}return{element:e}}static importJSON(t){const e=ns();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(t,e){const i=it(),o=this.getDirection();return i.setDirection(o),this.insertAfter(i,e),i}collapseAtStart(){const t=it();return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}}function ns(){return Lt(new gi)}function fh(n){return n instanceof gi}class fi extends $t{static getType(){return"heading"}static clone(t){return new fi(t.__tag,t.__key)}constructor(t,e){super(e),this.__tag=t}getTag(){return this.__tag}createDOM(t){const e=this.__tag,i=document.createElement(e),o=t.theme.heading;if(o!==void 0){const r=o[e];jt(i,r)}return i}updateDOM(t,e){return!1}static importDOM(){return{h1:t=>({conversion:en,priority:0}),h2:t=>({conversion:en,priority:0}),h3:t=>({conversion:en,priority:0}),h4:t=>({conversion:en,priority:0}),h5:t=>({conversion:en,priority:0}),h6:t=>({conversion:en,priority:0}),p:t=>{const e=t.firstChild;return e!==null&&Oa(e)?{conversion:()=>({node:null}),priority:3}:null},span:t=>Oa(t)?{conversion:e=>({node:un("h1")}),priority:3}:null}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&ce(e)){this.isEmpty()&&e.append(document.createElement("br"));const i=this.getFormatType();e.style.textAlign=i;const o=this.getDirection();o&&(e.dir=o)}return{element:e}}static importJSON(t){const e=un(t.tag);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(t,e=!0){const i=t?t.anchor.offset:0,o=i!==this.getTextContentSize()&&t?un(this.getTag()):it(),r=this.getDirection();if(o.setDirection(r),this.insertAfter(o,e),i===0&&!this.isEmpty()&&t){const s=it();s.select(),this.replace(s,!0)}return o}collapseAtStart(){const t=this.isEmpty()?it():un(this.getTag());return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}extractWithChild(){return!0}}function Oa(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function en(n){const t=n.nodeName.toLowerCase();let e=null;return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6"||(e=un(t),n.style!==null&&e.setFormat(n.style.textAlign)),{node:e}}function mh(n){const t=ns();return n.style!==null&&t.setFormat(n.style.textAlign),{node:t}}function un(n){return Lt(new fi(n))}function yh(n){return n instanceof fi}function Ti(n){let t=null;if(Be(n,DragEvent)?t=n.dataTransfer:Be(n,ClipboardEvent)&&(t=n.clipboardData),t===null)return[!1,[],!1];const e=t.types,i=e.includes("Files"),o=e.includes("text/html")||e.includes("text/plain");return[i,Array.from(t.files),o]}function Fa(n){const t=W();if(!P(t))return!1;const e=new Set,i=t.getNodes();for(let o=0;o<i.length;o++){const r=i[o],s=r.getKey();if(e.has(s))continue;const a=Gt(r,c=>F(c)&&!c.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!e.has(l)&&(e.add(l),n(a))}return e.size>0}function Si(n){const t=fe(n);return lt(t)}function _h(n){return bc(n.registerCommand(fl,t=>{const e=W();return!!qt(e)&&(e.clear(),!0)},0),n.registerCommand(We,t=>{const e=W();return!!P(e)&&(e.deleteCharacter(t),!0)},et),n.registerCommand(Gn,t=>{const e=W();return!!P(e)&&(e.deleteWord(t),!0)},et),n.registerCommand(Qn,t=>{const e=W();return!!P(e)&&(e.deleteLine(t),!0)},et),n.registerCommand(fn,t=>{const e=W();if(typeof t=="string")e!==null&&e.insertText(t);else{if(e===null)return!1;const i=t.dataTransfer;if(i!=null)Ta(i,e,n);else if(P(e)){const o=t.data;return o&&e.insertText(o),!0}}return!0},et),n.registerCommand(Vo,()=>{const t=W();return!!P(t)&&(t.removeText(),!0)},et),n.registerCommand(pe,t=>{const e=W();return!!P(e)&&(e.formatText(t),!0)},et),n.registerCommand(Cl,t=>{const e=W();if(!P(e)&&!qt(e))return!1;const i=e.getNodes();for(const o of i){const r=Gt(o,s=>F(s)&&!s.isInline());r!==null&&r.setFormat(t)}return!0},et),n.registerCommand(gn,t=>{const e=W();return!!P(e)&&(e.insertLineBreak(t),!0)},et),n.registerCommand(Fi,()=>{const t=W();return!!P(t)&&(t.insertParagraph(),!0)},et),n.registerCommand(xu,()=>(ur([kn()]),!0),et),n.registerCommand(wl,()=>Fa(t=>{const e=t.getIndent();t.setIndent(e+1)}),et),n.registerCommand(Ko,()=>Fa(t=>{const e=t.getIndent();e>0&&t.setIndent(e-1)}),et),n.registerCommand(_l,t=>{const e=W();if(qt(e)&&!Si(t.target)){const i=e.getNodes();if(i.length>0)return i[0].selectPrevious(),!0}else if(P(e)){const i=ei(e.focus,!0);if(!t.shiftKey&&lt(i)&&!i.isIsolated()&&!i.isInline())return i.selectPrevious(),t.preventDefault(),!0}return!1},et),n.registerCommand(bl,t=>{const e=W();if(qt(e)){const i=e.getNodes();if(i.length>0)return i[0].selectNext(0,0),!0}else if(P(e)){if(function(o){const r=o.focus;return r.key==="root"&&r.offset===bt().getChildrenSize()}(e))return t.preventDefault(),!0;const i=ei(e.focus,!1);if(!t.shiftKey&&lt(i)&&!i.isIsolated()&&!i.isInline())return i.selectNext(),t.preventDefault(),!0}return!1},et),n.registerCommand(yl,t=>{const e=W();if(qt(e)){const i=e.getNodes();if(i.length>0)return t.preventDefault(),i[0].selectPrevious(),!0}if(!P(e))return!1;if(na(e,!0)){const i=t.shiftKey;return t.preventDefault(),ia(e,i,!0),!0}return!1},et),n.registerCommand(ml,t=>{const e=W();if(qt(e)&&!Si(t.target)){const o=e.getNodes();if(o.length>0)return t.preventDefault(),o[0].selectNext(0,0),!0}if(!P(e))return!1;const i=t.shiftKey;return!!na(e,!1)&&(t.preventDefault(),ia(e,i,!1),!0)},et),n.registerCommand(Di,t=>{if(Si(t.target))return!1;const e=W();if(!P(e))return!1;t.preventDefault();const{anchor:i}=e,o=i.getNode();return e.isCollapsed()&&i.offset===0&&!St(o)&&vc(o).getIndent()>0?n.dispatchCommand(Ko,void 0):n.dispatchCommand(We,!0)},et),n.registerCommand(Sr,t=>{if(Si(t.target))return!1;const e=W();return!!P(e)&&(t.preventDefault(),n.dispatchCommand(We,!1))},et),n.registerCommand(ti,t=>{const e=W();if(!P(e))return!1;if(t!==null){if((hh||dh||gh)&&uh)return!1;if(t.preventDefault(),t.shiftKey)return n.dispatchCommand(gn,!1)}return n.dispatchCommand(Fi,void 0)},et),n.registerCommand(vl,()=>{const t=W();return!!P(t)&&(n.blur(),!0)},et),n.registerCommand(xl,t=>{const[,e]=Ti(t);if(e.length>0){const o=Na(t.clientX,t.clientY);if(o!==null){const{offset:r,node:s}=o,a=fe(s);if(a!==null){const l=md();if(H(a))l.anchor.set(a.getKey(),r,"text"),l.focus.set(a.getKey(),r,"text");else{const u=a.getParentOrThrow().getKey(),h=a.getIndexWithinParent()+1;l.anchor.set(u,h,"element"),l.focus.set(u,h,"element")}const c=Br(l);oe(c)}n.dispatchCommand(Ma,e)}return t.preventDefault(),!0}const i=W();return!!P(i)},et),n.registerCommand(kl,t=>{const[e]=Ti(t),i=W();return!(e&&!P(i))},et),n.registerCommand(El,t=>{const[e]=Ti(t),i=W();if(e&&!P(i))return!1;const o=Na(t.clientX,t.clientY);if(o!==null){const r=fe(o.node);lt(r)&&t.preventDefault()}return!0},et),n.registerCommand(Zo,()=>(Qu(),!0),et),n.registerCommand(io,t=>(La(n,Be(t,ClipboardEvent)?t:null),!0),et),n.registerCommand(Lr,t=>(async function(e,i){await La(i,Be(e,ClipboardEvent)?e:null),i.update(()=>{const o=W();P(o)?o.removeText():qt(o)&&o.getNodes().forEach(r=>r.remove())})}(t,n),!0),et),n.registerCommand(Tr,t=>{const[,e,i]=Ti(t);return e.length>0&&!i?(n.dispatchCommand(Ma,e),!0):Wr(t.target)?!1:W()!==null&&(function(o,r){o.preventDefault(),r.update(()=>{const s=W(),a=Be(o,InputEvent)||Be(o,KeyboardEvent)?null:o.clipboardData;a!=null&&s!==null&&Ta(a,s,r)},{tag:"paste"})}(t,n),!0)},et))}const Dc=/^(\d+(?:\.\d+)?)px$/,Tt={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class An extends $t{static getType(){return"tablecell"}static clone(t){const e=new An(t.__headerState,t.__colSpan,t.__width,t.__key);return e.__rowSpan=t.__rowSpan,e.__backgroundColor=t.__backgroundColor,e}static importDOM(){return{td:t=>({conversion:Da,priority:0}),th:t=>({conversion:Da,priority:0})}}static importJSON(t){const e=t.colSpan||1,i=t.rowSpan||1,o=xn(t.headerState,e,t.width||void 0);return o.__rowSpan=i,o.__backgroundColor=t.backgroundColor||null,o}constructor(t=Tt.NO_STATUS,e=1,i,o){super(o),this.__colSpan=e,this.__rowSpan=1,this.__headerState=t,this.__width=i,this.__backgroundColor=null}createDOM(t){const e=document.createElement(this.getTag());return this.__width&&(e.style.width=`${this.__width}px`),this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(e.style.backgroundColor=this.__backgroundColor),jt(e,t.theme.tableCell,this.hasHeader()&&t.theme.tableCellHeader),e}exportDOM(t){const{element:e}=super.exportDOM(t);if(e){const i=e;i.style.border="1px solid black",this.__colSpan>1&&(i.colSpan=this.__colSpan),this.__rowSpan>1&&(i.rowSpan=this.__rowSpan),i.style.width=`${this.getWidth()||75}px`,i.style.verticalAlign="top",i.style.textAlign="start";const o=this.getBackgroundColor();o!==null?i.style.backgroundColor=o:this.hasHeader()&&(i.style.backgroundColor="#f2f3f5")}return{element:e}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,type:"tablecell",width:this.getWidth()}}getColSpan(){return this.__colSpan}setColSpan(t){return this.getWritable().__colSpan=t,this}getRowSpan(){return this.__rowSpan}setRowSpan(t){return this.getWritable().__rowSpan=t,this}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(t){return this.getWritable().__headerState=t,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(t){return this.getWritable().__width=t,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(t){this.getWritable().__backgroundColor=t}toggleHeaderStyle(t){const e=this.getWritable();return(e.__headerState&t)===t?e.__headerState-=t:e.__headerState+=t,e}hasHeaderState(t){return(this.getHeaderStyles()&t)===t}hasHeader(){return this.getLatest().__headerState!==Tt.NO_STATUS}updateDOM(t){return t.__headerState!==this.__headerState||t.__width!==this.__width||t.__colSpan!==this.__colSpan||t.__rowSpan!==this.__rowSpan||t.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function Da(n){const t=n,e=n.nodeName.toLowerCase();let i;Dc.test(t.style.width)&&(i=parseFloat(t.style.width));const o=xn(e==="th"?Tt.ROW:Tt.NO_STATUS,t.colSpan,i);o.__rowSpan=t.rowSpan;const r=t.style.backgroundColor;r!==""&&(o.__backgroundColor=r);const s=t.style,a=s.textDecoration.split(" "),l=s.fontWeight==="700"||s.fontWeight==="bold",c=a.includes("line-through"),u=s.fontStyle==="italic",h=a.includes("underline");return{after:d=>(d.length===0&&d.push(it()),d),forChild:(d,p)=>{if(ht(p)&&!F(d)){const g=it();return Le(d)&&d.getTextContent()===`
`?null:(H(d)&&(l&&d.toggleFormat("bold"),c&&d.toggleFormat("strikethrough"),u&&d.toggleFormat("italic"),h&&d.toggleFormat("underline")),g.append(d),g)}return d},node:o}}function xn(n,t=1,e){return Lt(new An(n,t,e))}function ht(n){return n instanceof An}class mi extends $t{static getType(){return"tablerow"}static clone(t){return new mi(t.__height,t.__key)}static importDOM(){return{tr:t=>({conversion:bh,priority:0})}}static importJSON(t){return oi(t.height)}constructor(t,e){super(e),this.__height=t}exportJSON(){return{...super.exportJSON(),...this.getHeight()&&{height:this.getHeight()},type:"tablerow",version:1}}createDOM(t){const e=document.createElement("tr");return this.__height&&(e.style.height=`${this.__height}px`),jt(e,t.theme.tableRow),e}isShadowRoot(){return!0}setHeight(t){return this.getWritable().__height=t,this.__height}getHeight(){return this.getLatest().__height}updateDOM(t){return t.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function bh(n){const t=n;let e;return Dc.test(t.style.height)&&(e=parseFloat(t.style.height)),{node:oi(e)}}function oi(n){return Lt(new mi(n))}function Ht(n){return n instanceof mi}function vh(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var nt=vh(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function wh(n,t,e=!0){const i=os();for(let o=0;o<n;o++){const r=oi();for(let s=0;s<t;s++){let a=Tt.NO_STATUS;typeof e=="object"?(o===0&&e.rows&&(a|=Tt.ROW),s===0&&e.columns&&(a|=Tt.COLUMN)):e&&(o===0&&(a|=Tt.ROW),s===0&&(a|=Tt.COLUMN));const l=xn(a),c=it();c.append(yt()),l.append(c),r.append(l)}i.append(r)}return i}function Ic(n){const t=Gt(n,e=>Ht(e));if(Ht(t))return t;throw new Error("Expected table cell to be inside of table row.")}function Kn(n){const t=Gt(n,e=>Ji(e));if(Ji(t))return t;throw new Error("Expected table cell to be inside of table.")}function xh(n){const t=Ic(n);return Kn(t).getChildren().findIndex(e=>e.is(t))}function Ch(n){return Ic(n).getChildren().findIndex(t=>t.is(n))}const gr=(n,t)=>n===Tt.BOTH||n===t?t:Tt.NO_STATUS;function kh(n=!0){const t=W();P(t)||_i(t)||nt(118);const e=t.focus.getNode(),[i,,o]=Ne(e),[r,s]=yi(o,i,i),a=r[0].length,{startRow:l}=s;if(n){const c=l+i.__rowSpan-1,u=r[c],h=oi();for(let p=0;p<a;p++){const{cell:g,startRow:y}=u[p];if(y+g.__rowSpan-1<=c){const _=u[p].cell.__headerState,w=gr(_,Tt.COLUMN);h.append(xn(w).append(it()))}else g.setRowSpan(g.__rowSpan+1)}const d=o.getChildAtIndex(c);Ht(d)||nt(145),d.insertAfter(h)}else{const c=r[l],u=oi();for(let d=0;d<a;d++){const{cell:p,startRow:g}=c[d];if(g===l){const y=c[d].cell.__headerState,_=gr(y,Tt.COLUMN);u.append(xn(_).append(it()))}else p.setRowSpan(p.__rowSpan+1)}const h=o.getChildAtIndex(l);Ht(h)||nt(145),h.insertBefore(u)}}function Eh(n=!0){const t=W();P(t)||_i(t)||nt(118);const e=t.anchor.getNode(),i=t.focus.getNode(),[o]=Ne(e),[r,,s]=Ne(i),[a,l,c]=yi(s,r,o),u=a.length,h=n?Math.max(l.startColumn,c.startColumn):Math.min(l.startColumn,c.startColumn),d=n?h+r.__colSpan-1:h-1,p=s.getFirstChild();Ht(p)||nt(120);let g=null;function y(w=Tt.NO_STATUS){const f=xn(w).append(it());return g===null&&(g=f),f}let _=p;t:for(let w=0;w<u;w++){if(w!==0){const k=_.getNextSibling();Ht(k)||nt(121),_=k}const f=a[w],m=f[d<0?0:d].cell.__headerState,b=gr(m,Tt.ROW);if(d<0){Pc(_,y(b));continue}const{cell:v,startColumn:x,startRow:E}=f[d];if(x+v.__colSpan-1<=d){let k=v,S=E,R=d;for(;S!==w&&k.__rowSpan>1;){if(R-=v.__colSpan,!(R>=0)){_.append(y(b));continue t}{const{cell:z,startRow:K}=f[R];k=z,S=K}}k.insertAfter(y(b))}else v.setColSpan(v.__colSpan+1)}g!==null&&ri(g)}function Th(){const n=W();P(n)||_i(n)||nt(118);const t=n.anchor.getNode(),e=n.focus.getNode(),[i,,o]=Ne(t),[r]=Ne(e),[s,a,l]=yi(o,i,r),{startRow:c}=a,{startRow:u}=l,h=u+r.__rowSpan-1;if(s.length===h-c+1)return void o.remove();const d=s[0].length,p=s[h+1],g=o.getChildAtIndex(h+1);for(let y=h;y>=c;y--){for(let w=d-1;w>=0;w--){const{cell:f,startRow:m,startColumn:b}=s[y][w];if(b===w&&(y===c&&m<c&&f.setRowSpan(f.__rowSpan-(m-c)),m>=c&&m+f.__rowSpan-1>h))if(f.setRowSpan(f.__rowSpan-(h-m+1)),g===null&&nt(122),w===0)Pc(g,f);else{const{cell:v}=p[w-1];v.insertAfter(f)}}const _=o.getChildAtIndex(y);Ht(_)||nt(123,String(y)),_.remove()}if(p!==void 0){const{cell:y}=p[0];ri(y)}else{const y=s[c-1],{cell:_}=y[0];ri(_)}}function Sh(){const n=W();P(n)||_i(n)||nt(118);const t=n.anchor.getNode(),e=n.focus.getNode(),[i,,o]=Ne(t),[r]=Ne(e),[s,a,l]=yi(o,i,r),{startColumn:c}=a,{startRow:u,startColumn:h}=l,d=Math.min(c,h),p=Math.max(c+i.__colSpan-1,h+r.__colSpan-1),g=p-d+1;if(s[0].length===p-d+1)return o.selectPrevious(),void o.remove();const y=s.length;for(let f=0;f<y;f++)for(let m=d;m<=p;m++){const{cell:b,startColumn:v}=s[f][m];if(v<d){if(m===d){const x=d-v;b.setColSpan(b.__colSpan-Math.min(g,b.__colSpan-x))}}else if(v+b.__colSpan-1>p){if(m===p){const x=p-v+1;b.setColSpan(b.__colSpan-x)}}else b.remove()}const _=s[u],w=c>h?_[c+i.__colSpan]:_[h+r.__colSpan];if(w!==void 0){const{cell:f}=w;ri(f)}else{const f=h<c?_[h-1]:_[c-1],{cell:m}=f;ri(m)}}function ri(n){const t=n.getFirstDescendant();t==null?n.selectStart():t.getParentOrThrow().selectStart()}function Pc(n,t){const e=n.getFirstChild();e!==null?e.insertBefore(t):n.append(t)}function yi(n,t,e){const[i,o,r]=Lh(n,t,e);return o===null&&nt(110),r===null&&nt(111),[i,o,r]}function Lh(n,t,e){const i=[];let o=null,r=null;function s(c,u,h){const d={cell:h,startColumn:u,startRow:c},p=h.__rowSpan,g=h.__colSpan;for(let y=0;y<p;y++){i[c+y]===void 0&&(i[c+y]=[]);for(let _=0;_<g;_++)i[c+y][u+_]=d}t!==null&&t.is(h)&&(o=d),e!==null&&e.is(h)&&(r=d)}function a(c,u){return i[c]===void 0||i[c][u]===void 0}const l=n.getChildren();for(let c=0;c<l.length;c++){const u=l[c];Ht(u)||nt(146);const h=u.getChildren();let d=0;for(const p of h){for(ht(p)||nt(147);!a(c,d);)d++;s(c,d,p),d+=p.__colSpan}}return[i,o,r]}function Ne(n){let t;if(n instanceof An)t=n;else if("__type"in n){const o=Gt(n,ht);ht(o)||nt(148),t=o}else{const o=Gt(n.getNode(),ht);ht(o)||nt(148),t=o}const e=t.getParent();Ht(e)||nt(149);const i=e.getParent();return Ji(i)||nt(150),[t,e,i]}function Ia(n){const[t,,e]=Ne(n),i=e.getChildren(),o=i.length,r=i[0].getChildren().length,s=new Array(o);for(let a=0;a<o;a++)s[a]=new Array(r);for(let a=0;a<o;a++){const l=i[a].getChildren();let c=0;for(let u=0;u<l.length;u++){for(;s[a][c];)c++;const h=l[u],d=h.__rowSpan||1,p=h.__colSpan||1;for(let g=0;g<d;g++)for(let y=0;y<p;y++)s[a+g][c+y]=h;if(t===h)return{colSpan:p,columnIndex:c,rowIndex:a,rowSpan:d};c+=p}}return null}class is{constructor(t,e,i){this.anchor=e,this.focus=i,e._selection=this,i._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=t}getStartEndPoints(){return[this.anchor,this.focus]}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!_i(t)&&this.tableKey===t.tableKey&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)}set(t,e,i){this.dirty=!0,this.tableKey=t,this.anchor.key=e,this.focus.key=i,this._cachedNodes=null}clone(){return new is(this.tableKey,this.anchor,this.focus)}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const e=this.focus.getNode();F(e)||nt(151),Br(e.select(0,e.getChildrenSize())).insertNodes(t)}getShape(){const t=at(this.anchor.key);ht(t)||nt(152);const e=Ia(t);e===null&&nt(153);const i=at(this.focus.key);ht(i)||nt(154);const o=Ia(i);o===null&&nt(155);const r=Math.min(e.columnIndex,o.columnIndex),s=Math.max(e.columnIndex,o.columnIndex),a=Math.min(e.rowIndex,o.rowIndex),l=Math.max(e.rowIndex,o.rowIndex);return{fromX:Math.min(r,s),fromY:Math.min(a,l),toX:Math.max(r,s),toY:Math.max(a,l)}}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const e=this.anchor.getNode(),i=this.focus.getNode(),o=Gt(e,ht),r=Gt(i,ht);ht(o)||nt(152),ht(r)||nt(154);const s=o.getParent();Ht(s)||nt(156);const a=s.getParent();Ji(a)||nt(157);const l=r.getParents()[1];if(l!==a){if(a.isParentOf(r)){const E=l.getParent();E==null&&nt(159),this.set(this.tableKey,r.getKey(),E.getKey())}else{const E=a.getParent();E==null&&nt(158),this.set(this.tableKey,E.getKey(),r.getKey())}return this.getNodes()}const[c,u,h]=yi(a,o,r);let d=Math.min(u.startColumn,h.startColumn),p=Math.min(u.startRow,h.startRow),g=Math.max(u.startColumn+u.cell.__colSpan-1,h.startColumn+h.cell.__colSpan-1),y=Math.max(u.startRow+u.cell.__rowSpan-1,h.startRow+h.cell.__rowSpan-1),_=d,w=p,f=d,m=p;function b(E){const{cell:k,startColumn:S,startRow:R}=E;d=Math.min(d,S),p=Math.min(p,R),g=Math.max(g,S+k.__colSpan-1),y=Math.max(y,R+k.__rowSpan-1)}for(;d<_||p<w||g>f||y>m;){if(d<_){const E=m-w,k=_-1;for(let S=0;S<=E;S++)b(c[w+S][k]);_=k}if(p<w){const E=f-_,k=w-1;for(let S=0;S<=E;S++)b(c[k][_+S]);w=k}if(g>f){const E=m-w,k=f+1;for(let S=0;S<=E;S++)b(c[w+S][k]);f=k}if(y>m){const E=f-_,k=m+1;for(let S=0;S<=E;S++)b(c[k][_+S]);m=k}}const v=[a];let x=null;for(let E=p;E<=y;E++)for(let k=d;k<=g;k++){const{cell:S}=c[E][k],R=S.getParent();Ht(R)||nt(160),R!==x&&v.push(R),v.push(S,...Ah(S)),x=R}return En()||(this._cachedNodes=v),v}getTextContent(){const t=this.getNodes();let e="";for(let i=0;i<t.length;i++)e+=t[i].getTextContent();return e}}function _i(n){return n instanceof is}function Ah(n){const t=[],e=[n];for(;e.length>0;){const i=e.pop();i===void 0&&nt(112),F(i)&&e.unshift(...i.getChildren()),i!==n&&t.push(i)}return t}const Nh="__lexicalTableSelection";function Mh(n){return n[Nh]}class bi extends $t{static getType(){return"table"}static clone(t){return new bi(t.__key)}static importDOM(){return{table:t=>({conversion:Oh,priority:1})}}static importJSON(t){return os()}constructor(t){super(t)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(t,e){const i=document.createElement("table");return jt(i,t.theme.table),i}updateDOM(){return!1}exportDOM(t){return{...super.exportDOM(t),after:e=>{if(e){const i=e.cloneNode(),o=document.createElement("colgroup"),r=document.createElement("tbody");ce(e)&&r.append(...e.children);const s=this.getFirstChildOrThrow();if(!Ht(s))throw new Error("Expected to find row node.");const a=s.getChildrenSize();for(let l=0;l<a;l++){const c=document.createElement("col");o.append(c)}return i.replaceChildren(o,r),i}}}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(t,e){const{rows:i,domRows:o}=e;for(let r=0;r<i;r++){const s=o[r];if(s==null)continue;const a=s.findIndex(l=>{if(!l)return;const{elem:c}=l;return fe(c)===t});if(a!==-1)return{x:a,y:r}}throw new Error("Cell not found in table.")}getDOMCellFromCords(t,e,i){const{domRows:o}=i,r=o[e];return r==null?null:r[t]??null}getDOMCellFromCordsOrThrow(t,e,i){const o=this.getDOMCellFromCords(t,e,i);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(t,e,i){const o=this.getDOMCellFromCords(t,e,i);if(o==null)return null;const r=fe(o.elem);return ht(r)?r:null}getCellNodeFromCordsOrThrow(t,e,i){const o=this.getCellNodeFromCords(t,e,i);if(!o)throw new Error("Node at cords not TableCellNode.");return o}canSelectBefore(){return!0}canIndent(){return!1}}function Oh(n){return{node:os()}}function os(){return Lt(new bi)}function Ji(n){return n instanceof bi}function Pa(n=[],t){const e=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r=document.createElement("ul"),s=document.createElement("div");s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>',s.style.transition="transform 500ms ease-out",e.style.position="relative",e.style.display="block",i.style.padding="8px",i.style.borderRadius="8px",i.style.cursor="pointer",i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="space-between",i.style.gap="8px",i.style.color=t==="light"?"white":"black",o.style.flex="1",s.style.width="18px",s.style.height="18px",r.style.backgroundColor="white",r.style.position="absolute",r.style.top="100%",r.style.transform="translateY(-10px)",r.style.opacity="0",r.style.borderRadius="8px",r.style.display="grid",r.style.boxShadow="0px 20px 30px rgba(0, 0, 0, 0.3)",r.style.zIndex="99",r.style.pointerEvents="none",r.style.overflowX="hidden",r.style.overflowY="auto",r.style.maxHeight="360px",r.style.listStyleType="none",r.style.padding="8px",r.style.gap="8px",r.style.transition="all 150ms ease-out",r.style.color="black",r.classList.add("select-dropdown-wrapper"),e.setAttribute("aria-label","Select Option"),n.forEach(l),i.appendChild(o),i.appendChild(s),i.setAttribute("drop-down-state",!1),e.appendChild(i),e.appendChild(r),a(i),window.addEventListener("click",g=>{e.contains(g.target)||h()});function a(g,y){g.onmouseenter=()=>{g.getAttribute("selected")||(g.style.backgroundColor="#e7e7e730",g.style.color="black")},g.onmouseleave=()=>{g.getAttribute("selected")||(g.style.backgroundColor="transparent",g.style.color=t==="light"?"white":"black")}}function l(g){const y=document.createElement("li");g.style.padding="16px",g.style.cursor="pointer",g.style.position="relative",g.style.borderRadius="8px",g.style.transition="all 150ms ease-out",g.style.whiteSpace="nowrap",g.style.backgroundColor="tranparent",y.append(g),y.onclick=function(){c(g)},a(g),r.childElementCount===0&&(o.innerHTML="",o.insertAdjacentElement("afterbegin",g.cloneNode(!0))),r.append(y)}function c(g){[...r.children].forEach(_=>{_.children[0].style.backgroundColor="transparent",_.children[0].removeAttribute("selected")});const y=g.cloneNode(!0);r.contains(g)&&(g.style.backgroundColor="#e7e7e7",g.setAttribute("selected",!0)),y.style.padding="0px",y.style.backgroundColor="transparent",h(),o.innerHTML=null,o.insertAdjacentElement("afterbegin",y)}function u(){i.setAttribute("drop-down-state",!0),r.style.pointerEvents="auto",r.style.opacity="1",r.style.transform="translateY(0px)",s.style.transform="rotate(180deg)"}function h(){i.setAttribute("drop-down-state",!1),r.style.pointerEvents="none",r.style.opacity="0",r.style.transform="translateY(-10px)",s.style.transform="rotate(0deg)"}function d(){i.getAttribute("drop-down-state")==="true"?h():u()}function p(g){const y=r.querySelector(`[data-id=${g}]`);y&&c(y)}return i.onclick=d,e.appendOption=l,e.open=u,e.close=h,e.toggle=d,e.updateSelectedOption=p,e}function Fh(n){const t=document.createElement("span");t.style.position="absolute",t.style.backgroundColor="white",t.style.borderRadius="10px",t.style.border="1px solid rgb(228, 228, 228)",t.style.padding="4px",t.style.opacity="0",t.style.transform="translateY(20px)",t.style.boxShadow="0px 6px 20px rgba(0, 0, 0, 0.16)",t.style.display="block",t.style.color="black",t.appendChild(n);let e=null,i=null;return t.attachTo=(o,r)=>{r=r.tagName==="IMG"||r.tagName==="VIDEO"?r.parentElement:r,e=o,i=r,e.style.position="relative",e.appendChild(t);const s=t.getBoundingClientRect();let a=Number(r==null?void 0:r.offsetLeft)+Number(r.offsetWidth)-s.width||e.offsetLeft||e.offsetLeft;const l=Number(r==null?void 0:r.offsetTop)+Number(r.offsetHeight)||e.offsetTop,c=e.offsetWidth-s.width-parseInt(window.getComputedStyle(e).paddingRight);t.style.left=`clamp(0px, ${a}px, ${c}px)`,t.style.top=l+"px",t.animate({opacity:"1",transform:"translateY(0px)"},{duration:600,easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fill:"forwards"})},t.updatePosition=()=>{if(e&&i&&e.contains(i)){let o=i.tagName==="IMG"?i.parentElement:i;e.style.position="relative";const r=t.getBoundingClientRect();let s=Number(o==null?void 0:o.offsetLeft)+Number(o.offsetWidth)-r.width||e.offsetLeft;const a=Number(o==null?void 0:o.offsetTop)+Number(o.offsetHeight)||e.offsetTop,l=e.offsetWidth-r.width-parseInt(window.getComputedStyle(e).paddingRight);t.style.left=`clamp(0px, ${s}px, ${l}px)`,t.style.top=a+"px"}},t.close=()=>{if(e&&e.contains(t)){const o=t.animate({opacity:"0",transform:"translateY(20px)"},{duration:300,easing:"ease-out",fill:"forwards"});o.onfinish=()=>{e.contains(t)&&(e.style.position="",n.innerHTML=null,e.removeChild(t),setTimeout(()=>{e=null},500))}}},t}function Dh(n){const t=n;if(t.src.startsWith("file:///"))return null;let{alt:e,src:i,width:o,height:r}=t;o=t.getAttribute("width"),r=t.getAttribute("height");const s=JSON.parse(t.getAttribute("cropBoxData")||"{}"),a=t.style.maxWidth;t.style.float;const l=t.getAttribute("data-fit-width")==="true";return{node:rs({altText:e,height:r,width:o,src:i,maxWidth:a,cropBoxData:s,fitWidth:l})}}class vi extends go{static getType(){return"image"}static clone(t){return new vi(t.__src,t.__altText,t.__maxWidth,t.__width,t.__height,t.__showCaption,t.__caption,t.__captionsEnabled,t.__key,t.__mode,t.__originalSrc,t.__cropBoxData,t.__float,t.__fitWidth)}static importJSON(t){const{altText:e,height:i,width:o,maxWidth:r,caption:s,src:a,showCaption:l,originalSrc:c,cropBoxData:u,float:h,fitWidth:d}=t,p=rs({altText:e,height:i,maxWidth:r,showCaption:l,src:a,width:o,originalSrc:c,cropBoxData:u,float:h,fitWidth:d}),g=p.__caption,y=g.parseEditorState(s.editorState);return y.isEmpty()||g.setEditorState(y),p}exportDOM(){const t=document.createElement("img");return t.setAttribute("src",this.__src),t.setAttribute("alt",this.__altText),t.setAttribute("width",this.__width.toString()),t.setAttribute("height",this.__height.toString()),t.setAttribute("data-original-src",this.__originalSrc),t.setAttribute("data-crop-box-data",this.__cropBoxData),t.setAttribute("data-fit-width",this.__fitWidth),{element:t}}static importDOM(){return{img:t=>({conversion:Dh,priority:0})}}constructor(t,e,i,o,r,s,a,l,c,u,h,d,p,g){super(c),this.__src=t,this.__altText=e,this.__maxWidth=i,this.__width=o||"inherit",this.__height=r||"inherit",this.__showCaption=s||!1,this.__caption=a||hc(),this.__captionsEnabled=l||l===void 0,this.__mode=u,this.__originalSrc=h||t||"",this.__cropBoxData=d,this.__float=p,this.__fitWidth=g}exportJSON(){return{altText:this.getAltText(),caption:this.__caption.toJSON(),height:this.__height==="inherit"?0:this.__height,maxWidth:this.__maxWidth,showCaption:this.__showCaption,src:this.getSrc(),originalSrc:this.getOriginalSrc(),cropBoxData:this.getCropBoxData(),type:"image",version:1,float:this.__float,fitWidth:this.__fitWidth,width:this.__width==="inherit"?0:this.__width}}exportDOM(){return{element:this.createDOM()}}setWidthAndHeight(t,e){const i=this.getWritable();i.__width=t,i.__height=e,i.__fitWidth=!1}setShowCaption(t){const e=this.getWritable();e.__showCaption=t}setFloat(t){const e=this.getWritable();e.__float=t,e.__fitWidth=!1}setFitWidth(){const t=this.getWritable();t.__fitWidth=!t.__fitWidth,t.__float=null}createDOM(t){const e=document.createElement("span"),i=document.createElement("img");return i.alt=this.__altText,i.src=this.__src,i.setAttribute("width",this.__width),i.setAttribute("data-original-src",this.__originalSrc),i.setAttribute("data-node-key",this.__key),i.setAttribute("data-fit-width",this.__fitWidth),i.classList.add("image-element"),i.style.maxWidth=this.__maxWidth.toString(),i.style.textAlign="center",i.style.objectFit="contain",i.style.objectPosition="center",i.style.width=this.__fitWidth?"100%":"",i.setAttribute("data-crop-box-data",JSON.stringify(this.__cropBoxData)),e.style.position="relative",e.style.display="inline-block",e.style.fontSize="0px",e.style.width=this.__fitWidth?"100%":"",e.style.float=`${this.__float}`||"none",e.style.cssFloat=`${this.__float}`||"none",e.style.textAlign=`${this.__float}`||"",e.classList.add("image-element-wrapper"),e.classList.add(`float-${this.__float}`),e.appendChild(i),e}updateDOM(t,e,i){return e.style.float=this.__float,!0}getSrc(){return this.__src}getOriginalSrc(){return this.__originalSrc}getAltText(){return this.__altText}getCropBoxData(){return this.__cropBoxData}decorate(){return this.createDOM()}}function rs({altText:n,height:t,maxWidth:e="100%",captionsEnabled:i,src:o,width:r,showCaption:s,caption:a,key:l,mode:c,originalSrc:u,cropBoxData:h,float:d,fitWidth:p=!1}){return Lt(new vi(o,n,e,r,t,s,a,i,l,c,u,h,d,p))}function ve(n){return n instanceof vi}const $o=[];function dn({title:n=""}){const t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),o=document.createElement("p"),r=document.createElement("button");t.id="CrimsonEditorTheme__modal-wrapper",t.classList.add("CrimsonEditorTheme__modal-wrapper"),e.classList.add("CrimsonEditorTheme__modal-content"),i.classList.add("CrimsonEditorTheme__modal-header"),r.type="button",r.classList.add("CrimsonEditorTheme__modal-cancel-button"),r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
</svg>
`,i.appendChild(o),i.appendChild(r),o.innerText=n,e.appendChild(i),t.appendChild(e);const s=c=>{e.appendChild(c),document.body.appendChild(t),t.animate({opacity:1},{duration:350,easing:"ease-out",fill:"forwards"}),e.animate({opacity:1,transform:"translateY(0px)"},{duration:350,easing:"ease-out",delay:200,fill:"forwards"}),$o.push(t)},a=()=>{const c=t.animate({opacity:0},{delay:200,duration:350,easing:"ease-out",fill:"forwards"});e.animate({opacity:0,transform:"translateY(20px)"},{duration:350,easing:"ease-out",fill:"forwards"}),c.onfinish=()=>{document.body.contains(t)&&document.body.removeChild(t)}};t.onclick=a,r.onclick=a,e.onclick=c=>{c.stopPropagation()};const l=()=>new Promise((c,u)=>{window.addEventListener("prompt-result",h=>{$o.at(-1)===t&&(a(),$o.pop(),h.detail?c(h.detail):u(null))})});return document.addEventListener("keydown",function(c){(c.key==="Escape"||c.keyCode===27)&&a()}),t.open=s,t.close=a,t.result=l,t}function Ih(n){const t=n;if(t.src.startsWith("file:///"))return null;let{src:e,width:i,height:o,poster:r,id:s}=t;i=t.getAttribute("width"),o=t.getAttribute("height");const a=t.dataset.float,l=img.getAttribute("data-fit-width")==="true";return{node:ss({height:o,width:i,src:e,float:a,fitWidth:l,poster:r})}}class wi extends go{static getType(){return"video"}static clone(t){return new wi(t.__src,t.__width,t.__height,t.__key,t.__float,t.__fitWidth,t.__poster)}static importJSON(t){const{height:e,width:i,src:o,float:r,fitWidth:s,poster:a,id:l}=t,c=ss({height:e,src:o,width:i,float:r,fitWidth:s,poster:a}),u=nestedEditor.parseEditorState(caption.editorState);return u.isEmpty()||nestedEditor.setEditorState(u),c}exportDOM(){const t=this.createDOM();return t.firstChild.controls=this,{element:t}}static importDOM(){return{img:t=>({conversion:Ih,priority:0})}}constructor(t,e,i,o,r,s,a){super(o),this.__src=t,this.__width=e||"inherit",this.__height=i||"inherit",this.__float=r,this.__fitWidth=s,this.__poster=a}exportJSON(){return{height:this.__height==="inherit"?0:this.__height,src:this.getSrc(),type:"video",version:1,float:this.__float,fitWidth:this.__fitWidth,poster:this.__poster,width:this.__width==="inherit"?0:this.__width}}setWidthAndHeight(t,e){const i=this.getWritable();i.__width=t,i.__height=e,i.__fitWidth=!1}setShowCaption(t){const e=this.getWritable();e.__showCaption=t}setFloat(t){const e=this.getWritable();e.__float=t,e.__fitWidth=!1}setFitWidth(){const t=this.getWritable();t.__fitWidth=!0,t.__float=null}createDOM(t){const e=document.createElement("span"),i=document.createElement("video");return i.src=this.__src,i.setAttribute("width",this.__width),i.setAttribute("data-node-key",this.__key),i.setAttribute("data-float",this.__float),i.setAttribute("data-fit-width",this.__fitWidth),i.classList.add("video-element"),i.poster=this.__poster,i.style.textAlign="center",i.style.objectFit="contain",i.style.objectPosition="center",i.style.maxWidth="100%",i.style.width=this.__fitWidth?"100%":"",e.style.position="relative",e.style.display="inline-block",e.style.fontSize="0px",e.style.float=`${this.__float}`||"none",e.style.width=this.__fitWidth?"100%":"",e.style.cssFloat=`${this.__float}`||"none",e.style.textAlign=`${this.__float||"center"}`,e.style.maxWidth="100%",e.classList.add("video-element-wrapper"),e.classList.add(`float-${this.__float}`),e.appendChild(i),e}updateDOM(t,e,i){return e.style.float=this.__float,!1}getSrc(){return this.__src}decorate(){return this.createDOM()}}function ss({height:n,src:t,width:e,key:i,float:o,fitWidth:r,poster:s}){return new wi(t,e,n,i,o,r,s)}function nn(n){return n instanceof wi}function Gi(n){return new Promise((t,e)=>{if(n)if(n instanceof File){const i=new FileReader;i.onload=function(o){const r=o.target.result;t(r)},i.readAsDataURL(n)}else if(typeof n=="string"){const i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){const o=document.createElement("canvas"),r=o.getContext("2d");o.width=i.width,o.height=i.height,r.drawImage(i,0,0);const s=o.toDataURL("image/jpeg");t(s)},i.onerror=function(){e("This is not a valid Image URL")},i.src=n}else e("Please pass in an image file or an image URL!");else e("Please pass in an image file or an image URL!")})}const rt={bold:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.25 11.8C15.7397 11.5018 16.1529 11.0934 16.4567 10.6073C16.7605 10.1212 16.9466 9.57077 17 9C17.0093 8.48388 16.9168 7.971 16.7278 7.49063C16.5388 7.01027 16.2571 6.57184 15.8986 6.20039C15.5402 5.82894 15.1121 5.53174 14.6387 5.32578C14.1654 5.11981 13.6561 5.00911 13.14 5H6.65002V19H13.65C14.1412 18.9948 14.6265 18.8929 15.0782 18.7001C15.53 18.5073 15.9394 18.2274 16.283 17.8764C16.6265 17.5253 16.8976 17.1101 17.0807 16.6543C17.2638 16.1985 17.3553 15.7112 17.35 15.22V15.1C17.3504 14.4071 17.1529 13.7285 16.781 13.144C16.409 12.5594 15.8778 12.0931 15.25 11.8ZM8.65002 7H12.85C13.2762 6.98681 13.6962 7.10428 14.0537 7.33665C14.4112 7.56902 14.6891 7.90517 14.85 8.3C15.0129 8.82779 14.9602 9.39859 14.7035 9.88765C14.4468 10.3767 14.0069 10.7443 13.48 10.91C13.2754 10.97 13.0632 11.0003 12.85 11H8.65002V7ZM13.25 17H8.65002V13H13.25C13.6762 12.9868 14.0962 13.1043 14.4537 13.3367C14.8112 13.569 15.0891 13.9052 15.25 14.3C15.4129 14.8278 15.3602 15.3986 15.1035 15.8877C14.8468 16.3767 14.4069 16.7443 13.88 16.91C13.6754 16.97 13.4632 17.0003 13.25 17Z" fill="currentColor"/>
    </svg>  
    `,italic:`
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11.76 9H13.76L11.56 19H9.56L11.76 9ZM13.44 5C13.2422 5 13.0489 5.05865 12.8844 5.16853C12.72 5.27841 12.5918 5.43459 12.5161 5.61732C12.4404 5.80004 12.4206 6.00111 12.4592 6.19509C12.4978 6.38907 12.593 6.56725 12.7329 6.70711C12.8727 6.84696 13.0509 6.9422 13.2449 6.98079C13.4389 7.01937 13.64 6.99957 13.8227 6.92388C14.0054 6.84819 14.1616 6.72002 14.2715 6.55557C14.3813 6.39112 14.44 6.19778 14.44 6C14.44 5.73478 14.3346 5.48043 14.1471 5.29289C13.9596 5.10536 13.7052 5 13.44 5Z" fill="currentColor"/>
  </svg>
    `,underline:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 20V22H5V20H19ZM16 13.215C15.9671 13.875 15.7711 14.5165 15.4297 15.0823C15.0883 15.6481 14.6121 16.1205 14.0435 16.4572C13.475 16.794 12.8318 16.9847 12.1716 17.0122C11.5114 17.0397 10.8546 16.9033 10.26 16.615C9.57464 16.3185 8.99341 15.8241 8.59077 15.1952C8.18813 14.5663 7.98242 13.8315 8 13.085V5.005H6V13.215C6.03383 14.1564 6.28885 15.0766 6.74442 15.9012C7.19998 16.7257 7.84329 17.4314 8.62227 17.9611C9.40125 18.4908 10.294 18.8296 11.2283 18.9502C12.1625 19.0707 13.1121 18.9696 14 18.655C15.1811 18.2613 16.2059 17.5012 16.9252 16.485C17.6446 15.4689 18.0211 14.2498 18 13.005V5.005H16V13.215ZM16 5H18H16ZM8 5H6H8Z" fill="currentColor"/>
    </svg>
    `,strikethrough:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 12.2029H21V13.7029H16.6342C16.8711 14.2002 16.9906 14.7451 16.9836 15.2958C16.9977 15.8183 16.8855 16.3365 16.6567 16.8064C16.428 17.2764 16.0893 17.6843 15.6694 17.9955C14.6579 18.7072 13.4378 19.0607 12.2025 19C11.3 19.0061 10.4062 18.8224 9.57916 18.461C8.82387 18.1477 8.16917 17.6329 7.68652 16.9728C7.24212 16.3426 7.00762 15.5884 7.01636 14.8174V14.704H7.30359V14.7029H7.64508V14.704H9.02V14.8173C9.00433 15.1687 9.07382 15.5187 9.22253 15.8374C9.37125 16.1562 9.59479 16.4343 9.87413 16.648C10.5515 17.1303 11.372 17.3697 12.2025 17.3273C12.9356 17.3752 13.6645 17.1835 14.2792 16.7811C14.507 16.6126 14.6901 16.3908 14.8124 16.1351C14.9346 15.8794 14.9923 15.5977 14.9804 15.3145C14.9964 15.041 14.9459 14.7676 14.8332 14.5178C14.7205 14.268 14.5491 14.0493 14.3335 13.8801C14.2451 13.8161 14.1533 13.7569 14.0585 13.7029H3V12.2029ZM16.3447 7.0598C15.9232 6.40481 15.3271 5.88058 14.6236 5.54619C13.8394 5.1726 12.9793 4.98565 12.1107 4.99999C10.8996 4.94801 9.70883 5.32403 8.74719 6.06212C8.33435 6.38097 8.00134 6.79147 7.77448 7.26119C7.54762 7.73091 7.43313 8.24695 7.44006 8.76854C7.43656 9.26283 7.54659 9.75133 7.76166 10.1964H10.3583C10.275 10.1427 10.173 10.0906 10.1056 10.0358C9.90219 9.88567 9.73702 9.68968 9.62358 9.46372C9.51014 9.23777 9.45164 8.98823 9.45282 8.7354C9.43773 8.44679 9.49242 8.15879 9.61226 7.8958C9.73209 7.63282 9.91354 7.40258 10.1412 7.2246C10.7173 6.82506 11.4109 6.63053 12.1107 6.67217C12.8717 6.62379 13.6231 6.86239 14.2167 7.34087C14.465 7.57466 14.6594 7.85967 14.7865 8.17612C14.9136 8.49257 14.9703 8.83288 14.9527 9.17345V9.28686H16.9559V9.17345C16.9592 8.42485 16.7471 7.69109 16.3447 7.0598Z" fill="currentColor"/>
    </svg>
    `,subscript:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.4 12L14 15.6L12.6 17L9 13.4L5.4 17L4 15.6L7.6 12L4 8.4L5.4 7L9 10.6L12.6 7L14 8.4L10.4 12ZM18.3123 19.674L19.3805 18.5275C19.5765 18.3261 19.7514 18.1201 19.9173 17.9187C20.077 17.7245 20.2215 17.5182 20.3493 17.3017C20.469 17.1015 20.567 16.8892 20.6418 16.6683C20.7128 16.4534 20.7488 16.2284 20.7484 16.0021C20.7514 15.7207 20.6994 15.4415 20.5953 15.18C20.4968 14.9343 20.3427 14.7147 20.1451 14.5384C19.9353 14.3549 19.6899 14.2165 19.4242 14.132C18.7861 13.9419 18.1044 13.9575 17.4757 14.1766C17.1887 14.2851 16.9283 14.4538 16.712 14.6715C16.5032 14.8801 16.3413 15.1308 16.2372 15.407C16.1371 15.6735 16.0844 15.9553 16.0813 16.24L16.0777 16.477H17.617L17.6234 16.25C17.625 16.1234 17.643 15.9975 17.6772 15.8755C17.7105 15.7684 17.7637 15.6685 17.8339 15.5811C17.905 15.5007 17.9935 15.4377 18.0928 15.397C18.3174 15.308 18.5665 15.3028 18.7946 15.3824C18.8768 15.4185 18.9501 15.472 19.0096 15.5392C19.0704 15.611 19.1171 15.6935 19.1473 15.7825C19.1829 15.8908 19.2014 16.004 19.202 16.1179C19.2008 16.2075 19.1901 16.2967 19.17 16.384C19.1409 16.4883 19.0993 16.5887 19.046 16.683C18.9687 16.8192 18.8806 16.949 18.7827 17.0712C18.6483 17.2458 18.505 17.4135 18.3534 17.5734L16.197 19.9265V21H21V19.674H18.3123Z" fill="currentColor"/>
    </svg>
    `,superscript:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.4 12L14 15.6L12.6 17L9 13.4L5.4 17L4 15.6L7.6 12L4 8.39999L5.4 6.99999L9 10.6L12.6 6.99999L14 8.39999L10.4 12ZM19.3123 8.67399L20.3805 7.52749C20.5765 7.32608 20.7514 7.1201 20.9173 6.91869C21.077 6.72452 21.2214 6.51823 21.3493 6.30169C21.469 6.10152 21.567 5.8892 21.6418 5.66829C21.7128 5.45337 21.7488 5.22843 21.7484 5.00208C21.7514 4.72071 21.6994 4.44146 21.5953 4.18002C21.4968 3.93428 21.3427 3.71468 21.1451 3.53842C20.9353 3.35487 20.6899 3.21651 20.4242 3.13196C19.7861 2.94191 19.1044 2.95753 18.4757 3.17661C18.1887 3.28506 17.9282 3.45381 17.712 3.67148C17.5032 3.88006 17.3413 4.13081 17.2372 4.40696C17.1371 4.67345 17.0844 4.95534 17.0813 5.23996L17.0777 5.47696H18.617L18.6234 5.24999C18.625 5.12333 18.643 4.99741 18.6772 4.87541C18.7105 4.76834 18.7637 4.66848 18.8339 4.58104C18.905 4.50068 18.9935 4.43769 19.0928 4.39694C19.3173 4.30795 19.5665 4.30277 19.7946 4.38236C19.8768 4.41844 19.9501 4.47194 20.0096 4.53915C20.0704 4.61089 20.1171 4.69344 20.1473 4.78248C20.1829 4.89072 20.2014 5.00389 20.202 5.11786C20.2008 5.20745 20.1901 5.29667 20.17 5.38398C20.1409 5.48826 20.0993 5.58863 20.046 5.68291C19.9687 5.81912 19.8807 5.94894 19.7827 6.07114C19.6483 6.24579 19.505 6.4134 19.3534 6.57331L17.1971 8.92641V9.99999H22V8.67399H19.3123Z" fill="currentColor"/>
    </svg>
    `,fontFamily:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 19H18L13 5H11L6 19H8L9.43 15H14.57L16 19ZM10.14 13L12 7.8L13.86 13H10.14Z" fill="currentColor"/>
    </svg>
    `,fontSize:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M20.75 19H22.25L19.25 9H17.75L14.75 19H16.25L17 16.5H20L20.75 19ZM17.45 15L18.5 11.5L19.55 15H17.45ZM11.75 19H13.75L8.75 5H6.75L1.75 19H3.75L5.18 15H10.32L11.75 19ZM5.89 13L7.75 7.8L9.61 13H5.89Z" fill="currentColor"/>
    </svg>
    `,clearformat:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M11.48 10.09L10.28 8.88L8.80003 7.41L6.43003 5L5.37003 6.1L8.25003 9L4.66003 19H6.66003L8.09003 15H13.23L14.66 19H16.66L15.77 16.49L18.27 19L19.34 17.94L14.59 13.2L11.48 10.09ZM8.80003 13L9.72003 10.44L12.27 13H8.80003ZM9.36003 5.85L9.66003 5H11.66L13.41 9.9L9.36003 5.85Z" fill="currentColor"/>
    </svg>
    `,textColor:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.2 13.494C15.2 13.494 11.6 17.394 11.6 19.794C11.5934 20.2733 11.6813 20.7493 11.8587 21.1946C12.036 21.64 12.2994 22.046 12.6337 22.3896C13.3088 23.0835 14.2319 23.4807 15.2 23.494C16.168 23.5073 17.1017 23.1354 17.7956 22.4603C18.1391 22.126 18.4135 21.7273 18.603 21.287C18.7925 20.8467 18.8934 20.3733 18.9 19.894V19.794C18.9 17.394 15.2 13.494 15.2 13.494ZM13.73 12.137L14.399 11.413L12.1 5H10.1L5.09998 19H7.09998L8.52998 15H11.473C12.1517 13.9909 12.9048 13.0339 13.726 12.137H13.73ZM11.1 7.8L12.96 13H9.24398L11.1 7.8Z" fill="currentColor"/>
    </svg>
    `,backgroundColor:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9.91756 12.2408L17.6655 6.85064L18.8449 8.14655L12.7509 15.354L9.91756 12.2408ZM7.58746 12.652L12.1228 17.6353C12.2167 17.7283 12.3292 17.8003 12.453 17.8466C12.5768 17.8929 12.709 17.9123 12.8409 17.9038C12.9728 17.8952 13.1013 17.8587 13.2181 17.7967C13.3348 17.7348 13.4371 17.6488 13.5181 17.5444L20.9695 8.73139C21.1179 8.56827 21.202 8.35672 21.2059 8.1362C21.2098 7.91569 21.1333 7.70128 20.9908 7.53299L18.4778 4.77183C18.3236 4.6141 18.1174 4.51786 17.8975 4.50105C17.6775 4.48425 17.459 4.54804 17.2827 4.68051L7.80905 11.2713C7.69748 11.3422 7.60223 11.4359 7.52958 11.5463C7.45693 11.6567 7.40853 11.7813 7.38759 11.9118C7.36664 12.0423 7.37363 12.1757 7.40808 12.3033C7.44254 12.4309 7.50367 12.5498 7.58746 12.652ZM2.79395 18.5277L8.4113 19.5L9.89044 18.1538L6.86155 14.8258L2.79395 18.5277Z" fill="currentColor"/>
    </svg>
    `,undo:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.4 9.4C8.7 9.7 7.2 10.3 5.8 11.4L3 8.5V15.5H10L7.3 12.8C11 10.2 16.1 11 18.8 14.7C19 15 19.2 15.2 19.3 15.5L21.1 14.6C18.9 10.8 14.7 8.7 10.4 9.4Z" fill="currentColor"/>
    </svg>
    `,redo:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.6 9.4C15.3 9.7 16.8 10.3 18.2 11.4L21 8.5V15.5H14L16.7 12.8C13 10.1 7.9 11 5.3 14.7C5.1 15 4.9 15.2 4.8 15.5L3 14.6C5.1 10.8 9.3 8.7 13.6 9.4Z" fill="currentColor"/>
    </svg>
    `,left:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 9.5H12.47" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 19.5H12.47" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,center:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.26001 9.5H16.74" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.26001 19.5H16.74" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,right:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M11.53 9.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M11.53 19.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,justify:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 9.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 19.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h1:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 10L19 9V19M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h2:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 12.5V12C15 11.2044 15.3161 10.4413 15.8787 9.87868C16.4413 9.31607 17.2044 9 18 9H18.172C18.7316 8.99968 19.2788 9.16541 19.7441 9.47619C20.2095 9.78698 20.5722 10.2289 20.7864 10.7459C21.0005 11.2629 21.0564 11.8318 20.9471 12.3807C20.8377 12.9295 20.568 13.4335 20.172 13.829L15 19H21M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h3:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 9H21L17 13H18C18.55 13.0002 19.0893 13.1516 19.5591 13.4377C20.0288 13.7237 20.4109 14.1334 20.6635 14.6219C20.9162 15.1105 21.0297 15.6591 20.9916 16.2077C20.9535 16.7564 20.7653 17.284 20.4476 17.733C20.1299 18.1819 19.6949 18.5349 19.1901 18.7533C18.6854 18.9717 18.1303 19.0472 17.5855 18.9714C17.0408 18.8956 16.5274 18.6716 16.1013 18.3237C15.6753 17.9759 15.3531 17.5176 15.17 16.999M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h4:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M18 9L15.5 17H20M20 17H21M20 17V14M20 17V19M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h5:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M21 9H17L15.75 14.016C16.1829 13.5246 16.7648 13.1885 17.4068 13.059C18.0488 12.9295 18.7155 13.0138 19.305 13.299C19.7052 13.4922 20.0575 13.7718 20.3364 14.1177C20.6153 14.4637 20.8139 14.8673 20.9178 15.2993C21.0217 15.7314 21.0283 16.1811 20.9372 16.616C20.846 17.0509 20.6594 17.4602 20.3908 17.8142C20.1222 18.1682 19.7783 18.4581 19.384 18.6629C18.9896 18.8678 18.5547 18.9825 18.1106 18.9987C17.6666 19.015 17.2244 18.9324 16.8162 18.7569C16.4079 18.5814 16.0438 18.3174 15.75 17.984M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h6:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.402 14.525C15.2052 14.8643 15.0774 15.2392 15.0261 15.6281C14.9748 16.017 15.0009 16.4122 15.1029 16.791C15.205 17.1698 15.381 17.5246 15.6207 17.8351C15.8605 18.1455 16.1593 18.4055 16.5 18.6C17.189 18.9959 18.0067 19.1033 18.7745 18.8988C19.5424 18.6942 20.1983 18.1942 20.599 17.508C20.7959 17.1687 20.9237 16.7937 20.9751 16.4047C21.0264 16.0157 21.0002 15.6205 20.8981 15.2417C20.7959 14.8628 20.6198 14.508 20.3798 14.1976C20.1399 13.8872 19.8408 13.6273 19.5 13.433C18.8111 13.0374 17.9937 12.9302 17.226 13.1347C16.4584 13.3393 15.8027 13.839 15.402 14.525ZM15.402 14.525L19 8M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,paragraph:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 5V13M12 5H16M12 5H11C9.93913 5 8.92172 5.42143 8.17157 6.17157C7.42143 6.92172 7 7.93913 7 9C7 10.0609 7.42143 11.0783 8.17157 11.8284C8.92172 12.5786 9.93913 13 11 13H12M12 13V19M16 5V19M16 5H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,quote:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 17C16.7956 17 17.5587 16.6839 18.1213 16.1213C18.6839 15.5587 19 14.7956 19 14V12M19 12V8.598C19 8.04 19 7.76 18.891 7.546C18.7951 7.35785 18.6422 7.20487 18.454 7.109C18.24 7 17.96 7 17.4 7H15.6C15.04 7 14.76 7 14.546 7.109C14.3578 7.20487 14.2049 7.35785 14.109 7.546C14 7.76 14 8.04 14 8.6V10.4C14 10.96 14 11.24 14.109 11.454C14.2049 11.6422 14.3578 11.7951 14.546 11.891C14.76 12 15.04 12 15.599 12H19ZM7 17C7.79565 17 8.55871 16.6839 9.12132 16.1213C9.68393 15.5587 10 14.7956 10 14V12M10 12V8.598C10 8.039 10 7.76 9.891 7.546C9.79513 7.35785 9.64215 7.20487 9.454 7.109C9.24 7 8.96 7 8.4 7H6.6C6.04 7 5.76 7 5.546 7.109C5.35785 7.20487 5.20487 7.35785 5.109 7.546C5 7.76 5 8.04 5 8.6V10.4C5 10.96 5 11.24 5.109 11.454C5.20487 11.6422 5.35785 11.7951 5.546 11.891C5.76 12 6.04 12 6.598 12H10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,code:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 7L20 12L15 17M9 17L4 12L9 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,unordered:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9 17H19M9 12H19M9 7H19M5.002 17V17.002H5V17H5.002ZM5.002 12V12.002H5V12H5.002ZM5.002 7V7.002H5V7H5.002Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,ordered:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 17H20M4 15.685V15.5C4 15.1022 4.15804 14.7206 4.43934 14.4393C4.72064 14.158 5.10218 14 5.5 14H5.54C6.347 14 7 14.653 7 15.46C7 15.81 6.886 16.152 6.676 16.433L4 20H7M10 12H20M10 7H20M4 5L6 4V10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>  
    `,check:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M8 12L11 15L16 9M4 16.8V7.2C4 6.08 4 5.52 4.218 5.092C4.41 4.715 4.715 4.41 5.092 4.218C5.52 4 6.08 4 7.2 4H16.8C17.92 4 18.48 4 18.907 4.218C19.284 4.41 19.59 4.715 19.782 5.092C20 5.519 20 6.079 20 7.197V16.804C20 17.922 20 18.481 19.782 18.908C19.5899 19.2844 19.2836 19.5903 18.907 19.782C18.48 20 17.921 20 16.803 20H7.197C6.079 20 5.519 20 5.092 19.782C4.71569 19.5903 4.40974 19.2843 4.218 18.908C4 18.48 4 17.92 4 16.8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,link:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9.17196 14.829L14.829 9.17196M7.04996 11.293L5.63596 12.707C5.26451 13.0784 4.96987 13.5194 4.76885 14.0047C4.56782 14.49 4.46436 15.0102 4.46436 15.5355C4.46436 16.0608 4.56782 16.5809 4.76885 17.0662C4.96987 17.5515 5.26451 17.9925 5.63596 18.364C6.0074 18.7354 6.44837 19.03 6.93369 19.2311C7.419 19.4321 7.93916 19.5356 8.46446 19.5356C8.98976 19.5356 9.50992 19.4321 9.99523 19.2311C10.4805 19.03 10.9215 18.7354 11.293 18.364L12.705 16.95M11.292 7.04996L12.706 5.63596C13.0774 5.26451 13.5184 4.96987 14.0037 4.76885C14.489 4.56782 15.0092 4.46436 15.5345 4.46436C16.0598 4.46436 16.5799 4.56782 17.0652 4.76885C17.5505 4.96987 17.9915 5.26451 18.363 5.63596C18.7344 6.0074 19.029 6.44837 19.2301 6.93369C19.4311 7.419 19.5346 7.93916 19.5346 8.46446C19.5346 8.98976 19.4311 9.50992 19.2301 9.99523C19.029 10.4805 18.7344 10.9215 18.363 11.293L16.949 12.707" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,unlink:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 20V18M18 16H20M7.05 11.293L5.636 12.707C4.88584 13.4572 4.4644 14.4746 4.4644 15.5355C4.4644 16.5964 4.88584 17.6138 5.636 18.364C6.38616 19.1142 7.40361 19.5356 8.4645 19.5356C9.52539 19.5356 10.5428 19.1142 11.293 18.364L12.708 16.95M6 8H4M8 4V6M11.293 7.05L12.707 5.636C13.0769 5.25777 13.5182 4.95668 14.0053 4.75017C14.4924 4.54366 15.0156 4.43582 15.5446 4.43291C16.0737 4.43 16.598 4.53206 17.0874 4.7332C17.5767 4.93433 18.0213 5.23054 18.3953 5.60467C18.7694 5.9788 19.0655 6.42342 19.2666 6.91279C19.4676 7.40215 19.5696 7.92654 19.5666 8.45559C19.5636 8.98463 19.4557 9.50783 19.2491 9.99487C19.0425 10.4819 18.7413 10.9231 18.363 11.293L16.949 12.707" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,edit:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
    <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
  </svg>
  `,indent:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_1373_1664)">
  <path d="M19.9999 18C20.2548 18.0003 20.5 18.0979 20.6853 18.2728C20.8706 18.4478 20.9822 18.687 20.9971 18.9414C21.012 19.1958 20.9293 19.4464 20.7657 19.6418C20.6021 19.8373 20.37 19.9629 20.1169 19.993L19.9999 20H3.99994C3.74506 19.9997 3.49991 19.9021 3.31457 19.7272C3.12923 19.5522 3.0177 19.313 3.00277 19.0586C2.98783 18.8042 3.07061 18.5536 3.2342 18.3582C3.39779 18.1627 3.62984 18.0371 3.88294 18.007L3.99994 18H19.9999ZM19.9999 13C20.2652 13 20.5195 13.1054 20.707 13.2929C20.8946 13.4804 20.9999 13.7348 20.9999 14C20.9999 14.2652 20.8946 14.5196 20.707 14.7071C20.5195 14.8946 20.2652 15 19.9999 15H10.9999C10.7347 15 10.4804 14.8946 10.2928 14.7071C10.1053 14.5196 9.99994 14.2652 9.99994 14C9.99994 13.7348 10.1053 13.4804 10.2928 13.2929C10.4804 13.1054 10.7347 13 10.9999 13H19.9999ZM3.64294 9.173L3.93294 9.324L4.27694 9.513C4.33894 9.547 4.40294 9.583 4.46794 9.621L4.88394 9.865L5.10794 10.001L5.58294 10.303C5.83994 10.469 6.07694 10.63 6.29394 10.783L6.70094 11.074L6.88394 11.21L7.20594 11.456L7.46794 11.664C7.68194 11.838 7.67294 12.185 7.44794 12.367L7.18694 12.573L6.86794 12.816L6.49294 13.09L6.28494 13.237L5.82994 13.548L5.58194 13.711C5.41394 13.821 5.25094 13.923 5.09494 14.019L4.64994 14.287L4.25194 14.515L3.90594 14.705L3.61594 14.855C3.36294 14.985 3.09094 14.819 3.06494 14.523L3.02494 14.013L2.98894 13.363L2.97094 12.859L2.96094 12.303V11.694L2.97194 11.109L2.99194 10.582L3.01694 10.118L3.05994 9.552C3.08694 9.235 3.38494 9.042 3.64294 9.172V9.173ZM19.9999 8C20.2652 8 20.5195 8.10536 20.707 8.29289C20.8946 8.48043 20.9999 8.73478 20.9999 9C20.9999 9.26522 20.8946 9.51957 20.707 9.70711C20.5195 9.89464 20.2652 10 19.9999 10H10.9999C10.7347 10 10.4804 9.89464 10.2928 9.70711C10.1053 9.51957 9.99994 9.26522 9.99994 9C9.99994 8.73478 10.1053 8.48043 10.2928 8.29289C10.4804 8.10536 10.7347 8 10.9999 8H19.9999ZM19.9999 3C20.2652 3 20.5195 3.10536 20.707 3.29289C20.8946 3.48043 20.9999 3.73478 20.9999 4C20.9999 4.26522 20.8946 4.51957 20.707 4.70711C20.5195 4.89464 20.2652 5 19.9999 5H3.99994C3.73472 5 3.48037 4.89464 3.29283 4.70711C3.10529 4.51957 2.99994 4.26522 2.99994 4C2.99994 3.73478 3.10529 3.48043 3.29283 3.29289C3.48037 3.10536 3.73472 3 3.99994 3H19.9999Z" fill="currentColor"/>
  </g>
  <defs>
  <clipPath id="clip0_1373_1664">
  <rect width="24" height="24" fill="white"/>
  </clipPath>
  </defs>
  </svg>  
  `,outdent:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_1373_1660)">
  <path d="M20 18C20.2652 18 20.5196 18.1054 20.7071 18.2929C20.8946 18.4804 21 18.7348 21 19C21 19.2652 20.8946 19.5196 20.7071 19.7071C20.5196 19.8946 20.2652 20 20 20H4C3.73478 20 3.48043 19.8946 3.29289 19.7071C3.10536 19.5196 3 19.2652 3 19C3 18.7348 3.10536 18.4804 3.29289 18.2929C3.48043 18.1054 3.73478 18 4 18H20ZM20 13C20.2549 13.0003 20.5 13.0979 20.6854 13.2728C20.8707 13.4478 20.9822 13.687 20.9972 13.9414C21.0121 14.1958 20.9293 14.4464 20.7657 14.6418C20.6021 14.8373 20.3701 14.9629 20.117 14.993L20 15H11C10.7451 14.9997 10.5 14.9021 10.3146 14.7272C10.1293 14.5522 10.0178 14.313 10.0028 14.0586C9.98789 13.8042 10.0707 13.5536 10.2343 13.3582C10.3979 13.1627 10.6299 13.0371 10.883 13.007L11 13H20ZM7.065 9.173C7.322 9.041 7.621 9.235 7.648 9.552L7.69 10.118L7.716 10.582L7.736 11.109L7.742 11.395L7.748 12.007L7.743 12.587L7.729 13.117L7.708 13.594L7.669 14.199L7.643 14.523C7.616 14.819 7.344 14.984 7.091 14.855L6.801 14.705L6.456 14.515L6.058 14.287L5.841 14.158L5.374 13.87L4.878 13.548L4.422 13.238L4.215 13.09L3.84 12.816L3.383 12.466C3.34219 12.4332 3.30152 12.4002 3.261 12.367C3.035 12.185 3.025 11.838 3.241 11.664L3.501 11.456L3.824 11.21L4.203 10.932L4.637 10.627C4.791 10.522 4.954 10.413 5.124 10.302L5.367 10.147L5.824 9.865L6.24 9.621L6.609 9.414L7.065 9.173ZM20 8C20.2652 8 20.5196 8.10536 20.7071 8.29289C20.8946 8.48043 21 8.73478 21 9C21 9.26522 20.8946 9.51957 20.7071 9.70711C20.5196 9.89464 20.2652 10 20 10H11C10.7348 10 10.4804 9.89464 10.2929 9.70711C10.1054 9.51957 10 9.26522 10 9C10 8.73478 10.1054 8.48043 10.2929 8.29289C10.4804 8.10536 10.7348 8 11 8H20ZM20 3C20.2652 3 20.5196 3.10536 20.7071 3.29289C20.8946 3.48043 21 3.73478 21 4C21 4.26522 20.8946 4.51957 20.7071 4.70711C20.5196 4.89464 20.2652 5 20 5H4C3.73478 5 3.48043 4.89464 3.29289 4.70711C3.10536 4.51957 3 4.26522 3 4C3 3.73478 3.10536 3.48043 3.29289 3.29289C3.48043 3.10536 3.73478 3 4 3H20Z" fill="currentColor"/>
  </g>
  <defs>
  <clipPath id="clip0_1373_1660">
  <rect width="24" height="24" fill="white"/>
  </clipPath>
  </defs>
  </svg>  
  `,color:`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M15.246 14H8.754L7.154 18H5L11 3H13L19 18H16.846L15.246 14ZM14.446 12L12 5.885L9.554 12H14.446ZM3 20H21V22H3V20Z" fill="currentColor"/>
  </svg>
  `,fill:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M9.70711 3.22211L2.63611 10.2931C2.26117 10.6682 2.05054 11.1768 2.05054 11.7071C2.05054 12.2374 2.26117 12.7461 2.63611 13.1211L8.29211 18.7781C8.47786 18.9641 8.69843 19.1116 8.94123 19.2122C9.18403 19.3129 9.44428 19.3647 9.70711 19.3647C9.96994 19.3647 10.2302 19.3129 10.473 19.2122C10.7158 19.1116 10.9364 18.9641 11.1221 18.7781L18.1921 11.7071L9.70711 3.22211ZM9.70711 3.22211L8.29311 1.80811" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M20 15C20 15 23 17.993 23 19.887C23 21.542 21.655 22.887 20 22.887C18.344 22.887 17.012 21.542 17 19.887C17.01 17.992 20 15 20 15Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,image:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M9 10C10.1046 10 11 9.10457 11 8C11 6.89543 10.1046 6 9 6C7.89543 6 7 6.89543 7 8C7 9.10457 7.89543 10 9 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M2.67004 18.9501L7.60004 15.6401C8.39004 15.1101 9.53004 15.1701 10.24 15.7801L10.57 16.0701C11.35 16.7401 12.61 16.7401 13.39 16.0701L17.55 12.5001C18.33 11.8301 19.59 11.8301 20.37 12.5001L22 13.9001" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,upload:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11 16V7.85L8.4 10.45L7 9L12 4L17 9L15.6 10.45L13 7.85V16H11ZM6 20C5.45 20 4.97933 19.8043 4.588 19.413C4.19667 19.0217 4.00067 18.5507 4 18V15H6V18H18V15H20V18C20 18.55 19.8043 19.021 19.413 19.413C19.0217 19.805 18.5507 20.0007 18 20H6Z" fill="currentColor"/>
  </svg>
  `,error:`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M12 16.462C12.1747 16.462 12.3207 16.403 12.438 16.285C12.556 16.167 12.615 16.0207 12.615 15.846C12.615 15.672 12.556 15.526 12.438 15.408C12.3207 15.29 12.1747 15.231 12 15.231C11.8253 15.231 11.6793 15.29 11.562 15.408C11.444 15.526 11.385 15.672 11.385 15.846C11.385 16.0207 11.444 16.167 11.562 16.285C11.6793 16.403 11.8253 16.462 12 16.462ZM11.5 13.154H12.5V7.154H11.5V13.154ZM12.003 21C10.759 21 9.589 20.764 8.493 20.292C7.39767 19.8193 6.44467 19.178 5.634 18.368C4.82333 17.5587 4.18167 16.6067 3.709 15.512C3.23633 14.4173 3 13.2477 3 12.003C3 10.759 3.236 9.589 3.708 8.493C4.18067 7.39767 4.822 6.44467 5.632 5.634C6.44133 4.82333 7.39333 4.18167 8.488 3.709C9.58267 3.23633 10.7523 3 11.997 3C13.241 3 14.411 3.236 15.507 3.708C16.6023 4.18067 17.5553 4.822 18.366 5.632C19.1767 6.44133 19.8183 7.39333 20.291 8.488C20.7637 9.58267 21 10.7523 21 11.997C21 13.241 20.764 14.411 20.292 15.507C19.8193 16.6023 19.178 17.5553 18.368 18.366C17.5587 19.1767 16.6067 19.8183 15.512 20.291C14.4173 20.7637 13.2477 21 12.003 21Z" fill="currentColor"/>
  </svg>
  `,reset:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.08918 7.41366C5.20086 5.49505 6.97192 4.04582 9.07259 3.33583C11.1733 2.62584 13.4604 2.70347 15.5081 3.55427C17.5558 4.40507 19.2245 5.97105 20.2035 7.96063C21.1825 9.95021 21.4051 12.2278 20.8299 14.3693C20.2546 16.5108 18.9207 18.3702 17.0765 19.6014C15.2323 20.8326 13.0035 21.3516 10.8051 21.0618C8.60669 20.772 6.58854 19.6931 5.1264 18.026C3.66427 16.359 2.85781 14.2174 2.85718 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M8.57143 7.42812H4V2.85669" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,editImage:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M16.7989 9.0001C16.7989 9.47749 16.6093 9.93532 16.2717 10.2729C15.9341 10.6105 15.4763 10.8001 14.9989 10.8001C14.5215 10.8001 14.0637 10.6105 13.7261 10.2729C13.3885 9.93532 13.1989 9.47749 13.1989 9.0001C13.1989 8.52271 13.3885 8.06487 13.7261 7.72731C14.0637 7.38974 14.5215 7.2001 14.9989 7.2001C15.4763 7.2001 15.9341 7.38974 16.2717 7.72731C16.6093 8.06487 16.7989 8.52271 16.7989 9.0001ZM15.5989 9.0001C15.5989 8.84097 15.5357 8.68836 15.4232 8.57583C15.3106 8.46331 15.158 8.4001 14.9989 8.4001C14.8398 8.4001 14.6872 8.46331 14.5746 8.57583C14.4621 8.68836 14.3989 8.84097 14.3989 9.0001C14.3989 9.15923 14.4621 9.31184 14.5746 9.42436C14.6872 9.53688 14.8398 9.6001 14.9989 9.6001C15.158 9.6001 15.3106 9.53688 15.4232 9.42436C15.5357 9.31184 15.5989 9.15923 15.5989 9.0001ZM3.6001 7.2001C3.6001 6.24532 3.97938 5.32964 4.65451 4.65451C5.32964 3.97938 6.24532 3.6001 7.2001 3.6001H16.7989C17.7537 3.6001 18.6694 3.97938 19.3445 4.65451C20.0196 5.32964 20.3989 6.24532 20.3989 7.2001V10.8025C19.9856 10.8213 19.5791 10.9144 19.1989 11.0773V7.2001C19.1989 6.56358 18.946 5.95313 18.496 5.50304C18.0459 5.05295 17.4354 4.8001 16.7989 4.8001H7.1989C6.56238 4.8001 5.95193 5.05295 5.50184 5.50304C5.05175 5.95313 4.7989 6.56358 4.7989 7.2001V16.7989C4.7989 17.2453 4.9225 17.6641 5.1349 18.0229L10.7377 12.5173C11.0743 12.1868 11.5272 12.0016 11.9989 12.0016C12.4706 12.0016 12.9235 12.1868 13.2601 12.5173L15.3541 14.5753L14.5057 15.4237L12.4201 13.3729C12.3079 13.2626 12.1568 13.2008 11.9995 13.2008C11.8422 13.2008 11.6911 13.2626 11.5789 13.3729L5.9857 18.8689C6.35359 19.0859 6.77296 19.2003 7.2001 19.2001H11.3689C11.3497 19.2601 11.3329 19.3237 11.3173 19.3861L11.0641 20.4001H7.2001C6.24532 20.4001 5.32964 20.0208 4.65451 19.3457C3.97938 18.6706 3.6001 17.7549 3.6001 16.8001V7.2001ZM13.1749 18.4513L18.9697 12.6553C19.3908 12.2346 19.9617 11.9983 20.5569 11.9985C21.1522 11.9988 21.723 12.2354 22.1437 12.6565C22.5644 13.0776 22.8007 13.6485 22.8005 14.2437C22.8002 14.839 22.5636 15.4098 22.1425 15.8305L16.3477 21.6241C16.0101 21.9619 15.587 22.2016 15.1237 22.3177L13.3261 22.7677C13.1473 22.8121 12.9601 22.8095 12.7826 22.7601C12.6051 22.7107 12.4435 22.6163 12.3133 22.486C12.1831 22.3557 12.0888 22.1939 12.0396 22.0164C11.9904 21.8389 11.988 21.6516 12.0325 21.4729L12.4813 19.6753C12.5977 19.2121 12.8365 18.7885 13.1749 18.4513Z" fill="currentColor"/>
  </svg>
  `,video:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M9.1001 12V10.52C9.1001 8.60999 10.4501 7.83999 12.1001 8.78999L13.3801 9.52999L14.6601 10.27C16.3101 11.22 16.3101 12.78 14.6601 13.73L13.3801 14.47L12.1001 15.21C10.4501 16.16 9.1001 15.38 9.1001 13.48V12Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,fit:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5" />
</svg>
`,ltr:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M21 18L17 14V17H5V19H17V22M9 10V15H11V4H13V15H15V4H17V2H9C7.93913 2 6.92172 2.42143 6.17157 3.17157C5.42143 3.92172 5 4.93913 5 6C5 7.06087 5.42143 8.07828 6.17157 8.82843C6.92172 9.57857 7.93913 10 9 10Z" fill="currentColor"/>
</svg>
`,rtl:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 17V14L4 18L8 22V19H20V17M10 10V15H12V4H14V15H16V4H18V2H10C8.93913 2 7.92172 2.42143 7.17157 3.17157C6.42143 3.92172 6 4.93913 6 6C6 7.06087 6.42143 8.07828 7.17157 8.82843C7.92172 9.57857 8.93913 10 10 10Z" fill="currentColor"/>
</svg>
`,table:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2.25 5.625C2.25 4.72989 2.60558 3.87145 3.23851 3.23851C3.87145 2.60558 4.72989 2.25 5.625 2.25H18.375C19.2701 2.25 20.1285 2.60558 20.7615 3.23851C21.3944 3.87145 21.75 4.72989 21.75 5.625V18.375C21.75 19.2701 21.3944 20.1285 20.7615 20.7615C20.1285 21.3944 19.2701 21.75 18.375 21.75H5.625C4.72989 21.75 3.87145 21.3944 3.23851 20.7615C2.60558 20.1285 2.25 19.2701 2.25 18.375V5.625ZM5.625 3.75C5.12772 3.75 4.65081 3.94754 4.29917 4.29917C3.94754 4.65081 3.75 5.12772 3.75 5.625V11.25H11.25V3.75H5.625ZM12.75 3.75V11.25H20.25V5.625C20.25 5.12772 20.0525 4.65081 19.7008 4.29917C19.3492 3.94754 18.8723 3.75 18.375 3.75H12.75ZM11.25 12.75H3.75V18.375C3.75 18.8723 3.94754 19.3492 4.29917 19.7008C4.65081 20.0525 5.12772 20.25 5.625 20.25H11.25V12.75ZM12.75 20.25H18.375C18.8723 20.25 19.3492 20.0525 19.7008 19.7008C20.0525 19.3492 20.25 18.8723 20.25 18.375V12.75H12.75V20.25Z" fill="currentColor"/>
</svg>`,"caret-down":`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor">
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
</svg>

`};/*!
* Cropper.js v1.6.2
* https://fengyuanchen.github.io/cropperjs
*
* Copyright 2015-present Chen Fengyuan
* Released under the MIT license
*
* Date: 2024-04-21T07:43:05.335Z
*/function Ra(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,i)}return e}function Rc(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ra(Object(e),!0).forEach(function(i){Bh(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ra(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Ph(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Hc(n){var t=Ph(n,"string");return typeof t=="symbol"?t:t+""}function fr(n){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(n)}function Rh(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Hc(i.key),i)}}function Hh(n,t,e){return Ha(n.prototype,t),Ha(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Bh(n,t,e){return t=Hc(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Bc(n){return Wh(n)||zh(n)||$h(n)||Uh()}function Wh(n){if(Array.isArray(n))return mr(n)}function zh(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $h(n,t){if(n){if(typeof n=="string")return mr(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return mr(n,t)}}function mr(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function Uh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _o=typeof window<"u"&&typeof window.document<"u",le=_o?window:{},as=_o&&le.document.documentElement?"ontouchstart"in le.document.documentElement:!1,ls=_o?"PointerEvent"in le:!1,ut="cropper",cs="all",Wc="crop",zc="move",$c="zoom",De="e",Ie="w",on="s",we="n",Pn="ne",Rn="nw",Hn="se",Bn="sw",yr="".concat(ut,"-crop"),Ba="".concat(ut,"-disabled"),It="".concat(ut,"-hidden"),Wa="".concat(ut,"-hide"),jh="".concat(ut,"-invisible"),Qi="".concat(ut,"-modal"),_r="".concat(ut,"-move"),si="".concat(ut,"Action"),Li="".concat(ut,"Preview"),us="crop",Uc="move",jc="none",br="crop",vr="cropend",wr="cropmove",xr="cropstart",za="dblclick",Vh=as?"touchstart":"mousedown",Kh=as?"touchmove":"mousemove",Zh=as?"touchend touchcancel":"mouseup",$a=ls?"pointerdown":Vh,Ua=ls?"pointermove":Kh,ja=ls?"pointerup pointercancel":Zh,Va="ready",Ka="resize",Za="wheel",Cr="zoom",Ya="image/jpeg",Yh=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,qh=/^data:/,Xh=/^data:image\/jpeg;base64,/,Jh=/^img|canvas$/i,Vc=200,Kc=100,qa={viewMode:0,dragMode:us,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Vc,minContainerHeight:Kc,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Gh='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Qh=Number.isNaN||le.isNaN;function Q(n){return typeof n=="number"&&!Qh(n)}var Xa=function(n){return n>0&&n<1/0};function Uo(n){return typeof n>"u"}function Xe(n){return fr(n)==="object"&&n!==null}var tp=Object.prototype.hasOwnProperty;function hn(n){if(!Xe(n))return!1;try{var t=n.constructor,e=t.prototype;return t&&e&&tp.call(e,"isPrototypeOf")}catch{return!1}}function Dt(n){return typeof n=="function"}var ep=Array.prototype.slice;function Zc(n){return Array.from?Array.from(n):ep.call(n)}function mt(n,t){return n&&Dt(t)&&(Array.isArray(n)||Q(n.length)?Zc(n).forEach(function(e,i){t.call(n,e,i,n)}):Xe(n)&&Object.keys(n).forEach(function(e){t.call(n,n[e],e,n)})),n}var dt=Object.assign||function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return Xe(n)&&e.length>0&&e.forEach(function(o){Xe(o)&&Object.keys(o).forEach(function(r){n[r]=o[r]})}),n},np=/\.\d*(?:0|9){12}\d*$/;function yn(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return np.test(n)?Math.round(n*t)/t:n}var ip=/^width|height|left|top|marginLeft|marginTop$/;function Ee(n,t){var e=n.style;mt(t,function(i,o){ip.test(o)&&Q(i)&&(i="".concat(i,"px")),e[o]=i})}function op(n,t){return n.classList?n.classList.contains(t):n.className.indexOf(t)>-1}function vt(n,t){if(t){if(Q(n.length)){mt(n,function(i){vt(i,t)});return}if(n.classList){n.classList.add(t);return}var e=n.className.trim();e?e.indexOf(t)<0&&(n.className="".concat(e," ").concat(t)):n.className=t}}function ie(n,t){if(t){if(Q(n.length)){mt(n,function(e){ie(e,t)});return}if(n.classList){n.classList.remove(t);return}n.className.indexOf(t)>=0&&(n.className=n.className.replace(t,""))}}function pn(n,t,e){if(t){if(Q(n.length)){mt(n,function(i){pn(i,t,e)});return}e?vt(n,t):ie(n,t)}}var rp=/([a-z\d])([A-Z])/g;function ds(n){return n.replace(rp,"$1-$2").toLowerCase()}function kr(n,t){return Xe(n[t])?n[t]:n.dataset?n.dataset[t]:n.getAttribute("data-".concat(ds(t)))}function ai(n,t,e){Xe(e)?n[t]=e:n.dataset?n.dataset[t]=e:n.setAttribute("data-".concat(ds(t)),e)}function sp(n,t){if(Xe(n[t]))try{delete n[t]}catch{n[t]=void 0}else if(n.dataset)try{delete n.dataset[t]}catch{n.dataset[t]=void 0}else n.removeAttribute("data-".concat(ds(t)))}var Yc=/\s\s*/,qc=function(){var n=!1;if(_o){var t=!1,e=function(){},i=Object.defineProperty({},"once",{get:function(){return n=!0,t},set:function(o){t=o}});le.addEventListener("test",e,i),le.removeEventListener("test",e,i)}return n}();function Vt(n,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=e;t.trim().split(Yc).forEach(function(r){if(!qc){var s=n.listeners;s&&s[r]&&s[r][e]&&(o=s[r][e],delete s[r][e],Object.keys(s[r]).length===0&&delete s[r],Object.keys(s).length===0&&delete n.listeners)}n.removeEventListener(r,o,i)})}function Ut(n,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=e;t.trim().split(Yc).forEach(function(r){if(i.once&&!qc){var s=n.listeners,a=s===void 0?{}:s;o=function(){delete a[r][e],n.removeEventListener(r,o,i);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];e.apply(n,c)},a[r]||(a[r]={}),a[r][e]&&n.removeEventListener(r,a[r][e],i),a[r][e]=o,n.listeners=a}n.addEventListener(r,o,i)})}function _n(n,t,e){var i;return Dt(Event)&&Dt(CustomEvent)?i=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,e)),n.dispatchEvent(i)}function Xc(n){var t=n.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var jo=le.location,ap=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ja(n){var t=n.match(ap);return t!==null&&(t[1]!==jo.protocol||t[2]!==jo.hostname||t[3]!==jo.port)}function Ga(n){var t="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+t}function Jn(n){var t=n.rotate,e=n.scaleX,i=n.scaleY,o=n.translateX,r=n.translateY,s=[];Q(o)&&o!==0&&s.push("translateX(".concat(o,"px)")),Q(r)&&r!==0&&s.push("translateY(".concat(r,"px)")),Q(t)&&t!==0&&s.push("rotate(".concat(t,"deg)")),Q(e)&&e!==1&&s.push("scaleX(".concat(e,")")),Q(i)&&i!==1&&s.push("scaleY(".concat(i,")"));var a=s.length?s.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function lp(n){var t=Rc({},n),e=0;return mt(n,function(i,o){delete t[o],mt(t,function(r){var s=Math.abs(i.startX-r.startX),a=Math.abs(i.startY-r.startY),l=Math.abs(i.endX-r.endX),c=Math.abs(i.endY-r.endY),u=Math.sqrt(s*s+a*a),h=Math.sqrt(l*l+c*c),d=(h-u)/u;Math.abs(d)>Math.abs(e)&&(e=d)})}),e}function Ai(n,t){var e=n.pageX,i=n.pageY,o={endX:e,endY:i};return t?o:Rc({startX:e,startY:i},o)}function cp(n){var t=0,e=0,i=0;return mt(n,function(o){var r=o.startX,s=o.startY;t+=r,e+=s,i+=1}),t/=i,e/=i,{pageX:t,pageY:e}}function Te(n){var t=n.aspectRatio,e=n.height,i=n.width,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",r=Xa(i),s=Xa(e);if(r&&s){var a=e*t;o==="contain"&&a>i||o==="cover"&&a<i?e=i/t:i=e*t}else r?e=i/t:s&&(i=e*t);return{width:i,height:e}}function up(n){var t=n.width,e=n.height,i=n.degree;if(i=Math.abs(i)%180,i===90)return{width:e,height:t};var o=i%90*Math.PI/180,r=Math.sin(o),s=Math.cos(o),a=t*s+e*r,l=t*r+e*s;return i>90?{width:l,height:a}:{width:a,height:l}}function dp(n,t,e,i){var o=t.aspectRatio,r=t.naturalWidth,s=t.naturalHeight,a=t.rotate,l=a===void 0?0:a,c=t.scaleX,u=c===void 0?1:c,h=t.scaleY,d=h===void 0?1:h,p=e.aspectRatio,g=e.naturalWidth,y=e.naturalHeight,_=i.fillColor,w=_===void 0?"transparent":_,f=i.imageSmoothingEnabled,m=f===void 0?!0:f,b=i.imageSmoothingQuality,v=b===void 0?"low":b,x=i.maxWidth,E=x===void 0?1/0:x,k=i.maxHeight,S=k===void 0?1/0:k,R=i.minWidth,z=R===void 0?0:R,K=i.minHeight,j=K===void 0?0:K,Z=document.createElement("canvas"),q=Z.getContext("2d"),I=Te({aspectRatio:p,width:E,height:S}),C=Te({aspectRatio:p,width:z,height:j},"cover"),T=Math.min(I.width,Math.max(C.width,g)),A=Math.min(I.height,Math.max(C.height,y)),D=Te({aspectRatio:o,width:E,height:S}),L=Te({aspectRatio:o,width:z,height:j},"cover"),N=Math.min(D.width,Math.max(L.width,r)),O=Math.min(D.height,Math.max(L.height,s)),M=[-N/2,-O/2,N,O];return Z.width=yn(T),Z.height=yn(A),q.fillStyle=w,q.fillRect(0,0,T,A),q.save(),q.translate(T/2,A/2),q.rotate(l*Math.PI/180),q.scale(u,d),q.imageSmoothingEnabled=m,q.imageSmoothingQuality=v,q.drawImage.apply(q,[n].concat(Bc(M.map(function(B){return Math.floor(yn(B))})))),q.restore(),Z}var Jc=String.fromCharCode;function hp(n,t,e){var i="";e+=t;for(var o=t;o<e;o+=1)i+=Jc(n.getUint8(o));return i}var pp=/^data:.*,/;function gp(n){var t=n.replace(pp,""),e=atob(t),i=new ArrayBuffer(e.length),o=new Uint8Array(i);return mt(o,function(r,s){o[s]=e.charCodeAt(s)}),i}function fp(n,t){for(var e=[],i=8192,o=new Uint8Array(n);o.length>0;)e.push(Jc.apply(null,Zc(o.subarray(0,i)))),o=o.subarray(i);return"data:".concat(t,";base64,").concat(btoa(e.join("")))}function mp(n){var t=new DataView(n),e;try{var i,o,r;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var s=t.byteLength,a=2;a+1<s;){if(t.getUint8(a)===255&&t.getUint8(a+1)===225){o=a;break}a+=1}if(o){var l=o+4,c=o+10;if(hp(t,l,4)==="Exif"){var u=t.getUint16(c);if(i=u===18761,(i||u===19789)&&t.getUint16(c+2,i)===42){var h=t.getUint32(c+4,i);h>=8&&(r=c+h)}}}if(r){var d=t.getUint16(r,i),p,g;for(g=0;g<d;g+=1)if(p=r+g*12+2,t.getUint16(p,i)===274){p+=8,e=t.getUint16(p,i),t.setUint16(p,1,i);break}}}catch{e=1}return e}function yp(n){var t=0,e=1,i=1;switch(n){case 2:e=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,e=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:e,scaleY:i}}var _p={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var n=this.element,t=this.options,e=this.container,i=this.cropper,o=Number(t.minContainerWidth),r=Number(t.minContainerHeight);vt(i,It),ie(n,It);var s={width:Math.max(e.offsetWidth,o>=0?o:Vc),height:Math.max(e.offsetHeight,r>=0?r:Kc)};this.containerData=s,Ee(i,{width:s.width,height:s.height}),vt(n,It),ie(i,It)},initCanvas:function(){var n=this.containerData,t=this.imageData,e=this.options.viewMode,i=Math.abs(t.rotate)%180===90,o=i?t.naturalHeight:t.naturalWidth,r=i?t.naturalWidth:t.naturalHeight,s=o/r,a=n.width,l=n.height;n.height*s>n.width?e===3?a=n.height*s:l=n.width/s:e===3?l=n.width/s:a=n.height*s;var c={aspectRatio:s,naturalWidth:o,naturalHeight:r,width:a,height:l};this.canvasData=c,this.limited=e===1||e===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(n.width-c.width)/2,c.top=(n.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=dt({},c)},limitCanvas:function(n,t){var e=this.options,i=this.containerData,o=this.canvasData,r=this.cropBoxData,s=e.viewMode,a=o.aspectRatio,l=this.cropped&&r;if(n){var c=Number(e.minCanvasWidth)||0,u=Number(e.minCanvasHeight)||0;s>1?(c=Math.max(c,i.width),u=Math.max(u,i.height),s===3&&(u*a>c?c=u*a:u=c/a)):s>0&&(c?c=Math.max(c,l?r.width:0):u?u=Math.max(u,l?r.height:0):l&&(c=r.width,u=r.height,u*a>c?c=u*a:u=c/a));var h=Te({aspectRatio:a,width:c,height:u});c=h.width,u=h.height,o.minWidth=c,o.minHeight=u,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(s>(l?0:1)){var d=i.width-o.width,p=i.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,p),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,p),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+(r.width-o.width)),o.minTop=Math.min(r.top,r.top+(r.height-o.height)),o.maxLeft=r.left,o.maxTop=r.top,s===2&&(o.width>=i.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=i.height&&(o.minTop=Math.min(0,p),o.maxTop=Math.max(0,p))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(n,t){var e=this.canvasData,i=this.imageData;if(t){var o=up({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),r=o.width,s=o.height,a=e.width*(r/e.naturalWidth),l=e.height*(s/e.naturalHeight);e.left-=(a-e.width)/2,e.top-=(l-e.height)/2,e.width=a,e.height=l,e.aspectRatio=r/s,e.naturalWidth=r,e.naturalHeight=s,this.limitCanvas(!0,!1)}(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCanvas(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,Ee(this.canvas,dt({width:e.width,height:e.height},Jn({translateX:e.left,translateY:e.top}))),this.renderImage(n),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(n){var t=this.canvasData,e=this.imageData,i=e.naturalWidth*(t.width/t.naturalWidth),o=e.naturalHeight*(t.height/t.naturalHeight);dt(e,{width:i,height:o,left:(t.width-i)/2,top:(t.height-o)/2}),Ee(this.image,dt({width:e.width,height:e.height},Jn(dt({translateX:e.left,translateY:e.top},e)))),n&&this.output()},initCropBox:function(){var n=this.options,t=this.canvasData,e=n.aspectRatio||n.initialAspectRatio,i=Number(n.autoCropArea)||.8,o={width:t.width,height:t.height};e&&(t.height*e>t.width?o.height=o.width/e:o.width=o.height*e),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=dt({},o)},limitCropBox:function(n,t){var e=this.options,i=this.containerData,o=this.canvasData,r=this.cropBoxData,s=this.limited,a=e.aspectRatio;if(n){var l=Number(e.minCropBoxWidth)||0,c=Number(e.minCropBoxHeight)||0,u=s?Math.min(i.width,o.width,o.width+o.left,i.width-o.left):i.width,h=s?Math.min(i.height,o.height,o.height+o.top,i.height-o.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),a&&(l&&c?c*a>l?c=l/a:l=c*a:l?c=l/a:c&&(l=c*a),h*a>u?h=u/a:u=h*a),r.minWidth=Math.min(l,u),r.minHeight=Math.min(c,h),r.maxWidth=u,r.maxHeight=h}t&&(s?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(i.width,o.left+o.width)-r.width,r.maxTop=Math.min(i.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=i.width-r.width,r.maxTop=i.height-r.height))},renderCropBox:function(){var n=this.options,t=this.containerData,e=this.cropBoxData;(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCropBox(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,n.movable&&n.cropBoxMovable&&ai(this.face,si,e.width>=t.width&&e.height>=t.height?zc:cs),Ee(this.cropBox,dt({width:e.width,height:e.height},Jn({translateX:e.left,translateY:e.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),_n(this.element,br,this.getData())}},bp={initPreview:function(){var n=this.element,t=this.crossOrigin,e=this.options.preview,i=t?this.crossOriginUrl:this.url,o=n.alt||"The image to preview",r=document.createElement("img");if(t&&(r.crossOrigin=t),r.src=i,r.alt=o,this.viewBox.appendChild(r),this.viewBoxImage=r,!!e){var s=e;typeof e=="string"?s=n.ownerDocument.querySelectorAll(e):e.querySelector&&(s=[e]),this.previews=s,mt(s,function(a){var l=document.createElement("img");ai(a,Li,{width:a.offsetWidth,height:a.offsetHeight,html:a.innerHTML}),t&&(l.crossOrigin=t),l.src=i,l.alt=o,l.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',a.innerHTML="",a.appendChild(l)})}},resetPreview:function(){mt(this.previews,function(n){var t=kr(n,Li);Ee(n,{width:t.width,height:t.height}),n.innerHTML=t.html,sp(n,Li)})},preview:function(){var n=this.imageData,t=this.canvasData,e=this.cropBoxData,i=e.width,o=e.height,r=n.width,s=n.height,a=e.left-t.left-n.left,l=e.top-t.top-n.top;!this.cropped||this.disabled||(Ee(this.viewBoxImage,dt({width:r,height:s},Jn(dt({translateX:-a,translateY:-l},n)))),mt(this.previews,function(c){var u=kr(c,Li),h=u.width,d=u.height,p=h,g=d,y=1;i&&(y=h/i,g=o*y),o&&g>d&&(y=d/o,p=i*y,g=d),Ee(c,{width:p,height:g}),Ee(c.getElementsByTagName("img")[0],dt({width:r*y,height:s*y},Jn(dt({translateX:-a*y,translateY:-l*y},n))))}))}},vp={bind:function(){var n=this.element,t=this.options,e=this.cropper;Dt(t.cropstart)&&Ut(n,xr,t.cropstart),Dt(t.cropmove)&&Ut(n,wr,t.cropmove),Dt(t.cropend)&&Ut(n,vr,t.cropend),Dt(t.crop)&&Ut(n,br,t.crop),Dt(t.zoom)&&Ut(n,Cr,t.zoom),Ut(e,$a,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Ut(e,Za,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Ut(e,za,this.onDblclick=this.dblclick.bind(this)),Ut(n.ownerDocument,Ua,this.onCropMove=this.cropMove.bind(this)),Ut(n.ownerDocument,ja,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Ut(window,Ka,this.onResize=this.resize.bind(this))},unbind:function(){var n=this.element,t=this.options,e=this.cropper;Dt(t.cropstart)&&Vt(n,xr,t.cropstart),Dt(t.cropmove)&&Vt(n,wr,t.cropmove),Dt(t.cropend)&&Vt(n,vr,t.cropend),Dt(t.crop)&&Vt(n,br,t.crop),Dt(t.zoom)&&Vt(n,Cr,t.zoom),Vt(e,$a,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Vt(e,Za,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Vt(e,za,this.onDblclick),Vt(n.ownerDocument,Ua,this.onCropMove),Vt(n.ownerDocument,ja,this.onCropEnd),t.responsive&&Vt(window,Ka,this.onResize)}},wp={resize:function(){if(!this.disabled){var n=this.options,t=this.container,e=this.containerData,i=t.offsetWidth/e.width,o=t.offsetHeight/e.height,r=Math.abs(i-1)>Math.abs(o-1)?i:o;if(r!==1){var s,a;n.restore&&(s=this.getCanvasData(),a=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(mt(s,function(l,c){s[c]=l*r})),this.setCropBoxData(mt(a,function(l,c){a[c]=l*r})))}}},dblclick:function(){this.disabled||this.options.dragMode===jc||this.setDragMode(op(this.dragBox,yr)?Uc:us)},wheel:function(n){var t=this,e=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(n.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),n.deltaY?i=n.deltaY>0?1:-1:n.wheelDelta?i=-n.wheelDelta/120:n.detail&&(i=n.detail>0?1:-1),this.zoom(-i*e,n)))},cropStart:function(n){var t=n.buttons,e=n.button;if(!(this.disabled||(n.type==="mousedown"||n.type==="pointerdown"&&n.pointerType==="mouse")&&(Q(t)&&t!==1||Q(e)&&e!==0||n.ctrlKey))){var i=this.options,o=this.pointers,r;n.changedTouches?mt(n.changedTouches,function(s){o[s.identifier]=Ai(s)}):o[n.pointerId||0]=Ai(n),Object.keys(o).length>1&&i.zoomable&&i.zoomOnTouch?r=$c:r=kr(n.target,si),Yh.test(r)&&_n(this.element,xr,{originalEvent:n,action:r})!==!1&&(n.preventDefault(),this.action=r,this.cropping=!1,r===Wc&&(this.cropping=!0,vt(this.dragBox,Qi)))}},cropMove:function(n){var t=this.action;if(!(this.disabled||!t)){var e=this.pointers;n.preventDefault(),_n(this.element,wr,{originalEvent:n,action:t})!==!1&&(n.changedTouches?mt(n.changedTouches,function(i){dt(e[i.identifier]||{},Ai(i,!0))}):dt(e[n.pointerId||0]||{},Ai(n,!0)),this.change(n))}},cropEnd:function(n){if(!this.disabled){var t=this.action,e=this.pointers;n.changedTouches?mt(n.changedTouches,function(i){delete e[i.identifier]}):delete e[n.pointerId||0],t&&(n.preventDefault(),Object.keys(e).length||(this.action=""),this.cropping&&(this.cropping=!1,pn(this.dragBox,Qi,this.cropped&&this.options.modal)),_n(this.element,vr,{originalEvent:n,action:t}))}}},xp={change:function(n){var t=this.options,e=this.canvasData,i=this.containerData,o=this.cropBoxData,r=this.pointers,s=this.action,a=t.aspectRatio,l=o.left,c=o.top,u=o.width,h=o.height,d=l+u,p=c+h,g=0,y=0,_=i.width,w=i.height,f=!0,m;!a&&n.shiftKey&&(a=u&&h?u/h:1),this.limited&&(g=o.minLeft,y=o.minTop,_=g+Math.min(i.width,e.width,e.left+e.width),w=y+Math.min(i.height,e.height,e.top+e.height));var b=r[Object.keys(r)[0]],v={x:b.endX-b.startX,y:b.endY-b.startY},x=function(E){switch(E){case De:d+v.x>_&&(v.x=_-d);break;case Ie:l+v.x<g&&(v.x=g-l);break;case we:c+v.y<y&&(v.y=y-c);break;case on:p+v.y>w&&(v.y=w-p);break}};switch(s){case cs:l+=v.x,c+=v.y;break;case De:if(v.x>=0&&(d>=_||a&&(c<=y||p>=w))){f=!1;break}x(De),u+=v.x,u<0&&(s=Ie,u=-u,l-=u),a&&(h=u/a,c+=(o.height-h)/2);break;case we:if(v.y<=0&&(c<=y||a&&(l<=g||d>=_))){f=!1;break}x(we),h-=v.y,c+=v.y,h<0&&(s=on,h=-h,c-=h),a&&(u=h*a,l+=(o.width-u)/2);break;case Ie:if(v.x<=0&&(l<=g||a&&(c<=y||p>=w))){f=!1;break}x(Ie),u-=v.x,l+=v.x,u<0&&(s=De,u=-u,l-=u),a&&(h=u/a,c+=(o.height-h)/2);break;case on:if(v.y>=0&&(p>=w||a&&(l<=g||d>=_))){f=!1;break}x(on),h+=v.y,h<0&&(s=we,h=-h,c-=h),a&&(u=h*a,l+=(o.width-u)/2);break;case Pn:if(a){if(v.y<=0&&(c<=y||d>=_)){f=!1;break}x(we),h-=v.y,c+=v.y,u=h*a}else x(we),x(De),v.x>=0?d<_?u+=v.x:v.y<=0&&c<=y&&(f=!1):u+=v.x,v.y<=0?c>y&&(h-=v.y,c+=v.y):(h-=v.y,c+=v.y);u<0&&h<0?(s=Bn,h=-h,u=-u,c-=h,l-=u):u<0?(s=Rn,u=-u,l-=u):h<0&&(s=Hn,h=-h,c-=h);break;case Rn:if(a){if(v.y<=0&&(c<=y||l<=g)){f=!1;break}x(we),h-=v.y,c+=v.y,u=h*a,l+=o.width-u}else x(we),x(Ie),v.x<=0?l>g?(u-=v.x,l+=v.x):v.y<=0&&c<=y&&(f=!1):(u-=v.x,l+=v.x),v.y<=0?c>y&&(h-=v.y,c+=v.y):(h-=v.y,c+=v.y);u<0&&h<0?(s=Hn,h=-h,u=-u,c-=h,l-=u):u<0?(s=Pn,u=-u,l-=u):h<0&&(s=Bn,h=-h,c-=h);break;case Bn:if(a){if(v.x<=0&&(l<=g||p>=w)){f=!1;break}x(Ie),u-=v.x,l+=v.x,h=u/a}else x(on),x(Ie),v.x<=0?l>g?(u-=v.x,l+=v.x):v.y>=0&&p>=w&&(f=!1):(u-=v.x,l+=v.x),v.y>=0?p<w&&(h+=v.y):h+=v.y;u<0&&h<0?(s=Pn,h=-h,u=-u,c-=h,l-=u):u<0?(s=Hn,u=-u,l-=u):h<0&&(s=Rn,h=-h,c-=h);break;case Hn:if(a){if(v.x>=0&&(d>=_||p>=w)){f=!1;break}x(De),u+=v.x,h=u/a}else x(on),x(De),v.x>=0?d<_?u+=v.x:v.y>=0&&p>=w&&(f=!1):u+=v.x,v.y>=0?p<w&&(h+=v.y):h+=v.y;u<0&&h<0?(s=Rn,h=-h,u=-u,c-=h,l-=u):u<0?(s=Bn,u=-u,l-=u):h<0&&(s=Pn,h=-h,c-=h);break;case zc:this.move(v.x,v.y),f=!1;break;case $c:this.zoom(lp(r),n),f=!1;break;case Wc:if(!v.x||!v.y){f=!1;break}m=Xc(this.cropper),l=b.startX-m.left,c=b.startY-m.top,u=o.minWidth,h=o.minHeight,v.x>0?s=v.y>0?Hn:Pn:v.x<0&&(l-=u,s=v.y>0?Bn:Rn),v.y<0&&(c-=h),this.cropped||(ie(this.cropBox,It),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}f&&(o.width=u,o.height=h,o.left=l,o.top=c,this.action=s,this.renderCropBox()),mt(r,function(E){E.startX=E.endX,E.startY=E.endY})}},Cp={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&vt(this.dragBox,Qi),ie(this.cropBox,It),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=dt({},this.initialImageData),this.canvasData=dt({},this.initialCanvasData),this.cropBoxData=dt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(dt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ie(this.dragBox,Qi),vt(this.cropBox,It)),this},replace:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&n&&(this.isImg&&(this.element.src=n),t?(this.url=n,this.image.src=n,this.ready&&(this.viewBoxImage.src=n,mt(this.previews,function(e){e.getElementsByTagName("img")[0].src=n}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(n))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ie(this.cropper,Ba)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,vt(this.cropper,Ba)),this},destroy:function(){var n=this.element;return n[ut]?(n[ut]=void 0,this.isImg&&this.replaced&&(n.src=this.originalUrl),this.uncreate(),this):this},move:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,e=this.canvasData,i=e.left,o=e.top;return this.moveTo(Uo(n)?n:i+Number(n),Uo(t)?t:o+Number(t))},moveTo:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,e=this.canvasData,i=!1;return n=Number(n),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(Q(n)&&(e.left=n,i=!0),Q(t)&&(e.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(n,t){var e=this.canvasData;return n=Number(n),n<0?n=1/(1-n):n=1+n,this.zoomTo(e.width*n/e.naturalWidth,null,t)},zoomTo:function(n,t,e){var i=this.options,o=this.canvasData,r=o.width,s=o.height,a=o.naturalWidth,l=o.naturalHeight;if(n=Number(n),n>=0&&this.ready&&!this.disabled&&i.zoomable){var c=a*n,u=l*n;if(_n(this.element,Cr,{ratio:n,oldRatio:r/a,originalEvent:e})===!1)return this;if(e){var h=this.pointers,d=Xc(this.cropper),p=h&&Object.keys(h).length?cp(h):{pageX:e.pageX,pageY:e.pageY};o.left-=(c-r)*((p.pageX-d.left-o.left)/r),o.top-=(u-s)*((p.pageY-d.top-o.top)/s)}else hn(t)&&Q(t.x)&&Q(t.y)?(o.left-=(c-r)*((t.x-o.left)/r),o.top-=(u-s)*((t.y-o.top)/s)):(o.left-=(c-r)/2,o.top-=(u-s)/2);o.width=c,o.height=u,this.renderCanvas(!0)}return this},rotate:function(n){return this.rotateTo((this.imageData.rotate||0)+Number(n))},rotateTo:function(n){return n=Number(n),Q(n)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=n%360,this.renderCanvas(!0,!0)),this},scaleX:function(n){var t=this.imageData.scaleY;return this.scale(n,Q(t)?t:1)},scaleY:function(n){var t=this.imageData.scaleX;return this.scale(Q(t)?t:1,n)},scale:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,e=this.imageData,i=!1;return n=Number(n),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(Q(n)&&(e.scaleX=n,i=!0),Q(t)&&(e.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.options,e=this.imageData,i=this.canvasData,o=this.cropBoxData,r;if(this.ready&&this.cropped){r={x:o.left-i.left,y:o.top-i.top,width:o.width,height:o.height};var s=e.width/e.naturalWidth;if(mt(r,function(c,u){r[u]=c/s}),n){var a=Math.round(r.y+r.height),l=Math.round(r.x+r.width);r.x=Math.round(r.x),r.y=Math.round(r.y),r.width=l-r.x,r.height=a-r.y}}else r={x:0,y:0,width:0,height:0};return t.rotatable&&(r.rotate=e.rotate||0),t.scalable&&(r.scaleX=e.scaleX||1,r.scaleY=e.scaleY||1),r},setData:function(n){var t=this.options,e=this.imageData,i=this.canvasData,o={};if(this.ready&&!this.disabled&&hn(n)){var r=!1;t.rotatable&&Q(n.rotate)&&n.rotate!==e.rotate&&(e.rotate=n.rotate,r=!0),t.scalable&&(Q(n.scaleX)&&n.scaleX!==e.scaleX&&(e.scaleX=n.scaleX,r=!0),Q(n.scaleY)&&n.scaleY!==e.scaleY&&(e.scaleY=n.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var s=e.width/e.naturalWidth;Q(n.x)&&(o.left=n.x*s+i.left),Q(n.y)&&(o.top=n.y*s+i.top),Q(n.width)&&(o.width=n.width*s),Q(n.height)&&(o.height=n.height*s),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?dt({},this.containerData):{}},getImageData:function(){return this.sized?dt({},this.imageData):{}},getCanvasData:function(){var n=this.canvasData,t={};return this.ready&&mt(["left","top","width","height","naturalWidth","naturalHeight"],function(e){t[e]=n[e]}),t},setCanvasData:function(n){var t=this.canvasData,e=t.aspectRatio;return this.ready&&!this.disabled&&hn(n)&&(Q(n.left)&&(t.left=n.left),Q(n.top)&&(t.top=n.top),Q(n.width)?(t.width=n.width,t.height=n.width/e):Q(n.height)&&(t.height=n.height,t.width=n.height*e),this.renderCanvas(!0)),this},getCropBoxData:function(){var n=this.cropBoxData,t;return this.ready&&this.cropped&&(t={left:n.left,top:n.top,width:n.width,height:n.height}),t||{}},setCropBoxData:function(n){var t=this.cropBoxData,e=this.options.aspectRatio,i,o;return this.ready&&this.cropped&&!this.disabled&&hn(n)&&(Q(n.left)&&(t.left=n.left),Q(n.top)&&(t.top=n.top),Q(n.width)&&n.width!==t.width&&(i=!0,t.width=n.width),Q(n.height)&&n.height!==t.height&&(o=!0,t.height=n.height),e&&(i?t.height=t.width/e:o&&(t.width=t.height*e)),this.renderCropBox()),this},getCroppedCanvas:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,e=dp(this.image,this.imageData,t,n);if(!this.cropped)return e;var i=this.getData(n.rounded),o=i.x,r=i.y,s=i.width,a=i.height,l=e.width/Math.floor(t.naturalWidth);l!==1&&(o*=l,r*=l,s*=l,a*=l);var c=s/a,u=Te({aspectRatio:c,width:n.maxWidth||1/0,height:n.maxHeight||1/0}),h=Te({aspectRatio:c,width:n.minWidth||0,height:n.minHeight||0},"cover"),d=Te({aspectRatio:c,width:n.width||(l!==1?e.width:s),height:n.height||(l!==1?e.height:a)}),p=d.width,g=d.height;p=Math.min(u.width,Math.max(h.width,p)),g=Math.min(u.height,Math.max(h.height,g));var y=document.createElement("canvas"),_=y.getContext("2d");y.width=yn(p),y.height=yn(g),_.fillStyle=n.fillColor||"transparent",_.fillRect(0,0,p,g);var w=n.imageSmoothingEnabled,f=w===void 0?!0:w,m=n.imageSmoothingQuality;_.imageSmoothingEnabled=f,m&&(_.imageSmoothingQuality=m);var b=e.width,v=e.height,x=o,E=r,k,S,R,z,K,j;x<=-s||x>b?(x=0,k=0,R=0,K=0):x<=0?(R=-x,x=0,k=Math.min(b,s+x),K=k):x<=b&&(R=0,k=Math.min(s,b-x),K=k),k<=0||E<=-a||E>v?(E=0,S=0,z=0,j=0):E<=0?(z=-E,E=0,S=Math.min(v,a+E),j=S):E<=v&&(z=0,S=Math.min(a,v-E),j=S);var Z=[x,E,k,S];if(K>0&&j>0){var q=p/s;Z.push(R*q,z*q,K*q,j*q)}return _.drawImage.apply(_,[e].concat(Bc(Z.map(function(I){return Math.floor(yn(I))})))),y},setAspectRatio:function(n){var t=this.options;return!this.disabled&&!Uo(n)&&(t.aspectRatio=Math.max(0,n)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(n){var t=this.options,e=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var o=n===us,r=t.movable&&n===Uc;n=o||r?n:jc,t.dragMode=n,ai(e,si,n),pn(e,yr,o),pn(e,_r,r),t.cropBoxMovable||(ai(i,si,n),pn(i,yr,o),pn(i,_r,r))}return this}},kp=le.Cropper,Gc=function(){function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Rh(this,n),!t||!Jh.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=dt({},qa,hn(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Hh(n,[{key:"init",value:function(){var t=this.element,e=t.tagName.toLowerCase(),i;if(!t[ut]){if(t[ut]=this,e==="img"){if(this.isImg=!0,i=t.getAttribute("src")||"",this.originalUrl=i,!i)return;i=t.src}else e==="canvas"&&window.HTMLCanvasElement&&(i=t.toDataURL());this.load(i)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,o=this.options;if(!o.rotatable&&!o.scalable&&(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer){this.clone();return}if(qh.test(t)){Xh.test(t)?this.read(gp(t)):this.clone();return}var r=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=s,r.onerror=s,r.ontimeout=s,r.onprogress=function(){r.getResponseHeader("content-type")!==Ya&&r.abort()},r.onload=function(){e.read(r.response)},r.onloadend=function(){e.reloading=!1,e.xhr=null},o.checkCrossOrigin&&Ja(t)&&i.crossOrigin&&(t=Ga(t)),r.open("GET",t,!0),r.responseType="arraybuffer",r.withCredentials=i.crossOrigin==="use-credentials",r.send()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,o=mp(t),r=0,s=1,a=1;if(o>1){this.url=fp(t,Ya);var l=yp(o);r=l.rotate,s=l.scaleX,a=l.scaleY}e.rotatable&&(i.rotate=r),e.scalable&&(i.scaleX=s,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,o=e;this.options.checkCrossOrigin&&Ja(e)&&(i||(i="anonymous"),o=Ga(e)),this.crossOrigin=i,this.crossOriginUrl=o;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=o||e,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),vt(r,Wa),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=le.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(le.navigator.userAgent),o=function(a,l){dt(t.imageData,{naturalWidth:a,naturalHeight:l,aspectRatio:a/l}),t.initialImageData=dt({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(e.naturalWidth&&!i){o(e.naturalWidth,e.naturalHeight);return}var r=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){o(r.width,r.height),i||s.removeChild(r)},r.src=e.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(r))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var t=this.element,e=this.options,i=this.image,o=t.parentNode,r=document.createElement("div");r.innerHTML=Gh;var s=r.querySelector(".".concat(ut,"-container")),a=s.querySelector(".".concat(ut,"-canvas")),l=s.querySelector(".".concat(ut,"-drag-box")),c=s.querySelector(".".concat(ut,"-crop-box")),u=c.querySelector(".".concat(ut,"-face"));this.container=o,this.cropper=s,this.canvas=a,this.dragBox=l,this.cropBox=c,this.viewBox=s.querySelector(".".concat(ut,"-view-box")),this.face=u,a.appendChild(i),vt(t,It),o.insertBefore(s,t.nextSibling),ie(i,Wa),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,vt(c,It),e.guides||vt(c.getElementsByClassName("".concat(ut,"-dashed")),It),e.center||vt(c.getElementsByClassName("".concat(ut,"-center")),It),e.background&&vt(s,"".concat(ut,"-bg")),e.highlight||vt(u,jh),e.cropBoxMovable&&(vt(u,_r),ai(u,si,cs)),e.cropBoxResizable||(vt(c.getElementsByClassName("".concat(ut,"-line")),It),vt(c.getElementsByClassName("".concat(ut,"-point")),It)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),Dt(e.ready)&&Ut(t,Va,e.ready,{once:!0}),_n(t,Va)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),ie(this.element,It)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=kp,n}},{key:"setDefaults",value:function(t){dt(qa,hn(t)&&t)}}])}();dt(Gc.prototype,_p,bp,vp,wp,xp,Cp);function Qc({imageData:n,type:t="image/png",cropBoxData:e,aspectRatio:i,cropOptions:o=!0}){const r=document.createElement("div");r.style.display="flex",r.style.flexDirection="column",r.style.gap="24px";const s=document.createElement("img");s.style.display="block",s.style.aspectRatio="384 / 188",s.style.objectPosition="center",s.style.objectFit="cover",s.style.width="100%",s.style.aspectRatio="16/9",s.src=n;const a=document.createElement("div");a.style.display="flex",a.style.flexDirection="column",a.style.gap="32px";let l=(e==null?void 0:e.zoomLevel)||0;if(o){const k=[{title:"Custom",value:null},{title:"Original",value:(()=>{const{width:K,height:j}=Tp(n);return K/j})()},{title:"1:1",value:1},{title:"4:3",value:1.3333333333333333},{title:"3:4",value:.75},{title:"16:9",value:1.7777777777777777},{title:"9:12",value:.75},{title:"3:2",value:1.5},{title:"2:3",value:.6666666666666666}],S=document.createElement("div"),R=document.createElement("header"),z=document.createElement("div");z.style.padding="10px",z.style.borderRadius="10px",z.style.boxShadow="0px 5px 10px rgba(0,0,0,0.2)",z.style.display="flex",z.style.alignItems="center",z.style.gap="8px",S.style.display="flex",S.style.flexDirection="column",S.style.gap="8px",k.forEach((K,j)=>{const Z=document.createElement("button");Z.innerText=K.title,Z.style.borderRadius="6px",Z.style.padding="6px 12px",Z.style.backgroundColor="white",Z.style.border="none",Z.style.cursor="pointer",Z.style.position="relative",Z.type="button",Z.color="black",z.appendChild(Z),z.style.boxShadow="0px 2px 5px rgba(0,0,0,0.2)",Z.onclick=()=>{E.setAspectRatio(K.value),[...z.children].forEach(q=>{q.style.backgroundColor="transparent"}),Z.style.backgroundColor="#eeeeee"},j===0&&(Z.style.backgroundColor="#eeeeee")}),R.innerText="Crop",S.append(R,z),a.appendChild(S)}const c=document.createElement("label"),u=document.createElement("header"),h=document.createElement("span"),d=document.createElement("button"),p=document.createElement("input"),g=document.createElement("span");g.innerHTML=rt.reset,h.innerText="Zoom",d.type="button",d.style.background="transparent",d.style.cursor="pointer",d.style.border="none",d.append(g),tl(u),u.append(h,d),p.type="range",p.min="-50",p.max="50",p.value=l,p.step="",p.id="zoom",el(p),c.htmlFor="zoom",Qa(c),c.append(u,p);const y=document.createElement("label"),_=document.createElement("header"),w=document.createElement("span"),f=document.createElement("button"),m=document.createElement("input"),b=document.createElement("span");b.innerHTML=rt.reset,b.innerHTML=rt.reset,w.innerText="Rotate",f.type="button",f.style.background="transparent",f.style.cursor="pointer",f.style.border="none",f.append(b),tl(_),_.append(w,f),m.type="range",m.min="-180",m.max="180",m.value=(e==null?void 0:e.rotateValue)||0,m.step="",m.id="rotate",el(m),y.htmlFor="rotate",Qa(y),y.append(_,m),a.append(c,y);const v=document.createElement("button");v.innerText="Submit",v.style.background="black",v.style.padding="16px 32px",v.style.borderRadius="12px",v.style.color="white",r.append(s,a,v);let x;const E=new Gc(s,{viewMode:0,rotatable:!0,zoomable:!0,zoom(k){x||(x=k.detail.ratio)},movable:!0,autoCropArea:1,zoomOnWheel:!1,dragMode:"move",ready:function(){console.dir(this.cropper),e&&this.cropper.setCropBoxData(e.cropBoxData).setCanvasData(e.canvasData).setData(e.corpperData),i&&this.cropper.setAspectRatio(i)}});return p.oninput=k=>{const S=k.target.value-l;S>0?E.zoom(.1):S<0&&E.zoom(-.1),l=k.target.value},d.onclick=()=>{p.value="0",E.zoomTo(x)},m.oninput=k=>{const S=parseInt(k.target.value);E.rotateTo(S)},f.onclick=()=>{m.value="0",E.rotateTo(0)},v.onclick=()=>{const k=E.getCroppedCanvas().toDataURL(t),S=new CustomEvent("prompt-result",{detail:{imageData:k,cropBoxData:{canvasData:E.getCanvasData(),cropBoxData:E.getCropBoxData(),corpperData:E.getData(),zoomLevel:l,rotateValue:m.value}}});window.dispatchEvent(S)},Ep(r),r}function Qa(n){n.style.display="flex",n.style.flexDirection="column",n.style.gap="24px",n.style.fontSize="18px",n.style.fontStyle="normal",n.style.fontSeight="500"}function tl(n){n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="space-between",n.style.gap="10px"}function el(n){n.style.appearance="none",n.style.borderRadius="99px",n.style.height="9px",n.style.backgroundColor="black",n.style.accentColor="white",n.classList.add("custom-range")}function Ep(n){const t=document.createElement("style"),e=`
  .custom-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    background: white;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    border: 2px solid black;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0, 0.3)
  }
  `;t.innerHTML=e,n.prepend(t)}function Tp(n){if(!n)return null;const t=new Image;for(t.src=n;!t.complete;);return{width:t.width,height:t.height}}function Sp(n){const{altText:t,src:e,originalSrc:i,cropBoxData:o}=n,r=document.createElement("div");r.style.display="flex",r.style.gap="16px",r.style.flexDirection="column";const s=document.createElement("div"),a=document.createElement("button"),l=document.createElement("button");a.innerHTML="Upload from Device",l.innerHTML="Paste URL",Ni(a),Ni(l),a.active(),s.style.display="flex",s.style.gap="16px",s.style.alignItems="center",s.append(a,l);const c=document.createElement("form");c.style.display="flex",c.style.flexDirection="column",c.style.gap="16px";const u=document.createElement("label"),h=document.createElement("div"),d=document.createElement("span"),p=document.createElement("div"),g=document.createElement("input");u.htmlFor="device-input-upload",u.style.padding="16px",u.style.border="3px dashed black",u.style.display="flex",u.style.alignItems="center",u.style.borderRadius="10px",u.style.gap="16px",u.style.cursor="pointer",u.style.position="relative",h.style.display="flex",h.style.alignItems="center",h.style.gap="16px",d.innerText="Click to upload image from device",p.innerHTML=rt.upload,p.style.display="flex",p.style.alignItems="center",p.style.color="black",g.type="file",g.id="device-input-upload",g.name="device-input-upload",g.accept="image/*",e||(g.required="required"),g.style.position="absolute",g.style.opacity="0",g.style.width="10px",h.append(p,d),u.append(h,g);const y=document.createElement("label"),_=document.createElement("span"),w=document.createElement("input");y.htmlFor="url-input-upload",y.style.display="flex",y.style.flexDirection="column",y.style.gap="8px",y.style.color="black",Lp(w),_.innerHTML="Add Image Url",_.style.fontSize="14px",w.type="url",w.id="url-input-upload",y.append(_,w),y.style.display="none",w.removeAttribute("required"),c.append(u,y),r.append(s,c),a.onclick=()=>{a.active(),l.reset(),y.style.display="none",w.removeAttribute("required"),u.style.display="flex",g.setAttribute("required","required")},l.onclick=()=>{l.active(),a.reset(),y.style.display="flex",w.setAttribute("required","required"),u.style.display="none",g.removeAttribute("required")};const f=document.createElement("div"),m=document.createElement("img"),b=document.createElement("div"),v=document.createElement("button"),x=document.createElement("button"),E=document.createElement("div"),k=document.createElement("div"),S=document.createElement("div"),R=document.createElement("span");m.style.width="100%",m.style.borderRadius="12px",e&&(m.src=e),v.innerText="Edit Image",x.innerText="Remove Image",v.type="button",x.type="button",Ni(v),Ni(x),v.style.width="100%",x.style.width="100%",v.active(),v.style.paddingBlock="12px",x.style.paddingBlock="12px",b.style.gap="16px",b.style.display="none",e&&(b.style.display="flex"),k.style.display="flex",k.style.flexDirection="column",k.style.gap="4px",k.style.alignItems="center",k.style.position="absolute",k.style.top="50%",k.style.left="50%",k.style.transform="translate(-50%, -50%)",k.style.color="red",k.style.transition="opacity 400ms ease-out",k.style.opacity="0",S.innerHTML=rt.error,S.style.display="flex",S.style.width="64px",S.style.height="64px",S.children[0].style.width="100%",S.children[0].style.height="auto",R.innerText="There was an error loading this image!",R.style.fontSize="14px",k.append(S,R),E.style.position="absolute",E.style.top="50%",E.style.left="50%",E.style.transform="translate(-50%, -50%)",E.style.width="100px",E.style.height="100px",E.style.borderRadius="100px",E.style.border="6px solid black",E.style.borderTopColor="transparent",E.style.transition="opacity 400ms ease-out",E.style.opacity="0",E.animate({transform:["translate(-50%, -50%) rotate(0deg)","translate(-50%, -50%) rotate(3600deg)"]},{duration:1e4,easing:"linear",iterations:1/0}),f.style.position="relative",f.style.borderRadius="12px",f.style.width="100%",e||(f.style.aspectRatio="16/9"),f.style.backgroundColor="#eeeeee",f.append(m,E,k),b.append(v,x),c.append(f,b);const z=document.createElement("label"),K=document.createElement("span"),j=document.createElement("input");z.classList.add("CrimsonEditorTheme__form-field"),z.htmlFor="image-alt",j.id="image-alt",j.type="text",j.name="alt",j.value=t||"",K.innerText="Image Alt",z.style.display="none",e&&(z.style.display="flex"),z.appendChild(K),z.appendChild(j),c.append(z);const Z=document.createElement("div");Z.style.display="none",c.append(Z);const q=document.createElement("button");q.type="submit",q.innerText=e?"Edit Image":"Add Image",q.classList="CrimsonEditorTheme__modal-submit-button",c.append(q);function I(){k.style.opacity="0",E.style.opacity="1"}function C(O){k.style.opacity="1",R.innerHTML=O,E.style.opacity="0"}function T(){k.style.opacity="0",E.style.opacity="0",f.style.aspectRatio="16/9"}let A=i||e||null,D,L=o||null;g.onchange=async()=>{const O=g.files[0];if(!O)return C("No Image Selected!");if(!O.type.includes("image")){C("The file you selected is not an image!"),g.value="";return}D=O.type;try{I();const M=await Gi(O);m.src=M,A=M,b.style.display="flex",z.style.display="flex",T(),f.style.aspectRatio=""}catch(M){C(M),z.style.display="none"}};let N;return w.oninput=()=>{w.value.length>5?(clearTimeout(N),I(),N=setTimeout(async()=>{try{const O=await Gi(w.value);m.src=O,A=O,T(),f.style.aspectRatio="",b.style.display="flex",z.style.display="flex"}catch(O){m.src="",f.style.aspectRatio="16/9",z.style.display="none",C(O)}},1e3)):(m.src="",f.style.aspectRatio="16/9",z.style.display="none")},v.onclick=async()=>{const O=dn({title:"Edit image"});O.open(Qc({imageData:A,type:D,cropBoxData:L}));const{imageData:M,cropBoxData:B}=await O.result();B&&(L=B),f.style.aspectRatio="",m.src=M},x.onclick=()=>{A=null,b.style.display="none",m.src="",g.value="",w.value="",Z.style.display="none",z.style.display="none",g.required="required",j.value="",T()},c.onsubmit=O=>{O.preventDefault();const M=new FormData(c);M.delete("device-input-upload");const B={};M.forEach((Y,X)=>{B[X]=Y}),B.imageData=m.src,B.originalSrc=A,B.cropBoxData=L;const $=new CustomEvent("prompt-result",{detail:B});window.dispatchEvent($)},r}function Ni(n){n.style.padding="8px 16px",n.style.borderRadius="10px",n.style.backgroundColor="transparent",n.style.border="1px solid black",n.style.color="black",n.style.cursor="pointer",n.style.fontSize="14px",n.type="button",n.active=()=>{n.style.backgroundColor="black",n.style.color="white"},n.reset=()=>{n.style.backgroundColor="transparent",n.style.color="black"}}function Lp(n){n.style.border="1px solid rgb(228, 228, 228)",n.style.borderRadius="10px",n.style.padding="12px 16px",n.style.outline="none"}function Ap(n){const{defaultLink:t,defaultAnchorText:e,isImageLink:i}=n,o=document.createElement("form"),r=document.createElement("label"),s=document.createElement("span"),a=document.createElement("div");r.htmlFor="link-title",r.classList.add("CrimsonEditorTheme__form-field"),a.innerText=e||"",s.innerText="Anchor Text:",r.appendChild(s),r.appendChild(a);const l=document.createElement("input");l.id="linkurl",l.type="url",l.name="url",l.required="required",l.value=t||"",o.style.display="flex",o.style.flexDirection="column",o.style.gap="16px";const c=document.createElement("button");return c.type="submit",c.innerText="Submit",c.classList="CrimsonEditorTheme__modal-submit-button",!i&&o.appendChild(r),o.appendChild(l),o.appendChild(c),o.onsubmit=u=>{u.preventDefault();const h=new FormData(o),d={};h.forEach((g,y)=>{d[y]=g}),d.title=e||"",d.target="_blank",d.rel="dofollow";const p=new CustomEvent("prompt-result",{detail:d});window.dispatchEvent(p)},o}function kt(n){if(typeof n=="string")return document.createElement(n);const{tag:t,classNames:e,text:i,attributes:o,styles:r}=n,s=document.createElement(t);return e&&s.classList.add(...e.split(" ")),i&&(s.innerHTML=i),o&&Object.entries(o).forEach(([a,l])=>{s.setAttribute(a,l)}),r&&Object.entries(r).forEach(([a,l])=>{s.style[a]=l}),s}const Np=10,Pe=10,Mp={border:"1px solid #ccc",backgroundColor:"white",width:"100%",aspectRatio:"1/1",textAlign:"center",lineHeight:"30px",borderRadius:"25%",transition:"background-color 300ms ease-out"},nl={fontSize:"20px"},il={display:"flex",flexDirection:"column",gap:"16px"},ol={backgroundColor:"black",padding:"12px 16px",color:"white",fontSize:"16px",textAlign:"center",borderRadius:"16px",cursor:"pointer",border:"none"},rl={border:"1px solid rgb(228, 228, 228)",borderRadius:"10px",padding:"12px 16px",outline:"none",fontFamily:"inherit",color:"black"};function Op(){const n=kt({tag:"div",styles:{display:"flex",flexDirection:"column",gap:"20px"}}),t=kt({tag:"div",styles:il}),e=kt({tag:"h2",classNames:"Highlight",text:"Highlight Grid",styles:nl}),i=kt({tag:"div",styles:{display:"grid",gridTemplateColumns:"repeat(10, minmax(auto,30px))",gap:"2px",justifyContent:"center"}}),o=kt({tag:"button",text:"Create Table",attributes:{type:"button","aria-label":"create table highlight"},styles:ol});for(let d=0;d<Np*Pe;d++){const p=kt({tag:"div",classNames:"cell",styles:Mp});i.appendChild(p)}const r={rows:1,columns:1};i.addEventListener("mouseover",d=>{if(d.target.classList.contains("cell")){const p=i.querySelectorAll(".cell");p.forEach(w=>{w.classList.remove("highlight"),w.classList.contains("selected")?w.style.backgroundColor="#add8e6":w.style.backgroundColor="add8e680"});const g=Array.from(p).indexOf(d.target),y=Math.floor(g/Pe),_=g%Pe;for(let w=0;w<=y;w++)for(let f=0;f<=_;f++){const m=p[w*Pe+f];m.classList.contains("selected")||(m.classList.add("highlight"),m.style.backgroundColor="#add8e680")}}}),i.addEventListener("mouseout",()=>{i.querySelectorAll(".cell").forEach(d=>{d.classList.remove("highlight"),d.classList.contains("selected")?d.style.backgroundColor="#add8e6":d.style.backgroundColor="transparent"})}),i.addEventListener("click",d=>{if(d.target.classList.contains("cell")){const p=i.querySelectorAll(".cell");p.forEach(w=>{w.classList.remove("selected"),w.style.backgroundColor="transparent"});const g=Array.from(p).indexOf(d.target),y=Math.floor(g/Pe),_=g%Pe;for(let w=0;w<=y;w++)for(let f=0;f<=_;f++){const m=p[w*Pe+f];m.classList.add("selected"),m.style.backgroundColor="#add8e6"}r.rows=y+1,r.columns=_+1}}),t.append(e,i,o),o.onclick=d=>{const p=new CustomEvent("prompt-result",{detail:r});window.dispatchEvent(p)};const s=kt({tag:"form",styles:il}),a=kt({tag:"h2",text:"Add Rows and Columns",styles:nl}),l=kt({tag:"div",styles:{display:"flex",flexDirection:"column",gap:"12px"}}),c=kt({tag:"input",attributes:{type:"number",placeholder:"Number of Rows",min:1,value:1},styles:rl}),u=kt({tag:"input",attributes:{type:"number",placeholder:"Number of Columns",min:1,value:1},styles:rl}),h=kt({tag:"button",text:"Create Table",attributes:{type:"button","aria-label":"create table form"},styles:ol});return h.onclick=d=>{const p=new CustomEvent("prompt-result",{detail:{rows:c.valueAsNumber,columns:u.valueAsNumber}});window.dispatchEvent(p)},l.append(c,u),s.append(a,l,h),n.append(t,s),n}function Fp(n){const t=document.createElement("video");return t.setAttribute("src",n),new Promise((e,i)=>{t.addEventListener("loadedmetadata",()=>{e(!0)}),t.addEventListener("error",()=>{e(!1)})})}function Dp(n){const{src:t}=n,e=document.createElement("div");e.style.display="flex",e.style.gap="16px",e.style.flexDirection="column";const i=document.createElement("form");i.style.display="flex",i.style.flexDirection="column",i.style.gap="16px";const o=document.createElement("label"),r=document.createElement("span"),s=document.createElement("input");o.htmlFor="url-input-upload",o.style.display="flex",o.style.flexDirection="column",o.style.gap="8px",sl(s),r.innerHTML="Add Video Url",r.style.fontSize="14px",s.type="url",s.setAttribute("required","required"),s.id="url-input-upload",o.append(r,s),i.append(o);const a=document.createElement("div"),l=document.createElement("video"),c=document.createElement("div"),u=document.createElement("button"),h=document.createElement("div"),d=document.createElement("div"),p=document.createElement("div"),g=document.createElement("span");l.style.width="100%",l.style.display="block",l.style.borderRadius="12px",t&&(l.src=t),u.innerText="Remove Video",u.type="button",Wn(u),u.style.width="100%",u.style.paddingBlock="12px",c.style.gap="16px",c.style.display="none",t&&(c.style.display="flex"),d.style.display="flex",d.style.flexDirection="column",d.style.gap="4px",d.style.alignItems="center",d.style.position="absolute",d.style.top="50%",d.style.left="50%",d.style.transform="translate(-50%, -50%)",d.style.color="red",d.style.transition="opacity 400ms ease-out",d.style.opacity="0",p.innerHTML=rt.error,p.style.display="flex",p.style.width="64px",p.style.height="64px",p.children[0].style.width="100%",p.children[0].style.height="auto",g.innerText="There was an error loading this Video!",g.style.fontSize="14px",d.append(p,g),h.style.position="absolute",h.style.top="50%",h.style.left="50%",h.style.transform="translate(-50%, -50%)",h.style.width="100px",h.style.height="100px",h.style.borderRadius="100px",h.style.border="6px solid black",h.style.borderTopColor="transparent",h.style.transition="opacity 400ms ease-out",h.style.opacity="0",h.animate({transform:["translate(-50%, -50%) rotate(0deg)","translate(-50%, -50%) rotate(3600deg)"]},{duration:1e4,easing:"linear",iterations:1/0}),a.style.position="relative",a.style.borderRadius="12px",a.style.width="100%",t||(a.style.aspectRatio="16/9"),a.style.backgroundColor="#eeeeee",a.append(l,h,d),c.append(u),i.append(a,c);function y(){d.style.opacity="0",h.style.opacity="1"}function _(st){d.style.opacity="1",g.innerHTML=st,h.style.opacity="0"}function w(){d.style.opacity="0",h.style.opacity="0",a.style.aspectRatio="16/9"}let f,m;s.oninput=async()=>{s.value.length>5?(clearTimeout(m),y(),m=setTimeout(async()=>{try{if(await Fp(s.value))l.src=s.value,w(),a.style.aspectRatio="",c.style.display="flex";else throw new Error("Link does not lead to a video file")}catch(st){l.src="",a.style.aspectRatio="16/9",_(st)}},1e3)):(l.src="",a.style.aspectRatio="16/9")},u.onclick=()=>{c.style.display="none",l.src="",s.value="",w()};const b=document.createElement("div");b.style.display="flex",b.style.gap="16px",b.style.flexDirection="column",i.append(b);const v=document.createElement("div"),x=document.createElement("button"),E=document.createElement("button");x.innerHTML="Upload from Device",E.innerHTML="Paste URL",Wn(x),Wn(E),x.active(),v.style.display="flex",v.style.gap="16px",v.style.alignItems="center",v.append(x,E);const k=document.createElement("label"),S=document.createElement("div"),R=document.createElement("span"),z=document.createElement("div"),K=document.createElement("input");k.htmlFor="device-poster-input-upload",k.style.padding="16px",k.style.border="3px dashed black",k.style.display="flex",k.style.alignItems="center",k.style.borderRadius="10px",k.style.gap="16px",k.style.cursor="pointer",k.style.position="relative",S.style.display="flex",S.style.alignItems="center",S.style.gap="16px",R.innerText="Click to upload image from device",z.innerHTML=rt.upload,z.style.display="flex",z.style.alignItems="center",K.type="file",K.id="device-poster-input-upload",K.accept="image/*",K.name="device-poster-input-upload",K.style.position="absolute",K.style.opacity="0",K.style.width="10px",S.append(z,R),k.append(S,K);const j=document.createElement("label"),Z=document.createElement("span"),q=document.createElement("input");j.htmlFor="url-input-upload",j.style.display="flex",j.style.flexDirection="column",j.style.gap="8px",sl(q),Z.innerHTML="Add Image Url",Z.style.fontSize="14px",q.type="url",q.id="url-input-upload",j.append(Z,q),j.style.display="none",q.removeAttribute("required"),b.append(v,k,j),x.onclick=()=>{x.active(),E.reset(),j.style.display="none",s.removeAttribute("required"),k.style.display="flex",K.setAttribute("required","required")},E.onclick=()=>{E.active(),x.reset(),j.style.display="flex",s.setAttribute("required","required"),k.style.display="none",K.removeAttribute("required")};const I=document.createElement("div"),C=document.createElement("img"),T=document.createElement("div"),A=document.createElement("button"),D=document.createElement("button"),L=document.createElement("div"),N=document.createElement("div"),O=document.createElement("div"),M=document.createElement("span");C.style.width="100%",C.style.borderRadius="12px",t&&(C.src=t),A.innerText="Edit Image",D.innerText="Remove Image",A.type="button",D.type="button",Wn(A),Wn(D),A.style.width="100%",D.style.width="100%",A.active(),A.style.paddingBlock="12px",D.style.paddingBlock="12px",T.style.gap="16px",T.style.display="none",t&&(T.style.display="flex"),N.style.display="flex",N.style.flexDirection="column",N.style.gap="4px",N.style.alignItems="center",N.style.position="absolute",N.style.top="50%",N.style.left="50%",N.style.transform="translate(-50%, -50%)",N.style.color="red",N.style.transition="opacity 400ms ease-out",N.style.opacity="0",O.innerHTML=rt.error,O.style.display="flex",O.style.width="64px",O.style.height="64px",O.children[0].style.width="100%",O.children[0].style.height="auto",M.innerText="There was an error loading this image!",M.style.fontSize="14px",N.append(O,M),L.style.position="absolute",L.style.top="50%",L.style.left="50%",L.style.transform="translate(-50%, -50%)",L.style.width="100px",L.style.height="100px",L.style.borderRadius="100px",L.style.border="6px solid black",L.style.borderTopColor="transparent",L.style.transition="opacity 400ms ease-out",L.style.opacity="0",L.animate({transform:["translate(-50%, -50%) rotate(0deg)","translate(-50%, -50%) rotate(3600deg)"]},{duration:1e4,easing:"linear",iterations:1/0}),I.style.position="relative",I.style.borderRadius="12px",I.style.width="100%",t||(I.style.aspectRatio="16/9"),I.style.backgroundColor="#eeeeee",I.append(C,L,N),T.append(A,D),i.append(j,T,T,I);const B=document.createElement("button");B.type="submit",B.innerText=t?"Edit Video":"Add Video",B.classList="CrimsonEditorTheme__modal-submit-button";function $(){N.style.opacity="0",L.style.opacity="1"}function Y(st){N.style.opacity="1",M.innerHTML=st,L.style.opacity="0"}function X(){N.style.opacity="0",L.style.opacity="0",I.style.aspectRatio="16/9"}let J=null;K.onchange=async()=>{const st=K.files[0];if(!st)return Y("No Image Selected!");if(!st.type.includes("image")){Y("The file you selected is not an image!"),K.value="";return}f=st.type;try{$();const pt=await Gi(st);X(),J=pt,K.value="";const Bt=await ct(pt);if(!Bt){C.src="",I.style.aspectRatio="16/9";return}C.src=Bt,T.style.display="flex",X(),I.style.aspectRatio=""}catch(pt){Y(pt),K.value=""}};let G;q.oninput=()=>{q.value.length>5&&(clearTimeout(G),G=setTimeout(async()=>{try{$();const st=await Gi(q.value);X(),J=st;const pt=await ct(st);if(!pt){C.src="",I.style.aspectRatio="16/9";return}C.src=pt,X(),I.style.aspectRatio="",T.style.display="flex"}catch(st){C.src="",I.style.aspectRatio="16/9",Y(st)}},1e3))},A.onclick=async()=>{C.src=await ct(J),I.style.aspectRatio=""};async function ct(st){const pt=dn({title:"Edit image"});pt.open(Qc({imageData:st,type:f,aspectRatio:l.videoWidth/l.videoHeight,cropOptions:!1}));const{imageData:Bt}=await pt.result();return Bt}return D.onclick=()=>{T.style.display="none",C.src="",K.value="",q.value="",X()},i.append(B),e.append(i),i.onsubmit=st=>{st.preventDefault();const pt=new FormData(i);pt.delete("device-input-upload");const Bt={};pt.forEach((Ft,bo)=>{Bt[bo]=Ft}),Bt.videoData=l.src,Bt.poster=C.src;const Ct=new CustomEvent("prompt-result",{detail:Bt});window.dispatchEvent(Ct)},e}function Wn(n){n.style.padding="8px 16px",n.style.borderRadius="10px",n.style.backgroundColor="transparent",n.style.border="1px solid black",n.style.color="black",n.style.cursor="pointer",n.style.fontSize="14px",n.type="button",n.active=()=>{n.style.backgroundColor="black",n.style.color="white"},n.reset=()=>{n.style.backgroundColor="transparent",n.style.color="black"}}function sl(n){n.style.border="1px solid rgb(228, 228, 228)",n.style.borderRadius="10px",n.style.padding="12px 16px",n.style.outline="none",n.style.color="black"}const Ip=[{text:"Edit",icon:rt.edit,onclick:({nodeKey:n})=>{const t=new CustomEvent("edit-editor-link",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendLinkEdit"},{text:"Detach",icon:rt.unlink,onclick:({nodeKey:n})=>{const t=new CustomEvent("detach-editor-link",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendLinkDetach"},{text:"Edit Image",icon:rt.editImage,onclick:({nodeKey:n})=>{const t=new CustomEvent("edit-image",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendImageEdit"},{text:"Edit Video",icon:rt.editImage,onclick:({nodeKey:n})=>{const t=new CustomEvent("edit-video",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendVideoEdit"},{text:"Left",icon:rt.left,onclick:({nodeKey:n})=>{const t=new CustomEvent("float-image-left",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendFloatImageLeft"},{text:"Center",icon:rt.center,onclick:({nodeKey:n})=>{const t=new CustomEvent("float-image-center",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendFloatImageCenter"},{text:"Right",icon:rt.right,onclick:({nodeKey:n})=>{const t=new CustomEvent("float-image-right",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendFloatImageRight"},{text:"Fit Width",icon:rt.fit,onclick:({nodeKey:n})=>{const t=new CustomEvent("fit-image-width",{detail:{nodeKey:n}});window.dispatchEvent(t)},appendFunctionName:"appendFitWidth"}];function Pp(){const n=document.createElement("div");return n.style.display="flex",n.style.alignItems="center",n.style.gap="4px",Ip.forEach(t=>{const e=document.createElement("button"),i=document.createElement("div"),o=document.createElement("span");o.innerHTML=t.text,i.innerHTML=t.icon,Hp(i),o.style.color="inherit",i.style.color="inherit",e.style.color="inherit",e.type="button",e.appendChild(i),e.appendChild(o),Rp(e),n[t.appendFunctionName]=r=>{const{nodeKey:s}=r||{};e.onclick=()=>{t.onclick({nodeKey:s}),e.style.backgroundColor="transparent"},!n.contains(e)&&n.appendChild(e)}}),n}function Rp(n){n.style.display="flex",n.style.alignItems="center",n.style.gap="4px",n.style.cursor="pointer",n.style.padding="8px",n.style.backgroundColor="transparent",n.style.transition="background-color 300ms ease-out",n.style.border="none",n.style.borderRadius="4px",n.style.whiteSpace="nowrap",n.addEventListener("mouseenter",()=>{n.style.backgroundColor="#efefef"}),n.addEventListener("mouseleave",()=>{n.style.backgroundColor="transparent"}),window.addEventListener("click",t=>{if(n.parentElement){if(n.parentElement.contains(t.target))return;n.style.backgroundColor="transparent"}})}function Hp(n){n.style.width="16px",n.style.height="16px",n.children[0].style.width="16px",n.children[0].style.height="16px"}const Bp={margin:"8px",padding:"8px",color:"#050505",cursor:"pointer",lineHeight:"16px",fontSize:"15px",display:"flex",alignContent:"center",flexDirection:"row",flexShrink:"0",justifyContent:"space-between",backgroundColor:"#fff",borderRadius:"8px",border:"0",maxWidth:"250px",minWidth:"100px",transition:"background-color 300ms ease-out"};function Wp(){const n=kt({tag:"div",classNames:"table-options",styles:{position:"absolute"}}),t=kt({tag:"div",styles:{display:"flex",flexDirection:"column",position:"absolute",top:"105%",left:"0%",width:"max-content",zIndex:"100",boxShadow:"0 12px 28px #0003, 0 2px 4px #0000001a, inset 0 0 0 1px #ffffff80",borderRadius:"8px",minHeight:"40px",backgroundColor:"#fff"}});let e=!1;const i=kt({tag:"button",text:rt["caret-down"],styles:{padding:"8px",margin:"8px",marginLeft:"0px",border:"none",borderRadius:"8px",color:"#222",cursor:"pointer",color:"black"}});i.firstElementChild.style.display="block",i.onclick=()=>{if(e)t.remove(),e=!1;else{n.append(t);const{width:r,left:s}=n.getBoundingClientRect();r+s+t.offsetWidth>=innerWidth?(t.style.right="0px",t.style.left="auto"):(t.style.left="0px",t.style.right="auto"),e=!0}};let o=null;return n.updatePosition=()=>{if(o){const{width:r,height:s,top:a,left:l}=o.getBoundingClientRect();n.style.top=a+s/2-n.offsetHeight/2+"px",n.style.left=l+(r-n.offsetWidth)+"px"}},n.append(i),n.attachTo=r=>{if(o=r.tagName==="TD"?r:o,!r.classList.contains("table-options")){const{width:s,height:a,top:l,left:c}=r.getBoundingClientRect();n.style.top=l+window.scrollY+a/2-n.offsetHeight/2+"px",n.style.left=c+window.scrollX+(s-n.offsetWidth)+"px",t.remove(),e=!1,window.addEventListener("resize",n.updatePosition)}},n.removeSelf=()=>{n.remove(),o=null,window.removeEventListener("resize",n.updatePosition)},n.updateFeatures=r=>{t.replaceChildren(...Object.entries(r).reduce((s,[a,l],c,u)=>{const h=kt({tag:"button",attributes:{type:"button"},styles:Bp});if(h.innerText=l.text,h.onclick=()=>{l.onclick(),t.remove()},h.onmouseover=()=>{h.style.backgroundColor="#eeeeee"},h.onmouseleave=()=>{h.style.backgroundColor="#fff"},s.push(h),["insertRowAfter","insertColumnsAfter","deleteTable"].includes(a)&&c!==u.length-1){const d=kt({tag:"hr",styles:{width:"100%",border:"none",backgroundColor:"#cccccc",height:"1px",margin:"0px"}});s.push(d)}return s},[]))},n}class al{constructor({image:t,onResize:e=(i,o)=>{}}){tt(this,"image",null),tt(this,"anchorContainer",document.createElement("div")),tt(this,"hasResized",!1),tt(this,"resizeWidth",0),tt(this,"resizeHeight",0),tt(this,"mousePositionX",0),tt(this,"mousePositionY",0),this.image=t,this.onResize=e,this.resizeWidth=t.offsetWidth,this.resizeHeight=t.offsetHeight,this.imageNodeKey=t.dataset.nodeKey,this.handleMouseMoveEventHandler=i=>{this.handleMouseMove(i)},this.init()}init(){this.image&&(this.appendAchorPoints(),this.onResizeEnd())}appendAchorPoints(){const t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r=[t,e,i,o];this.image.style.userSelect="none",this.image.style.outline="2px solid rgb(60,132,244)",this.image.parentNode.appendChild(this.anchorContainer),r.forEach(s=>{s.style.width="10px",s.style.height="10px",s.style.position="absolute",s.style.backgroundColor="rgb(50,122,224)",s.style.cursor="move",s.classList.add("image-resize-anchor"),this.appendAnchorDragEvent(s),this.anchorContainer.appendChild(s)}),t.style.top="0px",t.style.left="0px",e.style.top="0px",e.style.right="0px",i.style.bottom="0px",i.style.left="0px",o.style.bottom="0px",o.style.right="0px"}handleMouseMove(t){const{clientX:e,clientY:i}=t,o=e-this.mousePositionX,r=i-this.mousePositionY,s=Math.max(0,this.image.offsetWidth+o),a=Math.max(0,this.image.offsetHeight+r);this.resizeWidth=s,this.resizeHeight=a,this.image.style.width=`${s}px`,this.mousePositionX=e,this.mousePositionY=i,this.hasResized=!0}appendAnchorDragEvent(t){t.addEventListener("mousedown",e=>{e.preventDefault(),this.mousePositionX=e.clientX,this.mousePositionY=e.clientY,window.addEventListener("mousemove",this.handleMouseMoveEventHandler)})}onResizeEnd(){window.addEventListener("mouseup",()=>{this.hasResized&&(window.removeEventListener("mousemove",this.handleMouseMoveEventHandler),this.onResize(this.resizeWidth,this.resizeHeight,this.image),this.refetchResizeImage(),this.hasResized=!1)})}refetchResizeImage(){let t=document.querySelector(`[data-node-key='${this.imageNodeKey}']`),e=null;e=setInterval(()=>{this.image===t?t=document.querySelector(`[data-node-key='${this.imageNodeKey}']`):(clearInterval(e),this.image=t,this.init())},10)}destroy(){this.image.style.outline="",this.image.parentNode.removeChild(this.anchorContainer),this.hasResized=!1,this.resizeWidth=0,this.resizeHeight=0,this.mousePositionX=0,this.mousePositionY=0}}class Cn extends Jt{constructor(t,e){super(t,e)}static getType(){return"extended-text"}static clone(t){return new Cn(t.__text,t.__key)}static importDOM(){const t=Jt.importDOM();return{...t,code:()=>({conversion:rn(t==null?void 0:t.code),priority:1}),em:()=>({conversion:rn(t==null?void 0:t.em),priority:1}),span:()=>({conversion:rn(t==null?void 0:t.span),priority:1}),strong:()=>({conversion:rn(t==null?void 0:t.strong),priority:1}),sub:()=>({conversion:rn(t==null?void 0:t.sub),priority:1}),sup:()=>({conversion:rn(t==null?void 0:t.sup),priority:1})}}static importJSON(t){return Jt.importJSON(t)}isSimpleText(){return(this.__type==="text"||this.__type==="extended-text")&&this.__mode===0}exportJSON(){return{...super.exportJSON(),type:"extended-text",version:1}}}function ll(n){return new Cn(n)}function rn(n){return t=>{const e=n==null?void 0:n(t);if(!e)return null;const i=e.conversion(t);if(!i)return i;const o=t.style.backgroundColor,r=t.style.color,s=t.style.fontFamily,a=t.style.fontWeight,l=t.style.fontSize,c=t.style.textDecoration,u=t.style.whiteSpace;return{...i,forChild:(h,d)=>{const p=((i==null?void 0:i.forChild)??(g=>g))(h,d);if(H(p)){const g=[o?`background-color: ${o}`:null,r?`color: ${r}`:null,s?`font-family: ${s}`:null,a?`font-weight: ${a}`:null,l?`font-size: ${l}`:null,c?`text-decoration: ${c}`:null,u?`white-space: ${u}`:null].filter(y=>y!=null).join("; ");if(g.length)return p.setStyle(g)}return p}}}}class Je extends go{constructor(t,e){super(e),this.text=t}static getType(){return"highlight"}static clone(t){return new Je(t.text,t.__key)}createDOM(){const t=document.createElement("span");return t.className="highlight",t.textContent=this.text,t}updateDOM(){return!1}decorate(){const t=document.createElement("span");return t.className="highlight",t.textContent=this.text,t}static importJSON(t){return new Je(t.text)}exportJSON(){return{type:"highlight",text:this.text,version:1}}getTextContent(){return this.text}}function zp(n){return new Je(n)}function $p(n){return n instanceof Je}const cl={namespace:"CrimsonEditor",onError:console.error,nodes:[Cn,{replace:Jt,with:n=>new Cn(n.__text)},Sn,gi,qe,Ye,fi,ts,Ye,vi,wi,bi,An,mi,Je],theme:{text:{bold:"CrimsonEditorTheme__textBold",code:"CrimsonEditorTheme__textCode",italic:"CrimsonEditorTheme__textItalic",strikethrough:"CrimsonEditorTheme__textStrikethrough",subscript:"CrimsonEditorTheme__textSubscript",superscript:"CrimsonEditorTheme__textSuperscript",underline:"CrimsonEditorTheme__textUnderline",underlineStrikethrough:"CrimsonEditorTheme__textUnderlineStrikethrough"},list:{listitem:"CrimsonEditorTheme__listItem",listitemChecked:"CrimsonEditorTheme__listItemChecked",listitemUnchecked:"CrimsonEditorTheme__listItemUnchecked",nested:{listitem:"CrimsonEditorTheme__nestedListItem"},olDepth:["CrimsonEditorTheme__ol1","CrimsonEditorTheme__ol2","CrimsonEditorTheme__ol3","CrimsonEditorTheme__ol4","CrimsonEditorTheme__ol5"],ul:"CrimsonEditorTheme__ul"},link:"CrimsonEditorTheme__link",paragraph:"CrimsonEditorTheme__paragraph"}},Up=[10,12,14,16,18,20,24,28,32,36,40,48,56,64,72,80,96,128,160,192,256,320];var tu={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */(function(n,t){(function(e,i){n.exports=i()})(self,()=>(()=>{var e={d:(I,C)=>{for(var T in C)e.o(C,T)&&!e.o(I,T)&&Object.defineProperty(I,T,{enumerable:!0,get:C[T]})},o:(I,C)=>Object.prototype.hasOwnProperty.call(I,C),r:I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})}},i={};e.d(i,{default:()=>q});var o={};function r(I,C,T,A,D={}){C instanceof HTMLCollection||C instanceof NodeList?C=Array.from(C):Array.isArray(C)||(C=[C]),Array.isArray(T)||(T=[T]);for(const L of C)for(const N of T)L[I](N,A,{capture:!1,...D});return Array.prototype.slice.call(arguments,1)}e.r(o),e.d(o,{adjustableInputNumbers:()=>d,createElementFromString:()=>l,createFromTemplate:()=>c,eventPath:()=>u,off:()=>a,on:()=>s,resolveElement:()=>h});const s=r.bind(null,"addEventListener"),a=r.bind(null,"removeEventListener");function l(I){const C=document.createElement("div");return C.innerHTML=I.trim(),C.firstElementChild}function c(I){const C=(A,D)=>{const L=A.getAttribute(D);return A.removeAttribute(D),L},T=(A,D={})=>{const L=C(A,":obj"),N=C(A,":ref"),O=L?D[L]={}:D;N&&(D[N]=A);for(const M of Array.from(A.children)){const B=C(M,":arr"),$=T(M,B?{}:O);B&&(O[B]||(O[B]=[])).push(Object.keys($).length?$:M)}return D};return T(l(I))}function u(I){let C=I.path||I.composedPath&&I.composedPath();if(C)return C;let T=I.target.parentElement;for(C=[I.target,T];T=T.parentElement;)C.push(T);return C.push(document,window),C}function h(I){return I instanceof Element?I:typeof I=="string"?I.split(/>>/g).reduce((C,T,A,D)=>(C=C.querySelector(T),A<D.length-1?C.shadowRoot:C),document):null}function d(I,C=T=>T){function T(A){const D=[.001,.01,.1][Number(A.shiftKey||2*A.ctrlKey)]*(A.deltaY<0?1:-1);let L=0,N=I.selectionStart;I.value=I.value.replace(/[\d.]+/g,(O,M)=>M<=N&&M+O.length>=N?(N=M,C(Number(O),D,L)):(L++,O)),I.focus(),I.setSelectionRange(N,N),A.preventDefault(),I.dispatchEvent(new Event("input"))}s(I,"focus",()=>s(window,"wheel",T,{passive:!1})),s(I,"blur",()=>a(window,"wheel",T))}const{min:p,max:g,floor:y,round:_}=Math;function w(I,C,T){C/=100,T/=100;const A=y(I=I/360*6),D=I-A,L=T*(1-C),N=T*(1-D*C),O=T*(1-(1-D)*C),M=A%6;return[255*[T,N,L,L,O,T][M],255*[O,T,T,N,L,L][M],255*[L,L,O,T,T,N][M]]}function f(I,C,T){const A=(2-(C/=100))*(T/=100)/2;return A!==0&&(C=A===1?0:A<.5?C*T/(2*A):C*T/(2-2*A)),[I,100*C,100*A]}function m(I,C,T){const A=p(I/=255,C/=255,T/=255),D=g(I,C,T),L=D-A;let N,O;if(L===0)N=O=0;else{O=L/D;const M=((D-I)/6+L/2)/L,B=((D-C)/6+L/2)/L,$=((D-T)/6+L/2)/L;I===D?N=$-B:C===D?N=1/3+M-$:T===D&&(N=2/3+B-M),N<0?N+=1:N>1&&(N-=1)}return[360*N,100*O,100*D]}function b(I,C,T,A){return C/=100,T/=100,[...m(255*(1-p(1,(I/=100)*(1-(A/=100))+A)),255*(1-p(1,C*(1-A)+A)),255*(1-p(1,T*(1-A)+A)))]}function v(I,C,T){C/=100;const A=2*(C*=(T/=100)<.5?T:1-T)/(T+C)*100,D=100*(T+C);return[I,isNaN(A)?0:A,D]}function x(I){return m(...I.match(/.{2}/g).map(C=>parseInt(C,16)))}function E(I){I=I.match(/^[a-zA-Z]+$/)?function(D){if(D.toLowerCase()==="black")return"#000";const L=document.createElement("canvas").getContext("2d");return L.fillStyle=D,L.fillStyle==="#000"?null:L.fillStyle}(I):I;const C={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},T=D=>D.map(L=>/^(|\d+)\.\d+|\d+$/.test(L)?Number(L):void 0);let A;t:for(const D in C)if(A=C[D].exec(I))switch(D){case"cmyk":{const[,L,N,O,M]=T(A);if(L>100||N>100||O>100||M>100)break t;return{values:b(L,N,O,M),type:D}}case"rgba":{let[,L,,N,,O,,,M]=T(A);if(L=A[2]==="%"?L/100*255:L,N=A[4]==="%"?N/100*255:N,O=A[6]==="%"?O/100*255:O,M=A[9]==="%"?M/100:M,L>255||N>255||O>255||M<0||M>1)break t;return{values:[...m(L,N,O),M],a:M,type:D}}case"hexa":{let[,L]=A;L.length!==4&&L.length!==3||(L=L.split("").map(M=>M+M).join(""));const N=L.substring(0,6);let O=L.substring(6);return O=O?parseInt(O,16)/255:void 0,{values:[...x(N),O],a:O,type:D}}case"hsla":{let[,L,N,O,,M]=T(A);if(M=A[6]==="%"?M/100:M,L>360||N>100||O>100||M<0||M>1)break t;return{values:[...v(L,N,O),M],a:M,type:D}}case"hsva":{let[,L,N,O,,M]=T(A);if(M=A[6]==="%"?M/100:M,L>360||N>100||O>100||M<0||M>1)break t;return{values:[L,N,O,M],a:M,type:D}}}return{values:null,type:null}}function k(I=0,C=0,T=0,A=1){const D=(N,O)=>(M=-1)=>O(~M?N.map(B=>Number(B.toFixed(M))):N),L={h:I,s:C,v:T,a:A,toHSVA(){const N=[L.h,L.s,L.v,L.a];return N.toString=D(N,O=>`hsva(${O[0]}, ${O[1]}%, ${O[2]}%, ${L.a})`),N},toHSLA(){const N=[...f(L.h,L.s,L.v),L.a];return N.toString=D(N,O=>`hsla(${O[0]}, ${O[1]}%, ${O[2]}%, ${L.a})`),N},toRGBA(){const N=[...w(L.h,L.s,L.v),L.a];return N.toString=D(N,O=>`rgba(${O[0]}, ${O[1]}, ${O[2]}, ${L.a})`),N},toCMYK(){const N=function(O,M,B){const $=w(O,M,B),Y=$[0]/255,X=$[1]/255,J=$[2]/255,G=p(1-Y,1-X,1-J);return[100*(G===1?0:(1-Y-G)/(1-G)),100*(G===1?0:(1-X-G)/(1-G)),100*(G===1?0:(1-J-G)/(1-G)),100*G]}(L.h,L.s,L.v);return N.toString=D(N,O=>`cmyk(${O[0]}%, ${O[1]}%, ${O[2]}%, ${O[3]}%)`),N},toHEXA(){const N=function(M,B,$){return w(M,B,$).map(Y=>_(Y).toString(16).padStart(2,"0"))}(L.h,L.s,L.v),O=L.a>=1?"":Number((255*L.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return O&&N.push(O),N.toString=()=>`#${N.join("").toUpperCase()}`,N},clone:()=>k(L.h,L.s,L.v,L.a)};return L}const S=I=>Math.max(Math.min(I,1),0);function R(I){const C={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},I),_keyboard(L){const{options:N}=C,{type:O,key:M}=L;if(document.activeElement===N.wrapper){const{lock:B}=C.options,$=M==="ArrowUp",Y=M==="ArrowRight",X=M==="ArrowDown",J=M==="ArrowLeft";if(O==="keydown"&&($||Y||X||J)){let G=0,ct=0;B==="v"?G=$||Y?1:-1:B==="h"?G=$||Y?-1:1:(ct=$?-1:X?1:0,G=J?-1:Y?1:0),C.update(S(C.cache.x+.01*G),S(C.cache.y+.01*ct)),L.preventDefault()}else M.startsWith("Arrow")&&(C.options.onstop(),L.preventDefault())}},_tapstart(L){s(document,["mouseup","touchend","touchcancel"],C._tapstop),s(document,["mousemove","touchmove"],C._tapmove),L.cancelable&&L.preventDefault(),C._tapmove(L)},_tapmove(L){const{options:N,cache:O}=C,{lock:M,element:B,wrapper:$}=N,Y=$.getBoundingClientRect();let X=0,J=0;if(L){const st=L&&L.touches&&L.touches[0];X=L?(st||L).clientX:0,J=L?(st||L).clientY:0,X<Y.left?X=Y.left:X>Y.left+Y.width&&(X=Y.left+Y.width),J<Y.top?J=Y.top:J>Y.top+Y.height&&(J=Y.top+Y.height),X-=Y.left,J-=Y.top}else O&&(X=O.x*Y.width,J=O.y*Y.height);M!=="h"&&(B.style.left=`calc(${X/Y.width*100}% - ${B.offsetWidth/2}px)`),M!=="v"&&(B.style.top=`calc(${J/Y.height*100}% - ${B.offsetHeight/2}px)`),C.cache={x:X/Y.width,y:J/Y.height};const G=S(X/Y.width),ct=S(J/Y.height);switch(M){case"v":return N.onchange(G);case"h":return N.onchange(ct);default:return N.onchange(G,ct)}},_tapstop(){C.options.onstop(),a(document,["mouseup","touchend","touchcancel"],C._tapstop),a(document,["mousemove","touchmove"],C._tapmove)},trigger(){C._tapmove()},update(L=0,N=0){const{left:O,top:M,width:B,height:$}=C.options.wrapper.getBoundingClientRect();C.options.lock==="h"&&(N=L),C._tapmove({clientX:O+B*L,clientY:M+$*N})},destroy(){const{options:L,_tapstart:N,_keyboard:O}=C;a(document,["keydown","keyup"],O),a([L.wrapper,L.element],"mousedown",N),a([L.wrapper,L.element],"touchstart",N,{passive:!1})}},{options:T,_tapstart:A,_keyboard:D}=C;return s([T.wrapper,T.element],"mousedown",A),s([T.wrapper,T.element],"touchstart",A,{passive:!1}),s(document,["keydown","keyup"],D),C}function z(I={}){I=Object.assign({onchange:()=>0,className:"",elements:[]},I);const C=s(I.elements,"click",T=>{I.elements.forEach(A=>A.classList[T.target===A?"add":"remove"](I.className)),I.onchange(T),T.stopPropagation()});return{destroy:()=>a(...C)}}const K={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},j=(I,C,T)=>{const A=typeof I!="object"||I instanceof HTMLElement?{reference:I,popper:C,...T}:I;return{update(D=A){const{reference:L,popper:N}=Object.assign(A,D);if(!N||!L)throw new Error("Popper- or reference-element missing.");return((O,M,B)=>{const{container:$,arrow:Y,margin:X,padding:J,position:G,variantFlipOrder:ct,positionFlipOrder:st}={container:document.documentElement.getBoundingClientRect(),...K,...B},{left:pt,top:Bt}=M.style;M.style.left="0",M.style.top="0";const Ct=O.getBoundingClientRect(),Ft=M.getBoundingClientRect(),bo={t:Ct.top-Ft.height-X,b:Ct.bottom+X,r:Ct.right+X,l:Ct.left-Ft.width-X},eu={vs:Ct.left,vm:Ct.left+Ct.width/2-Ft.width/2,ve:Ct.left+Ct.width-Ft.width,hs:Ct.top,hm:Ct.bottom-Ct.height/2-Ft.height/2,he:Ct.bottom-Ft.height},[nu,iu="middle"]=G.split("-"),ou=st[nu],ru=ct[iu],{top:hs,left:ps,bottom:gs,right:fs}=$;for(const Nn of ou){const Ge=Nn==="t"||Nn==="b";let Mn=bo[Nn];const[vo,wo]=Ge?["top","left"]:["left","top"],[xo,Co]=Ge?[Ft.height,Ft.width]:[Ft.width,Ft.height],[su,au]=Ge?[gs,fs]:[fs,gs],[lu,cu]=Ge?[hs,ps]:[ps,hs];if(!(Mn<lu||Mn+xo+J>su))for(const ko of ru){let On=eu[(Ge?"v":"h")+ko];if(!(On<cu||On+Co+J>au)){if(On-=Ft[wo],Mn-=Ft[vo],M.style[wo]=`${On}px`,M.style[vo]=`${Mn}px`,Y){const Eo=Ge?Ct.width/2:Ct.height/2,xi=Co/2,ms=Eo>xi,uu=On+{s:ms?xi:Eo,m:xi,e:ms?xi:Co-Eo}[ko],du=Mn+{t:xo,b:0,r:0,l:xo}[Nn];Y.style[wo]=`${uu}px`,Y.style[vo]=`${du}px`}return Nn+ko}}}return M.style.left=pt,M.style.top=Bt,null})(L,N,A)}}},Z=class Er{constructor(C){tt(this,"_initializingActive",!0),tt(this,"_recalc",!0),tt(this,"_nanopop",null),tt(this,"_root",null),tt(this,"_color",k()),tt(this,"_lastColor",k()),tt(this,"_swatchColors",[]),tt(this,"_setupAnimationFrame",null),tt(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=C=Object.assign({...Er.DEFAULT_OPTIONS},C);const{swatches:T,components:A,theme:D,sliders:L,lockOpacity:N,padding:O}=C;["nano","monolith"].includes(D)&&!L&&(C.sliders="h"),A.interaction||(A.interaction={});const{preview:M,opacity:B,hue:$,palette:Y}=A;A.opacity=!N&&B,A.palette=Y||M||B||$,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),T&&T.length&&T.forEach(ct=>this.addSwatch(ct));const{button:X,app:J}=this._root;this._nanopop=j(X,J,{margin:O}),X.setAttribute("role","button"),X.setAttribute("aria-label",this._t("btn:toggle"));const G=this;this._setupAnimationFrame=requestAnimationFrame(function ct(){if(!J.offsetWidth)return requestAnimationFrame(ct);G.setColor(C.default),G._rePositioningPicker(),C.defaultRepresentation&&(G._representation=C.defaultRepresentation,G.setColorRepresentation(G._representation)),C.showAlways&&G.show(),G._initializingActive=!1,G._emit("init")})}_preBuild(){const{options:C}=this;for(const T of["el","container"])C[T]=h(C[T]);this._root=(T=>{const{components:A,useAsButton:D,inline:L,appClass:N,theme:O,lockOpacity:M}=T.options,B=J=>J?"":'style="display:none" hidden',$=J=>T._t(J),Y=c(`
      <div :ref="root" class="pickr">

        ${D?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${N||""}" data-theme="${O}" ${L?'style="position: unset"':""} aria-label="${$("ui:dialog")}" role="window">
          <div class="pcr-selection" ${B(A.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${B(A.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${$("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${$("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${B(A.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${$("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${B(A.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${$("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${A.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${B(Object.keys(A.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${B(A.interaction.input)} aria-label="${$("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${M?"HEX":"HEXA"}" type="button" ${B(A.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${M?"RGB":"RGBA"}" type="button" ${B(A.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${M?"HSL":"HSLA"}" type="button" ${B(A.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${M?"HSV":"HSVA"}" type="button" ${B(A.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${B(A.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${$("btn:save")}" type="button" ${B(A.interaction.save)} aria-label="${$("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${$("btn:cancel")}" type="button" ${B(A.interaction.cancel)} aria-label="${$("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${$("btn:clear")}" type="button" ${B(A.interaction.clear)} aria-label="${$("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),X=Y.interaction;return X.options.find(J=>!J.hidden&&!J.classList.add("active")),X.type=()=>X.options.find(J=>J.classList.contains("active")),Y})(this),C.useAsButton&&(this._root.button=C.el),C.container.appendChild(this._root.root)}_finalBuild(){const C=this.options,T=this._root;if(C.container.removeChild(T.root),C.inline){const A=C.el.parentElement;C.el.nextSibling?A.insertBefore(T.app,C.el.nextSibling):A.appendChild(T.app)}else C.container.appendChild(T.app);C.useAsButton?C.inline&&C.el.remove():C.el.parentNode.replaceChild(T.root,C.el),C.disabled&&this.disable(),C.comparison||(T.button.style.transition="none",C.useAsButton||(T.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const C=this,T=this.options.components,A=(C.options.sliders||"v").repeat(2),[D,L]=A.match(/^[vh]+$/g)?A:[],N=()=>this._color||(this._color=this._lastColor.clone()),O={palette:R({element:C._root.palette.picker,wrapper:C._root.palette.palette,onstop:()=>C._emit("changestop","slider",C),onchange(M,B){if(!T.palette)return;const $=N(),{_root:Y,options:X}=C,{lastColor:J,currentColor:G}=Y.preview;C._recalc&&($.s=100*M,$.v=100-100*B,$.v<0&&($.v=0),C._updateOutput("slider"));const ct=$.toRGBA().toString(0);this.element.style.background=ct,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${$.a}), transparent),
                        linear-gradient(to left, hsla(${$.h}, 100%, 50%, ${$.a}), rgba(255, 255, 255, ${$.a}))
                    `,X.comparison?X.useAsButton||C._lastColor||J.style.setProperty("--pcr-color",ct):(Y.button.style.setProperty("--pcr-color",ct),Y.button.classList.remove("clear"));const st=$.toHEXA().toString();for(const{el:pt,color:Bt}of C._swatchColors)pt.classList[st===Bt.toHEXA().toString()?"add":"remove"]("pcr-active");G.style.setProperty("--pcr-color",ct)}}),hue:R({lock:L==="v"?"h":"v",element:C._root.hue.picker,wrapper:C._root.hue.slider,onstop:()=>C._emit("changestop","slider",C),onchange(M){if(!T.hue||!T.palette)return;const B=N();C._recalc&&(B.h=360*M),this.element.style.backgroundColor=`hsl(${B.h}, 100%, 50%)`,O.palette.trigger()}}),opacity:R({lock:D==="v"?"h":"v",element:C._root.opacity.picker,wrapper:C._root.opacity.slider,onstop:()=>C._emit("changestop","slider",C),onchange(M){if(!T.opacity||!T.palette)return;const B=N();C._recalc&&(B.a=Math.round(100*M)/100),this.element.style.background=`rgba(0, 0, 0, ${B.a})`,O.palette.trigger()}}),selectable:z({elements:C._root.interaction.options,className:"active",onchange(M){C._representation=M.target.getAttribute("data-type").toUpperCase(),C._recalc&&C._updateOutput("swatch")}})};this._components=O}_bindEvents(){const{_root:C,options:T}=this,A=[s(C.interaction.clear,"click",()=>this._clearColor()),s([C.interaction.cancel,C.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),s(C.interaction.save,"click",()=>{!this.applyColor()&&!T.showAlways&&this.hide()}),s(C.interaction.result,["keyup","input"],D=>{this.setColor(D.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),D.stopImmediatePropagation()}),s(C.interaction.result,["focus","blur"],D=>{this._recalc=D.type==="blur",this._recalc&&this._updateOutput(null)}),s([C.palette.palette,C.palette.picker,C.hue.slider,C.hue.picker,C.opacity.slider,C.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!T.showAlways){const D=T.closeWithKey;A.push(s(C.button,"click",()=>this.isOpen()?this.hide():this.show()),s(document,"keyup",L=>this.isOpen()&&(L.key===D||L.code===D)&&this.hide()),s(document,["touchstart","mousedown"],L=>{this.isOpen()&&!u(L).some(N=>N===C.app||N===C.button)&&this.hide()},{capture:!0}))}if(T.adjustableNumbers){const D={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};d(C.interaction.result,(L,N,O)=>{const M=D[this.getColorRepresentation().toLowerCase()];if(M){const B=M[O],$=L+(B>=100?1e3*N:N);return $<=0?0:Number(($<B?$:B).toPrecision(3))}return L})}if(T.autoReposition&&!T.inline){let D=null;const L=this;A.push(s(window,["scroll","resize"],()=>{L.isOpen()&&(T.closeOnScroll&&L.hide(),D===null?(D=setTimeout(()=>D=null,100),requestAnimationFrame(function N(){L._rePositioningPicker(),D!==null&&requestAnimationFrame(N)})):(clearTimeout(D),D=setTimeout(()=>D=null,100)))},{capture:!0}))}this._eventBindings=A}_rePositioningPicker(){const{options:C}=this;if(!C.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:C.position})){const T=this._root.app,A=T.getBoundingClientRect();T.style.top=(window.innerHeight-A.height)/2+"px",T.style.left=(window.innerWidth-A.width)/2+"px"}}_updateOutput(C){const{_root:T,_color:A,options:D}=this;if(T.interaction.type()){const L=`to${T.interaction.type().getAttribute("data-type")}`;T.interaction.result.value=typeof A[L]=="function"?A[L]().toString(D.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",A,C,this)}_clearColor(C=!1){const{_root:T,options:A}=this;A.useAsButton||T.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),T.button.classList.add("clear"),A.showAlways||this.hide(),this._lastColor=null,this._initializingActive||C||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(C){const{values:T,type:A,a:D}=E(C),{lockOpacity:L}=this.options,N=D!==void 0&&D!==1;return T&&T.length===3&&(T[3]=void 0),{values:!T||L&&N?null:T,type:A}}_t(C){return this.options.i18n[C]||Er.I18N_DEFAULTS[C]}_emit(C,...T){this._eventListener[C].forEach(A=>A(...T,this))}on(C,T){return this._eventListener[C].push(T),this}off(C,T){const A=this._eventListener[C]||[],D=A.indexOf(T);return~D&&A.splice(D,1),this}addSwatch(C){const{values:T}=this._parseLocalColor(C);if(T){const{_swatchColors:A,_root:D}=this,L=k(...T),N=l(`<button type="button" style="--pcr-color: ${L.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return D.swatches.appendChild(N),A.push({el:N,color:L}),this._eventBindings.push(s(N,"click",()=>{this.setHSVA(...L.toHSVA(),!0),this._emit("swatchselect",L),this._emit("change",L,"swatch",this)})),!0}return!1}removeSwatch(C){const T=this._swatchColors[C];if(T){const{el:A}=T;return this._root.swatches.removeChild(A),this._swatchColors.splice(C,1),!0}return!1}applyColor(C=!1){const{preview:T,button:A}=this._root,D=this._color.toRGBA().toString(0);return T.lastColor.style.setProperty("--pcr-color",D),this.options.useAsButton||A.style.setProperty("--pcr-color",D),A.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||C||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(C=>a(...C)),Object.keys(this._components).forEach(C=>this._components[C].destroy())}destroyAndRemove(){this.destroy();const{root:C,app:T}=this._root;C.parentElement&&C.parentElement.removeChild(C),T.parentElement.removeChild(T),Object.keys(this).forEach(A=>this[A]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(C=360,T=0,A=0,D=1,L=!1){const N=this._recalc;if(this._recalc=!1,C<0||C>360||T<0||T>100||A<0||A>100||D<0||D>1)return!1;this._color=k(C,T,A,D);const{hue:O,opacity:M,palette:B}=this._components;return O.update(C/360),M.update(D),B.update(T/100,1-A/100),L||this.applyColor(),N&&this._updateOutput(),this._recalc=N,!0}setColor(C,T=!1){if(C===null)return this._clearColor(T),!0;const{values:A,type:D}=this._parseLocalColor(C);if(A){const L=D.toUpperCase(),{options:N}=this._root.interaction,O=N.find(M=>M.getAttribute("data-type")===L);if(O&&!O.hidden)for(const M of N)M.classList[M===O?"add":"remove"]("active");return!!this.setHSVA(...A,T)&&this.setColorRepresentation(L)}return!1}setColorRepresentation(C){return C=C.toUpperCase(),!!this._root.interaction.options.find(T=>T.getAttribute("data-type").startsWith(C)&&!T.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};tt(Z,"utils",o),tt(Z,"version","1.9.1"),tt(Z,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),tt(Z,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),tt(Z,"create",I=>new Z(I));let q=Z;return i=i.default})())})(tu);var jp=tu.exports;const Vp=gu(jp);function Kp(n){const t=Vp.create({el:n,theme:"nano",useAsButton:!0,position:"bottom-middle",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 1)","rgba(156, 39, 176, 1)","rgba(103, 58, 183, 1)","rgba(63, 81, 181, 1)","rgba(33, 150, 243, 1)","rgba(3, 169, 244, 1)","rgba(0, 188, 212, 1)","rgba(0, 150, 136, 1)","rgba(76, 175, 80, 1)","rgba(139, 195, 74, 1)","rgba(205, 220, 57, 1)","rgba(255, 235, 59, 1)","rgba(255, 193, 7, 1)","rgba(0, 0, 0, 1)","rgba(255, 255, 255, 1)"],closeWithKey:"Escape",components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!0,input:!0,clear:!0,save:!0}}});return t.on("show",()=>{const e=t.getRoot(),{left:i,top:o,height:r}=n.getBoundingClientRect();e.app.style.left=i+10+"px",e.app.style.top=o+r+10+"px"}),t}function Zp(n,t){const e=n.getRangeAt(0);let i;if(n.anchorNode===t){let o=t;for(;o.firstElementChild!=null;)o=o.firstElementChild;i=o.getBoundingClientRect()}else i=e.getBoundingClientRect();return i}function At(n){if(n){const t=n.anchor,e=n.focus,i=n.anchor.getNode(),o=n.focus.getNode();return i===o?i:n.isBackward()?ta(e)?i:o:ta(t)?i:o}}function ul(n){const t=n,e=parseInt(t.substring(1,3),16),i=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16);return(e*299+i*587+o*114)/1e3<127.5}function dl(n){const[t,e,i,o]=n.match(/\d+/g),r=parseInt(t).toString(16).padStart(2,"0"),s=parseInt(e).toString(16).padStart(2,"0"),a=parseInt(i).toString(16).padStart(2,"0"),l=o?Math.round(parseFloat(o)*255).toString(16).padStart(2,"0"):"";return`#${r}${s}${a}${l}`.toUpperCase()}const hl=ye(),pl=ye(),gl=ye(),Re="CrimsonEditorTheme",ee={h1:{icon:rt.h1,text:"Heading 1",size:"24px",weight:"900"},h2:{icon:rt.h2,text:"Heading 2",size:"22px",weight:"800"},h3:{icon:rt.h3,text:"Heading 3",size:"20px",weight:"700"},h4:{icon:rt.h4,text:"Heading 4",size:"18px",weight:"600"},h5:{icon:rt.h5,text:"Heading 5",size:"16px",weight:"500"},h6:{icon:rt.h6,text:"Heading 6",size:"14px"},paragraph:{icon:rt.paragraph,text:"Normal"},quote:{icon:rt.quote,text:"Blockquote"},code:{icon:rt.code,text:"Code"}},Yp={bullet:"unordered",number:"ordered",check:"check"},He={toolbar:{history:["undo","redo"],formating:["bold","italic","underline","strikethrough","subscript","superscript","clearformat"],color:["color","fill"],align:["left","center","right","justify"],blockType:["h1","h2","h3","h4","h5","h6","paragraph","quote","code"],fontSizes:Up,lists:["unordered","ordered","check"],indentation:["indent","outdent"],media:["link","image","video"],direction:["ltr","rtl"],insert:["table"]}};class qp{constructor(t,e){tt(this,"input"),tt(this,"options"),tt(this,"editorElement",this.createElement("div")),tt(this,"editorWorkSpace",this.createElement("div")),tt(this,"lexicalEditor"),tt(this,"historyState"),tt(this,"buttons",{}),tt(this,"toolbar",this.createElement("div")),tt(this,"imageResizer",null),tt(this,"floatToolbar",Pp()),tt(this,"linkFloatButtons",Fh(this.floatToolbar)),tt(this,"tableOptionsWrapper",null),tt(this,"readOnly"),tt(this,"EditorToolbarActions",{clearformat:()=>{this.lexicalEditor.update(()=>{const i=W();if(P(i)){const o=i.anchor,r=i.focus,s=i.getNodes();if(o.key===r.key&&o.offset===r.offset)return;s.forEach((a,l)=>{if(H(a)){let c=a;l===0&&o.offset!==0&&(c=c.splitText(o.offset)[1]||c),l===s.length-1&&(c=c.splitText(r.offset)[0]||c),c.__style!==""&&c.setStyle(""),c.__format!==0&&(c.setFormat(0),vc(c).setFormat("")),a=c}else yh(a)||fh(a)?a.replace(it(),!0):$isDecoratorBlockNode(a)&&a.setFormat("")})}})},undo:()=>{this.lexicalEditor.dispatchCommand(eo,null)},redo:()=>{this.lexicalEditor.dispatchCommand(no,null)},attachLink:async()=>{this.lexicalEditor.update(async()=>{var i,o,r,s,a,l,c,u;const h=W(),d=At(h),p=d.getParent(),g=h.getTextContent(),y=p.getTextContent(),_=Nt(d)||Nt(p);let w="",f=!1;_&&(w=((i=d.getURL)==null?void 0:i.call(d))||((o=p.getURL)==null?void 0:o.call(p))||"",(r=d.getRel)!=null&&r.call(d)||(s=p.getRel)!=null&&s.call(p),(a=d.getTarget)!=null&&a.call(d)||(l=p.getTarget)!=null&&l.call(p),f=ve(((c=d==null?void 0:d.getFirstChild)==null?void 0:c.call(d))||((u=p==null?void 0:p.getFirstChild)==null?void 0:u.call(p))));const m=Ap({defaultAnchorText:g||y,defaultLink:w,isImageLink:f}),b=dn({title:w?"Edit Link":"Add Link"});b.open(m);const v=await b.result(),x=[v.sponsor,v.nofollow,v.dofollow,v.follow].filter(Boolean).join(" ");this.lexicalEditor.dispatchCommand(ha,{...v,rel:x,hasImageChild:f})})},detachLink:i=>{this.lexicalEditor.update(()=>{if(i){const o=at(i),r=o.getFirstChild();ve(r)?o.replace(r):pa(null)}else pa(null)})},attachImage:i=>{this.lexicalEditor.update(async()=>{const o=W(),r=At(o),s=at(i),a={};let l=!1;if(ve(s)){a.src=s.__src,a.altText=s.__altText,a.width=s.__width,a.height=s.__height,a.maxWidth=s.__maxWidth,a.originalSrc=s.getOriginalSrc(),a.cropBoxData=s.getCropBoxData(),l=!0;const d=s.getParent();Nt(d)&&(a.url=d.getURL(),a.target=d.getTarget(),a.rels=d.getRel())}const c=Sp(a),u=dn({title:l?"Edit image":"Add image"});u.open(c);const h=await u.result();h.editMode=l,h.nodeKey=i,h.float=s?s.__float:"",h.selection=this.lexicalEditor.getEditorState()._selection,h.selectionNode=r,this.lexicalEditor.dispatchCommand(hl,h)})},resizeImage:(i,o,r)=>{this.lexicalEditor.update(async()=>{const s=at(i);(ve(s)||nn(s))&&s.setWidthAndHeight(o,r)})},floatImageLeft:i=>{this.lexicalEditor.update(async()=>{const o=at(i);(ve(o)||nn(o))&&o.setFloat(o.__float==="left"?"":"left")})},floatImageRight:i=>{this.lexicalEditor.update(async()=>{const o=at(i);(ve(o)||nn(o))&&o.setFloat(o.__float==="right"?"":"right")})},floatImageCenter:i=>{this.lexicalEditor.update(async()=>{const o=at(i);(ve(o)||nn(o))&&o.setFloat(o.__float==="center"?"":"center")})},fitImageWidth:i=>{this.lexicalEditor.update(async()=>{const o=at(i);(ve(o)||nn(o))&&o.setFitWidth()})},attachVideo:i=>{this.lexicalEditor.update(async()=>{const o=at(i),r={};let s=!1;nn(o)&&(r.src=o.__src,r.width=o.__width,r.height=o.__height,r.maxWidth=o.__maxWidth,s=!0);const a=Dp(r),l=dn({title:s?"Edit Video":"Add Video"});l.open(a);const c=await l.result();c.editMode=s,c.nodeKey=i,this.lexicalEditor.dispatchCommand(pl,c)})},attachTable:async()=>{const i=Op(),o=dn({title:"Add Table"});o.open(i);const r=await o.result();this.lexicalEditor.update(()=>{const s=wh(r.rows,r.columns,!1),a=it();ur([s,a])})},tableActions:{clearTableSelection:()=>{this.lexicalEditor.update(()=>{const i=W(),o=At(i),r=ht(o)?o:ht(o.getParent())?o.getParent():null;if(r.isAttached()){const s=Kn(r),a=this.lexicalEditor.getElementByKey(s.getKey());if(!a)throw new Error("Expected to find tableElement in DOM");const l=Mh(a);l&&l.clearHighlight(),s.markDirty()}bt().selectStart()})},insertTableRowAtSelection:i=>()=>{this.lexicalEditor.update(()=>{kh(i)})},insertTableColumnAtSelection:i=>()=>{this.lexicalEditor.update(()=>{Eh(i)})},deleteTableRowAtSelection:()=>{this.lexicalEditor.update(()=>{Th()})},deleteTableAtSelection:()=>{this.lexicalEditor.update(()=>{const i=W(),o=At(i),r=ht(o)?o:ht(o.getParent())?o.getParent():null;r&&Kn(r).remove()})},deleteTableColumnAtSelection:()=>{this.lexicalEditor.update(()=>{Sh()})},toggleTableRowIsHeader:()=>{this.lexicalEditor.update(()=>{const i=W(),o=At(i),r=ht(o)?o:ht(o.getParent())?o.getParent():null,s=Kn(r),a=xh(r),l=s.getChildren();if(a>=l.length||a<0)throw new Error("Expected table cell to be inside of table row.");const c=l[a];if(!Ht(c))throw new Error("Expected table row");c.getChildren().forEach(u=>{if(!ht(u))throw new Error("Expected table cell");u.toggleHeaderStyle(Tt.ROW)})})},toggleTableColumnIsHeader:()=>{this.lexicalEditor.update(()=>{const i=W(),o=At(i),r=ht(o)?o:ht(o.getParent())?o.getParent():null,s=Kn(r),a=Ch(r),l=s.getChildren(),c=Math.max(...l.map(u=>u.getChildren().length));if(a>=c||a<0)throw new Error("Expected table cell to be inside of table row.");for(let u=0;u<l.length;u++){const h=l[u];if(!Ht(h))throw new Error("Expected table row");const d=h.getChildren();if(a>=d.length)continue;const p=d[a];if(!ht(p))throw new Error("Expected table cell");p.toggleHeaderStyle(Tt.COLUMN)}})}}}),tt(this,"tableFeatures",{insertRowBefore:{text:"Insert Row Above",onclick:this.EditorToolbarActions.tableActions.insertTableRowAtSelection(!1)},insertRowAfter:{text:"Insert Row Below",onclick:this.EditorToolbarActions.tableActions.insertTableRowAtSelection(!0)},insertColumnsBefore:{text:"Insert Column Left",onclick:this.EditorToolbarActions.tableActions.insertTableColumnAtSelection(!0)},insertColumnsAfter:{text:"Insert Column Right",onclick:this.EditorToolbarActions.tableActions.insertTableColumnAtSelection(!1)},deleteColumn:{text:"Delete Column",onclick:this.EditorToolbarActions.tableActions.deleteTableColumnAtSelection},deleteRow:{text:"Delete Row",onclick:this.EditorToolbarActions.tableActions.deleteTableRowAtSelection},deleteTable:{text:"Delete Table",onclick:this.EditorToolbarActions.tableActions.deleteTableAtSelection},togggleRowHeader:{text:"Add Row Header",onclick:this.EditorToolbarActions.tableActions.toggleTableRowIsHeader},toggleColumnHeader:{text:"Add Column Header",onclick:this.EditorToolbarActions.tableActions.toggleTableColumnIsHeader}}),this.options={...He,...e},this.input=t,this.readOnly=e.readOnly,this.init()}init(){this.editorElement.className=Re,this.editorElement.classList.add(this.options.mode==="light"?"light":"dark"),this.input.insertAdjacentElement("afterend",this.editorElement),this.input.style.display="none",this.createEditorWorkSpace(),this.initLexical(),this.createToolbar(),this.appendStyleSheet(),this.attachEditorChangeEvent(),this.initWindowEvents(),this.initTableOptions(),this.initReadOnly()}createElement(t){return document.createElement(t)}createToolbarButton(t,e,i){const o=this.createElement("button");return o.className=`${Re}__toolbar-button`,o.innerHTML=rt[t],o.title=t,o.setAttribute("data-action",t),i&&o.setAttribute("data-category",i),o.setAttribute("aria-label",t),o.style.border="none",o.style.cursor="pointer",o.style.padding="4px",o.style.borderRadius="4px",o.style.display="inline-flex",o.style.position="relative",o.style.transition="background-color 300ms ease-out",o.style.color="inherit",o.type="button",e&&o.addEventListener("click",e),o}createToolbarDropDownButton(t,e,i,o,r){var s,a;const l=this.createElement("button");if(l.dataset.id=t,r&&(l.dataset.category=r),i){const c=document.createElement("div");c.innerHTML=(s=ee[t])==null?void 0:s.icon,l.append(c)}if(e){const c=document.createElement("span");c.innerText=e,l.append(c),c.style.color="inherit !important",c.style.fontWeight=((a=ee[t])==null?void 0:a.weight)??"400"}return l.style.display="flex",l.style.padding="0px",l.style.alignItems="center",l.style.gap="8px",l.style.backgroundColor="transparent",l.style.border="none",l.style.cursor="pointer",l.style.width="100%",l.style.color="inherit !important",l.type="button",l.onclick=o,l}createToolbar(){var t,e,i,o,r,s,a,l,c,u,h,d,p,g,y,_;this.toolbar.className=`${Re}__toolbar`,this.toolbar.style.display="flex",this.toolbar.style.alignItems="center",this.toolbar.style.gap="1rem",this.toolbar.style.flexWrap="wrap",this.toolbar.style.color=this.options.mode==="light"?"white":"black";const w=this.options.toolbar;if((e=(t=w.history)==null?void 0:t.filter(m=>He.toolbar.history.includes(m)))==null||e.forEach(m=>{const b=this.createToolbarButton(m,()=>this.EditorToolbarActions[m]());b.disabled=!0,this.toolbar.appendChild(b),this.buttons[m]=b}),(o=(i=w.formating)==null?void 0:i.filter(m=>He.toolbar.formating.includes(m)))==null||o.forEach(m=>{let b;switch(m){case"clearformat":b=this.createToolbarButton(m,()=>this.EditorToolbarActions.clearformat());break;default:b=this.createToolbarButton(m,()=>this.lexicalEditor.dispatchCommand(pe,m))}b&&(this.toolbar.appendChild(b),this.buttons[m]=b)}),(r=w.color)==null||r.forEach(m=>{let b;b=this.createToolbarButton(m),this.toolbar.appendChild(b),this.addColorPickerToButton(b,m==="color"?"color":"background-color"),this.buttons[m]=b}),(a=(s=w.align)==null?void 0:s.filter(m=>He.toolbar.align.includes(m)))==null||a.forEach(m=>{const b=this.createToolbarButton(m,()=>{this.lexicalEditor.dispatchCommand(Cl,m)});this.toolbar.appendChild(b),this.buttons[m]=b}),(c=(l=w.indentation)==null?void 0:l.filter(m=>He.toolbar.indentation.includes(m)))==null||c.forEach(m=>{let b;b=this.createToolbarButton(m,()=>{this.lexicalEditor.dispatchCommand(m==="indent"?wl:Ko)}),this.toolbar.appendChild(b),this.buttons[m]=b}),w.blockType&&w.blockType.length>0){const m=Pa([],this.options.mode);(h=(u=w.blockType)==null?void 0:u.filter(b=>He.toolbar.blockType.includes(b)))==null||h.forEach(b=>{let v;switch(b){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":v=this.createToolbarDropDownButton(b,ee[b].text,ee[b].icon,()=>{this.lexicalEditor.update(()=>{const x=W();ki(x,()=>un(b))})});break;case"paragraph":v=this.createToolbarDropDownButton(b,ee[b].text,ee[b].icon,()=>{this.lexicalEditor.update(()=>{const x=W();ki(x,()=>it())})});break;case"quote":v=this.createToolbarDropDownButton(b,ee[b].text,ee[b].icon,()=>{this.lexicalEditor.update(()=>{const x=W();ki(x,()=>ns())})});break;case"code":v=this.createToolbarDropDownButton(b,ee[b].text,ee[b].icon,()=>{this.lexicalEditor.update(()=>{let x=W();if(x!==null)if(x.isCollapsed())ki(x,()=>Ke());else{const E=x.getTextContent(),k=Ke();x.insertNodes([k]),x=W(),P(x)&&x.insertRawText(E)}})});break}m.appendOption(v),this.buttons[b]=v}),m.updateSelectedOption("paragraph"),this.attachEditorBlockDropDownChangeEvent(m),this.toolbar.appendChild(m)}if(w.fontSizes&&w.fontSizes.length>0){const m=Pa([],this.options.mode);w.fontSizes.forEach(b=>{let v=this.createToolbarDropDownButton(`font-size-${b}`,`${b}px`,void 0,()=>{this.lexicalEditor.update(()=>{const x=W();P(x)&&ea(x,{"font-size":b+"px"})})});b&&(m.appendOption(v),this.buttons[b]=v)}),this.attachEditorFontSizeDropDownChangeEvent(m),this.toolbar.appendChild(m)}const f={unordered:xa,ordered:Ca,check:ka};(p=(d=w.lists)==null?void 0:d.filter(m=>He.toolbar.lists.includes(m)))==null||p.forEach(m=>{let b=this.createToolbarButton(m,v=>{v.currentTarget.classList.contains("active")?this.lexicalEditor.dispatchCommand(Ea,void 0):this.lexicalEditor.dispatchCommand(f[m],void 0)},"list");this.toolbar.append(b),this.buttons[m]=b}),(g=w.media)==null||g.forEach(m=>{let b;switch(m){case"link":b=this.createToolbarButton(m);break;case"image":b=this.createToolbarButton(m,()=>{this.EditorToolbarActions.attachImage()});break;case"video":b=this.createToolbarButton(m,()=>{this.EditorToolbarActions.attachVideo()});break}b&&(this.toolbar.appendChild(b),this.buttons[m]=b)}),(y=w.direction)==null||y.forEach(m=>{const b=this.createToolbarButton(m,()=>{this.lexicalEditor.dispatchCommand(gl,m)});this.toolbar.appendChild(b),this.buttons[m]=b}),(_=w.insert)==null||_.forEach(m=>{let b;switch(m){case"table":b=this.createToolbarButton(m,()=>{this.EditorToolbarActions.attachTable()});break}b&&(this.toolbar.appendChild(b),this.buttons[m]=b)}),this.editorElement.prepend(this.toolbar)}createEditorWorkSpace(){this.editorWorkSpace.className=`${Re}__editor-work-space`,this.editorWorkSpace.contentEditable=!0,this.editorWorkSpace.style.border="1px solid black",this.editorWorkSpace.style.minHeight="400px",this.editorWorkSpace.style.padding="20px",this.editorWorkSpace.style.overflow="auto",this.editorWorkSpace.style.color=this.options.mode==="light"?"white":"black",this.editorElement.appendChild(this.editorWorkSpace)}initLexical(){this.lexicalEditor=hc(cl),this.historyState=Ud(),this.lexicalEditor.setRootElement(this.editorWorkSpace),this.lexicalEditor.update(()=>{const t=new DOMParser().parseFromString(this.input.value||'<p><span style="white-space: pre-wrap;">Start Typing...</span></p>',"text/html"),e=Ec(this.lexicalEditor,t);ur(e)}),this.lexicalEditor.dispatchCommand(to),_h(this.lexicalEditor),$d(this.lexicalEditor,this.historyState,1e3),this.lexicalEditor.registerUpdateListener(({editorState:t})=>{t.read(()=>{const e=Tc(this.lexicalEditor);this.input.value=e})}),this.registerEditorHistorycommands(),this.registerEditorCommands(),this.registerRootEventListers()}registerEditorHistorycommands(){this.lexicalEditor.registerCommand($n,t=>(this.buttons.undo&&(this.buttons.undo.disabled=!t),!1),de),this.lexicalEditor.registerCommand(zn,t=>(this.buttons.redo&&(this.buttons.redo.disabled=!t),!1),de)}registerEditorCommands(){this.lexicalEditor.registerCommand(ha,t=>{const e=W(),i=At(e),{hasImageChild:o}=t;if(!P(e))return!1;const r=yt(t.title),s=wn(t.url,t);if(s.append(r),e.getTextContent().trim())e.insertNodes([s]);else if(i.__type==="extended-text")if(o){const a=i.getPreviousSibling();Nt(a)&&(a.setURL(t.url),a.setTarget(t.target),a.setRel(t.rel))}else{const a=i.getParent();Nt(a)?(a.replace(s),s.selectEnd()):(a.clear(),a.append(s),a.selectEnd())}else o?Nt(i)&&(i.replace(s,!0),s.selectEnd()):e.insertNodes([s]);return!0},de),this.lexicalEditor.registerCommand(xa,()=>(zo(this.lexicalEditor,"bullet"),!0),de),this.lexicalEditor.registerCommand(Ca,()=>(zo(this.lexicalEditor,"number"),!0),de),this.lexicalEditor.registerCommand(ka,()=>(zo(this.lexicalEditor,"check"),!0),de),this.lexicalEditor.registerCommand(Ea,()=>(Jd(this.lexicalEditor),!0),de),this.lexicalEditor.registerCommand(hl,t=>{const{imageData:e,alt:i,url:o,sponsor:r,dofollow:s,nofollow:a,follow:l,target:c,editMode:u,originalSrc:h,cropBoxData:d,float:p,nodeKey:g,selection:y}=t,_=rs({src:e,altText:i,width:"auto",height:"auto",originalSrc:h,cropBoxData:d,float:p}),w=[r,s,a,l].filter(Boolean),f=wn(o,{...w.length>0&&{rel:w.join(" ")},target:c});if(g){const m=at(g),{__width:b,__height:v}=m;_.setWidthAndHeight(b,v),o?(f.append(_),Nt(m.getParent())?m.getParent().replace(f):m.replace(f),f.selectEnd()):m.replace(_)}else{const m=At(y),b=m.__type==="extended-text"?m.getParent():m;if(o){const v=f.getKey();f.setTitle(`nodekey-${v}`),f.append(_),b.append(f),b.selectEnd(),setTimeout(()=>{const x=document.querySelector(`[title="nodekey-${v}"]`);x.setAttribute("data-node-key",x.title.replace("nodekey-",""))},100)}else b.append(_),b.selectEnd()}return!0},et),this.lexicalEditor.registerCommand(pl,t=>{const{videoData:e,editMode:i,float:o,nodeKey:r,poster:s}=t,a=bt(),l=W(),c=at(r)||At(l),u=ss({src:e,width:"auto",height:"auto",float:o,poster:s}),h=it();return i?(h.append(u),c.getParent().replace(h),h.selectEnd()):(h.append(u),a.append(h).selectEnd()),!0},et),this.lexicalEditor.registerCommand(Di,()=>{const t=W();if(!P(t))return;const e=At(t),i=e.getChildren?e.getChildren():[],[o]=i;return Nt(o)&&i.length<3?(e.append(me()),!0):!1},de),this.lexicalEditor.registerCommand(gl,t=>{var e,i,o,r,s,a,l,c,u;t==="rtl"?this.editorWorkSpace.classList.contains("rtl")?((e=this.buttons.rtl)==null||e.classList.remove("active"),this.editorWorkSpace.classList.remove("rtl")):((i=this.buttons.right)==null||i.classList.add("active"),(o=this.buttons.left)==null||o.classList.remove("active"),(r=this.buttons.rtl)==null||r.classList.add("active"),(s=this.buttons.ltr)==null||s.classList.remove("active"),this.editorWorkSpace.classList.add("rtl")):((a=this.buttons.rtl)==null||a.classList.remove("active"),(l=this.buttons.ltr)==null||l.classList.add("active"),(c=this.buttons.right)==null||c.classList.remove("active"),(u=this.buttons.left)==null||u.classList.add("active"),this.editorWorkSpace.classList.remove("rtl"))},et),this.lexicalEditor.registerCommand(ti,t=>{const e=W();if(!P(e))return!1;const i=e.anchor.getNode(),o=Gt(i,ft);return o&&o.getTextContent().trim()===""?(this.lexicalEditor.update(()=>{const r=dr(o,qe);if(r){const s=it();if(r.getChildren().length>1){const a=it();r.insertAfter(a),a.select(),o.remove(),setTimeout(()=>{this.lexicalEditor.update(()=>{})},0)}else r.replace(s),s.select();r.getChildrenSize()===0&&r.remove()}}),!0):!1},de)}registerRootEventListers(){this.lexicalEditor.registerRootListener(t=>{t.addEventListener("click",e=>{const i=window.getSelection(),o=this.lexicalEditor.getRootElement();i.type!=="None"&&Zp(i,o)})})}appendStyleSheet(){const t=document.createElement("style");t.innerHTML=`
      .CrimsonEditorTheme {
        font-family: inherit;
        display:flex;
        flex-direction:column;
        gap:24px;
      }

      .CrimsonEditorTheme.light .${Re}__toolbar *{
        color:white !important;
      }

      .CrimsonEditorTheme .${Re}__toolbar .select-dropdown-wrapper *{
        color:black !important;
      }

      .CrimsonEditorTheme .${Re}__toolbar *:not(svg, path, button){
        color:black !important;
      }

      .CrimsonEditorTheme__textBold {
        font-weight: bold;
      }

      .CrimsonEditorTheme__editor-work-space.rtl *{
        direction: rtl !important;
      }
  
      .CrimsonEditorTheme__textCode {
        font-family: monospace;
      }
  
      .CrimsonEditorTheme__textItalic {
        font-style: italic;
      }
  
      .CrimsonEditorTheme__textStrikethrough {
        text-decoration: line-through;
      }
  
      .CrimsonEditorTheme__textUnderline {
        text-decoration: underline;
      }
  
      .CrimsonEditorTheme__textUnderlineStrikethrough {
        text-decoration: underline line-through;
      }
  
      .CrimsonEditorTheme__listItemChecked,
      .CrimsonEditorTheme__listItemUnchecked {
        position: relative;
        margin-left: 8px;
        margin-right: 8px;
        padding-left: 24px;
        padding-right: 24px;
        list-style-type: none;
        outline: none;
      }
  
      .CrimsonEditorTheme__listItemUnchecked:before, .CrimsonEditorTheme__listItemChecked:before {
        content: "";
        width: 16px;
        height: 16px;
        left: 0;
        top:2px;
        cursor: pointer;
        display: block;
        background-size: cover;
        position: absolute;
      }
  
      .CrimsonEditorTheme__listItemUnchecked:before {
        border: 1px solid #999;
        border-radius: 2px;
      }
  
      .CrimsonEditorTheme__listItemChecked:before {
        border: 1px solid rgb(61,135,245);
        border-radius: 2px;
        background-color: #3d87f5;
        background-repeat: no-repeat;
      }
  
      .CrimsonEditorTheme__listItemChecked:after {
        content: "";
        cursor: pointer;
        border-color: #fff;
        border-style: solid;
        position: absolute;
        display: block;
        top: 6px;
        width: 3px;
        left: 7px;
        right: 7px;
        height: 6px;
        transform: rotate(45deg);
        border-width: 0 2px 2px 0;
      }
  
      .CrimsonEditorTheme__listItemChecked > span{
        text-decoration: line-through;
      }
  
      .CrimsonEditorTheme__toolbar-button{
        background-color: transparent
      }
  
      .CrimsonEditorTheme__toolbar-button.active{
        background-color: rgba(195,195,195,0.5)
      }
  
      .select-dropdown-wrapper::-webkit-scrollbar{
        width:10px;
      }
  
      .select-dropdown-wrapper::-webkit-scrollbar-thumb{
        width:10px;
        background-color: #eeeeee;
        border-radius: 10px
      }
  
      .color-picker{
        position:absolute !important;
        top: 110% !important;
        left: 20% !important;
      }
  
      .CrimsonEditorTheme__link{
        display:inline-block
      }
  
      .CrimsonEditorTheme__link:has(span.float-left){
        float:left
      }
  
      .CrimsonEditorTheme__link:has(span.float-right){
        float:right
      }
  
      .CrimsonEditorTheme__paragraph:has(span.float-center){
        text-align:center
      }
}
    `,this.editorElement.prepend(t)}attachEditorChangeEvent(){const t=[this.buttons.unordered,this.buttons.ordered,this.buttons.check].filter(Boolean),e=this.buttons.link,i=this.buttons.color,o=this.buttons.fill,r=this,s=this.options.toolbar;this.lexicalEditor.registerUpdateListener(function({editorState:g}){g.read(function(){var y,_;const w=W();w&&((y=s.formating)==null||y.forEach(f=>{a(w,f)}),(_=s.align)==null||_.forEach(f=>{l(w,f)}),c(w),u(w),i&&h(w,i),o&&d(w,o),p(w))})});function a(g,y){P(g)&&r.buttons[y].classList.toggle("active",g.hasFormat(y))}function l(g,y){if(!P(g))return;const _=At(g),w=_.getParent(),f=F(_)?_.getFormatType():(w==null?void 0:w.getFormatType())||"left",m=r.buttons[y];m&&(r.editorWorkSpace.classList.contains("rtl")?(r.buttons.rtl.classList.add("active"),r.buttons.ltr.classList.remove("active"),r.buttons.right.classList.add("active"),r.buttons.left.classList.remove("active")):(m.classList.toggle("active",f===y),r.buttons.ltr.classList.add("active"),r.buttons.rtl.classList.remove("active")))}function c(g){if(!P(g))return;const y=g.anchor.getNode();let _=y.getKey()==="root"?y:Gt(y,m=>{const b=m.getParent();return b!==null&&re(b)});_===null&&(_=y.getTopLevelElementOrThrow());const w=dr(y,qe),f=w?w.getListType():(_==null?void 0:_.getListType)&&_.getListType();t.forEach(m=>{m.dataset.action===Yp[f]?m.classList.add("active"):m.classList.remove("active")})}function u(g){if(!P(g))return;const y=At(g),_=y.getParent();e&&(Nt(y)||Nt(_)?(e.onclick=null,e.onclick=()=>{r.EditorToolbarActions.detachLink()},e.innerHTML=rt.unlink,e.classList.add("active")):(e.onclick=null,e.onclick=()=>{r.EditorToolbarActions.attachLink()},e.innerHTML=rt.link,e.classList.remove("active")))}function h(g,y){if(!P(g))return;const _=Ro(g,"color");if(_){y.style.backgroundColor=_.toString();const w=_.toString().includes("rgb")?dl(_.toString()):_.toString();ul(w)?y.style.color="white":y.style.color="black"}else y.style.backgroundColor="transparent",y.style.color=r.options.mode==="light"?"white":"black"}function d(g,y){if(!P(g))return;const _=Ro(g,"background-color");if(_){y.style.backgroundColor=_.toString();const w=_.toString().includes("rgb")?dl(_.toString()):_.toString();ul(w)?y.style.color="white":y.style.color="black"}else y.style.backgroundColor="transparent",y.style.color=r.options.mode==="light"?"white":"black"}function p(g){var y,_,w,f,m,b,v,x;if(P(g))if(r.editorWorkSpace.classList.contains("rtl"))(v=r.buttons.rtl)==null||v.classList.add("active"),(x=r.buttons.ltr)==null||x.classList.remove("active");else{const E=At(g).getParent();if(E){const k=E.getDirection();k==="ltr"?((y=r.buttons.ltr)==null||y.classList.add("active"),(_=r.buttons.rtl)==null||_.classList.remove("active")):k==="rtl"?((w=r.buttons.rtl)==null||w.classList.add("active"),(f=r.buttons.ltr)==null||f.classList.remove("active")):((m=r.buttons.rtl)==null||m.classList.remove("active"),(b=r.buttons.ltr)==null||b.classList.remove("active"))}}}}attachEditorBlockDropDownChangeEvent(t){this.lexicalEditor.registerUpdateListener(({editorState:e})=>{e.read(()=>{const i=W();if(!i||!P(i))return;const o=At(i),r=o.getParent();if(!F(o)){const s=r.getTag&&r.getTag(),a=r.getType&&r.getType(),l=s||a||"paragraph";t.updateSelectedOption(l)}})})}attachEditorFontSizeDropDownChangeEvent(t){this.lexicalEditor.registerUpdateListener(({editorState:e})=>{e.read(()=>{const i=W();if(!i||!P(i))return;const o=At(i);if(o.getParent(),!F(o)){const r=Ro(i,"font-size");r?t.updateSelectedOption(`font-size-${parseInt(r).toString()}`):t.updateSelectedOption("font-size-16")}})})}initWindowEvents(){if(this.readOnly)return;const t=this.editorElement,{list:e,link:i}=cl.theme;let o=null,r=null;window.addEventListener("click",s=>{this.editorElement.contains(s.target)&&s.target.classList.contains(e.listitem)&&(s.target.classList.contains(e.listitemUnchecked)?s.target.classList.replace(e.listitemUnchecked,e.listitemChecked):s.target.classList.replace(e.listitemChecked,e.listitemUnchecked))}),window.addEventListener("click",s=>{var a,l,c;const u=s.target.closest("img"),h=s.target.classList.contains("image-element")&&s.target,d=s.target.classList.contains("image-element-wrapper")&&s.target;if(s.target.classList.contains(i)||s.target.closest(`.${i}`)){const p=s.target.closest(`.${i}`),g=p.dataset.nodeKey;this.linkFloatButtons.attachTo(t,p),this.floatToolbar.appendLinkEdit({nodeKey:g}),this.floatToolbar.appendLinkDetach({nodeKey:g}),this.linkFloatButtons.attachTo(t,p)}else if(d||h){(((a=d==null?void 0:d.children)==null?void 0:a.item(0))||h).dataset.nodeKey!==o&&((l=this.imageResizer)==null||l.destroy(),this.imageResizer=new al({image:h||d.children[0],onResize:(g,y,_)=>{this.EditorToolbarActions.resizeImage(_.dataset.nodeKey,g,y)}}),o=(((c=d.children)==null?void 0:c.item(0))||h).dataset.nodeKey);const p=u==null?void 0:u.dataset.nodeKey;this.floatToolbar.appendImageEdit({nodeKey:p}),this.floatToolbar.appendFloatImageLeft({nodeKey:p}),this.floatToolbar.appendFloatImageCenter({nodeKey:p}),this.floatToolbar.appendFloatImageRight({nodeKey:p}),this.floatToolbar.appendFitWidth({nodeKey:o}),this.linkFloatButtons.attachTo(t,h||d)}else o=null}),window.addEventListener("click",s=>{const a=s.target.tagName==="VIDEO"&&s.target;a?(this.imageResizer=new al({image:a,onResize:(l,c,u)=>{this.EditorToolbarActions.resizeImage(u.dataset.nodeKey,l,c)}}),o=a.dataset.nodeKey,this.floatToolbar.appendVideoEdit({nodeKey:o}),this.floatToolbar.appendFloatImageLeft({nodeKey:o}),this.floatToolbar.appendFloatImageCenter({nodeKey:o}),this.floatToolbar.appendFloatImageRight({nodeKey:o}),this.floatToolbar.appendFitWidth({nodeKey:o}),this.linkFloatButtons.attachTo(t,a)):o=null}),window.addEventListener("click",s=>{const a=s.target.closest("td, th, .table-options");a?(document.body.appendChild(this.tableOptionsWrapper),this.tableOptionsWrapper.attachTo(a),this.updateTableOptionsFeatures(a)):this.tableOptionsWrapper.removeSelf()}),window.addEventListener("mousedown",s=>{r=s.target}),window.addEventListener("mouseup",()=>{var s;if(r){if(r.classList.contains("image-resize-anchor"))return;(s=this.imageResizer)==null||s.destroy(),this.imageResizer=null,this.linkFloatButtons.close(),r=null}}),window.addEventListener("mousemove",s=>{this.linkFloatButtons.updatePosition()}),[{event:"edit-editor-link",action:this.EditorToolbarActions.attachLink},{event:"detach-editor-link",action:this.EditorToolbarActions.detachLink},{event:"edit-image",action:this.EditorToolbarActions.attachImage},{event:"float-image-left",action:this.EditorToolbarActions.floatImageLeft},{event:"float-image-center",action:this.EditorToolbarActions.floatImageCenter},{event:"float-image-right",action:this.EditorToolbarActions.floatImageRight},{event:"fit-image-width",action:this.EditorToolbarActions.fitImageWidth},{event:"edit-video",action:this.EditorToolbarActions.attachVideo}].forEach(s=>{window.addEventListener(s.event,a=>{s.action(a.detail.nodeKey)})})}addColorPickerToButton(t,e){const i=Kp(t);i.on("save",o=>{o&&this.lexicalEditor.update(()=>{const r=W();P(r)&&(ea(r,{[e]:o.toHEXA().toString()}),i.hide())})})}initTableOptions(){this.tableOptionsWrapper=Wp(this.tableFeatures)}updateTableOptionsFeatures(t){this.lexicalEditor.update(()=>{const e=this.getLexicalKeyFromDOMElement(t),i=at(e);if(i){const{__headerState:o}=i;switch(o){case 0:this.tableFeatures.toggleColumnHeader.text="Add Column Header",this.tableFeatures.togggleRowHeader.text="Add Row Header";break;case 1:this.tableFeatures.toggleColumnHeader.text="Add Column Header",this.tableFeatures.togggleRowHeader.text="Remove Row Header";break;case 2:this.tableFeatures.toggleColumnHeader.text="Remove Column Header",this.tableFeatures.togggleRowHeader.text="Add Row Header";break;case 3:this.tableFeatures.togggleRowHeader.text="Remove Row Header",this.tableFeatures.toggleColumnHeader.text="Remove Column Header";break}this.tableOptionsWrapper.updateFeatures(this.tableFeatures)}})}getLexicalKeyFromDOMElement(t){const e=Object.entries(t);let i="";for(let o=0;o<e.length;o++)if(e[o][0].startsWith("__lexicalKey")){i=e[o][1];break}return i}initReadOnly(){this.readOnly&&(this.lexicalEditor.registerCommand(Di,()=>!0,Qs),this.lexicalEditor.registerCommand(Sr,()=>!0,Qs),this.lexicalEditor.setEditable(!1),this.lexicalEditor.registerRootListener((t,e)=>{t!==null&&t.addEventListener("keydown",i=>{(i.key.length===1||i.key==="Backspace"||i.key==="Delete")&&i.preventDefault()})}))}registerObjectionableWordsDetector(t){const e=new Set(t),i=new RegExp(`(?<!\\w)(?:${Array.from(e).join("|")})(?!\\w)`,"gi"),o=new WeakSet,r=a=>{if($p(a)&&!o.has(a)){o.add(a);const l=a.getTextContent();if(!i.test(l)){const c=ll(l);a.replace(c)}o.delete(a)}},s=a=>{a.forEach(l=>{l.getTextContent()===""&&l.remove()})};this.lexicalEditor.registerNodeTransform(Cn,a=>{if(!o.has(a)){o.add(a);try{const l=a.getTextContent();let c=[],u;for(i.lastIndex=0;(u=i.exec(l))!==null;)c.push({start:u.index,end:u.index+u[0].length,text:u[0]});if(c.length===0){r(a);return}c.sort((d,p)=>p.start-d.start);let h=a;for(const{start:d,end:p,text:g}of c){const[y,_,w]=h.splitText(d,p);if(_&&_.getTextContent()===g){const f=zp(g);_.replace(f)}w&&s([y,w]),h=y}}finally{o.delete(a)}}}),this.lexicalEditor.registerNodeTransform(Je,a=>{if(o.has(a))return;const l=a.getTextContent();if(i.lastIndex=0,!i.test(l)){const c=ll(l);a.replace(c)}})}}window.CrimsonEditor=qp;

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cropper.css"])))=>i.map(i=>d[i]);
var ot=Object.defineProperty;var Z=i=>{throw TypeError(i)};var rt=(i,t,e)=>t in i?ot(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var c=(i,t,e)=>rt(i,typeof t!="symbol"?t+"":t,e),Y=(i,t,e)=>t.has(i)||Z("Cannot "+e);var g=(i,t,e)=>(Y(i,t,"read from private field"),e?e.call(i):t.get(i)),F=(i,t,e)=>t.has(i)?Z("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),N=(i,t,e,s)=>(Y(i,t,"write to private field"),s?s.call(i,e):t.set(i,e),e),O=(i,t,e)=>(Y(i,t,"access private method"),e);const lt="modulepreload",ct=function(i){return"/"+i},G={},K=function(t,e,s){let n=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),h=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(e.map(r=>{if(r=ct(r),r in G)return;G[r]=!0;const p=r.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${y}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":lt,p||(f.as="script"),f.crossOrigin="",f.href=r,h&&f.setAttribute("nonce",h),document.head.appendChild(f),p)return new Promise((d,m)=>{f.addEventListener("load",d),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${r}`)))})}))}function a(o){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=o,window.dispatchEvent(h),!h.defaultPrevented)throw o}return n.then(o=>{for(const h of o||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})};function _(i,t){if(typeof i!="string")throw new Error("Please pass in a query parameter");return t?t.querySelector(i):document.querySelector(i)}function j(i){if(typeof i!="string")throw new Error("Please pass in a query parameter");return document.getElementById(i)}function X(i,t){if(typeof i!="string")throw new Error("Please pass in a query parameter");return t?t.querySelectorAll(i):document.querySelectorAll(i)}function mt(i){const t=i.dataset.defaultValue,e=i.dataset.placeholder??"",s=i.dataset.name,n=i.dataset.required==="true",a=i.dataset.title,o=i.dataset.downArrowSvgName,h=i.dataset.downArrowSvgViewBox,r=document.createElement("select"),p=document.createElement("option"),y=[];r.style.position="absolute",r.style.opacity="0",r.style.width="10px",r.style.height="10px",r.style.top="20%",r.setAttribute("name",s),n&&r.setAttribute("required",!0),p.value="",p.innerText="",r.appendChild(p);const f=[...i.children],d=document.createElement("div"),m=document.createElement("div"),P=document.createElement("div"),u=document.createElement("ul"),w=document.createElement("div"),E=document.createElement("div"),S=document.createElement("span");d.style.position="relative",d.classList.add(...i.classList,"custom-select-js"),S.innerHTML=e,w.classList.add("custom-select-video-placeholder"),w.appendChild(E),w.appendChild(S);const V=document.createElement("input");if(Q(i,d),r.setAttribute("aria-label","Select Option"),P.insertAdjacentText("afterbegin",e),a){const v=document.createElement("li"),C=document.createElement("span");C.innerHTML=a,v.classList.add("custom-select-drop-down-title"),v.appendChild(C),u.appendChild(v)}f.forEach(v=>{const C=v.dataset.value,T=document.createElement("li"),q=document.createElement("option");Q(v,T),q.value=C,T.innerHTML=v.innerHTML,q.innerText=C,T.onclick=()=>{let W=!0;if(y.forEach(U=>{W=U(C)}),W===!1)return;b(),P.innerHTML=null,P.insertAdjacentHTML("afterbegin",v.innerHTML),r.value=C,V.value="",[...u.children].forEach(U=>{U.classList.remove("selected")}),T.classList.add("selected");const at=new CustomEvent("option-selected",{detail:{customSelect:d,value:C}});window.dispatchEvent(at)},r.appendChild(q),u.appendChild(T),t!==void 0?C===t&&(P.innerHTML=null,P.insertAdjacentHTML("afterbegin",v.innerHTML),T.classList.add("selected"),r.value=C):e||(P.innerHTML=null,P.insertAdjacentHTML("afterbegin","&nbsp;"))});function l(){d.classList.add("open"),u.style.opacity="0",u.style.transform="scale(0.75) translateY(-20px)",u.style.transformOrigin="top",d.appendChild(u);const{top:v}=u.getBoundingClientRect(),C=u.offsetHeight;window.innerHeight-v<C?(u.style.top="auto",u.style.bottom="100%",u.style.transformOrigin="bottom",u.animate({opacity:[0,1],transform:["scale(0.75) translateY(20px)","scale(1) translateY(-20px)"]},{duration:1100,fill:"forwards",easing:"cubic-bezier(.17,.79,.16,.99)"})):(u.style.top="100%",u.style.bottom="auto",u.animate({opacity:1,transform:"scale(1) translateY(0px)"},{duration:1100,fill:"forwards",easing:"cubic-bezier(.17,.79,.16,.99)"})),setTimeout(()=>{window.addEventListener("click",T=>{d.contains(T.target)||b()},{once:!0})},200)}function b(){d.classList.remove("open");const v=u.animate({opacity:0,transform:"scale(0.75) translateY(-20px)"},{duration:500,fill:"forwards",easing:"cubic-bezier(0.4, 0.06, 0.16, 0.99)"});v.onfinish=()=>{u.style.top="auto",u.style.bottom="auto",u.style.transformOrigin="top",u.remove()}}function M(v){const C=u.querySelector(`[data-value="${v}"]`);if(C){C.parentElement,P.innerHTML=null,P.insertAdjacentHTML("afterbegin",C.innerHTML),r.value=v,V.value="",[...u.children].forEach(q=>{q.classList.remove("selected")}),C.classList.add("selected"),b();const T=new CustomEvent("option-selected",{detail:{customSelect:d,value:v}});window.dispatchEvent(T)}}m.onclick=()=>{d.classList.contains("open")?b():l()},m.appendChild(P),m.appendChild(H(o||"drop-down-caret",16,h||void 0)),d.appendChild(m),d.appendChild(r),i.replaceWith(d),d.style.display="block";const st=()=>{var v;return(v=u.querySelector(".selected"))==null?void 0:v.textContent},nt=()=>r.value;d.openSelectMenu=l,d.closeSelectMenu=b,d.onChange=v=>{y.push(v)},d.setValue=M,d.getValueDisplay=st,d.getValue=nt}function Q(i,t){Object.keys(i.dataset).forEach(e=>{t.dataset[e]=i.dataset[e]})}const H=(i,t=24,e)=>{const s=document.createElementNS("http://www.w3.org/2000/svg","svg");typeof t=="number"?(s.setAttribute("width",t),s.setAttribute("height",t)):typeof t=="object"&&(s.setAttribute("width",t.width),s.setAttribute("height",t.height)),e&&s.setAttribute("viewBox",e);const n=document.createElementNS("http://www.w3.org/2000/svg","use");return n.setAttribute("href",`/assets/icons.svg#${i}`),s.appendChild(n),s};class B{constructor({key:t,onNewPageFetch:e,onPageLoading:s,onError:n,fetchUrl:a,containerClassName:o,filters:h}){c(this,"key");c(this,"page",1);c(this,"fetchUrl");c(this,"itemsPerPageElement");c(this,"itemsPerPage",10);c(this,"totalPages",1);c(this,"pageCountElement");c(this,"goPreviouselement");c(this,"onNewPageFetch",()=>{});c(this,"onPageLoading",()=>{});c(this,"onError",()=>{});c(this,"isFetching",!1);c(this,"container");c(this,"filters",[]);c(this,"activeFilters",{});var r,p,y;if(this.key=t,this.container=B.getElement(o),!this.container)throw new Error("Pagination container could not be found");this.page=+new URLSearchParams(window.location.search).get(`${this.key}-page`)||1,this.itemsPerPageElement=B.getElement(".items-per-page",this.container),this.pageCountElement=B.getElement(".page-number-count",this.container),this.totalPagesElement=B.getElement(".total-pages-count",this.container),this.goPreviousElement=B.getElement(".previous-page",this.container),this.goNextElement=B.getElement(".next-page",this.container),this.itemsPerPage=((p=(r=this.itemsPerPageElement)==null?void 0:r.getValue)==null?void 0:p.call(r))||((y=this.itemsPerPageElement)==null?void 0:y.value)||this.itemsPerPage,this.onNewPageFetch=e||this.onNewPageFetch,this.onPageLoading=s||this.onPageLoading,this.onError=n||this.onError,this.fetchUrl=a,this.filters=h||this.filters,this.totalPages=+this.totalPagesElement.innerText||this.totalPages,this.init()}static getElement(t,e){return typeof t=="string"?_(t,e):t}init(){this.updateUI(),this.initItemsPerPage(),this.initNavigations(),this.initFilters(),this.initActiveFilters()}updateItemsPerPage(){var t,e;(e=(t=this.itemsPerPageElement).setValue)!=null&&e.call(t,this.itemsPerPage)||(this.itemsPerPageElement.value=this.itemsPerPage)}updateCurrentpage(){this.pageCountElement.textContent=this.page.toString().padStart(2,"0")}updateTotalPages(){this.totalPagesElement.textContent=this.totalPages.toString()}updateNavigations(){this.page<=1?this.goPreviousElement.disabled=!0:this.goPreviousElement.disabled=!1,this.page>=this.totalPages?this.goNextElement.disabled=!0:this.goNextElement.disabled=!1}initItemsPerPage(){var e,s;const t=n=>{this.fetchPage({itemsPerPage:n})};(s=(e=this.itemsPerPageElement).onChange)!=null&&s.call(e,t)||(this.itemsPerPageElement.onChange=n=>t(n.target.value))}initNavigations(){this.goPreviousElement.addEventListener("click",()=>{this.page<=1||this.isFetching||this.fetchPage({page:this.page-1})}),this.goNextElement.addEventListener("click",()=>{this.page>=this.totalPages||this.isFetching||this.fetchPage({page:this.page+1})})}async fetchPage({page:t,itemsPerPage:e}){if(!this.fetchUrl)throw new Error("Please add a fetch url to fetch more data");this.onPageLoading({container:this.container}),this.isFetching=!0;const s=new URLSearchParams;s.set(`${this.key}-page`,t||this.page),s.set(`${this.key}-size`,e||this.itemsPerPage),Object.keys(this.activeFilters).forEach(n=>{s.set(n,this.activeFilters[n])});try{const a=await(await fetch(`${this.fetchUrl}?${s.toString()}`)).json();this.totalPages=parseInt(a.page_total||this.totalPages),this.page=parseInt(a.page_current||t||this.page),this.itemsPerPage=parseInt(a.page_size||e||this.itemsPerPage),this.onFinishedLoading(a.data)}catch(n){this.onError({error:n,container:this.container})}finally{this.updateItemsPerPage(),this.isFetching=!1}}onFinishedLoading(t){this.updateUrlInAddressBar(),this.onNewPageFetch({data:t,container:this.container}),this.updateUI()}updateUI(){this.updateItemsPerPage(),this.updateCurrentpage(),this.updateTotalPages(),this.updateNavigations()}updateUrlInAddressBar(){const t=new URLSearchParams(window.location.search);t.set(`${this.key}-page`,this.page),Object.keys(this.activeFilters).forEach(n=>{t.set(n,this.activeFilters[n])});const e=t.toString(),s=`${window.location.pathname}?${e}`;window.history.pushState(null,null,s)}initFilters(){this.filters.forEach(t=>{const{key:e,element:s}=t;let n;const a=this;function o(h){clearTimeout(n),n=setTimeout(()=>{a.activeFilters[e]=h,a.fetchPage({page:1})},1e3)}s.onChange&&s.onChange(o.bind(this)),s.addEventListener("input",h=>o(h.target.value))})}initActiveFilters(){const t=new URLSearchParams(window.location.search);this.filters.forEach(({key:e})=>{t.has(e)&&(this.activeFilters[e]=t.get(e))})}}function J(){const i=document.createElement("div"),t=document.createElement("div"),e=document.createElement("span");return i.appendChild(t),i.appendChild(e),i.classList.add("alert"),i.setAttribute("role","alert"),document.body.appendChild(i),{success:(a="Success",o)=>{e.innerHTML=a,t.replaceChildren(H("alert-circle-check",20)),i.classList.contains("error")?i.classList.replace("error","success"):i.classList.add("success"),i.classList.add("open"),setTimeout(()=>{i.classList.remove("open"),i.setAttribute("aria-hidden",!0)},o||2e3)},error:(a="Error",o)=>{e.innerHTML=a,t.replaceChildren(H("alert-circle-close",24)),i.classList.contains("success")?i.classList.replace("success","error"):i.classList.add("error"),i.classList.add("open"),setTimeout(()=>{i.classList.remove("open"),i.setAttribute("aria-hidden",!0)},o||2e3)}}}function dt(i){const t=i.dataset.modalTitle||"Modal",e=i.dataset.addModalHeader!=="false";i.dataset.closeIconSvgName;const s=i.dataset.closeIconSvgSize,n=i.dataset.closeIconSvgViewbox,a=i.dataset.dismissable!=="false",o=document.createElement("div"),h=document.createElement("header"),r=document.createElement("button"),p=document.createElement("p"),y=i.querySelectorAll("[data-close-modal-button]"),f=[...i.children];o.className="modal-content",p.innerHTML=t;const d=H("cancel",+s||16,n);r.appendChild(d),r.setAttribute("type","button"),r.setAttribute("aria-label","close modal button"),h.appendChild(p),a&&h.appendChild(r);const m=new CustomEvent("modal-open"),P=new CustomEvent("modal-close",{detail:i});function u(E){E!=null&&E.modalTitle&&(p.innerHTML=E.modalTitle),dispatchEvent(m),i.classList.add("open"),document.body.appendChild(i),i.style.opacity="0",o.style.opacity="0",o.style.transform="scale3d(1.5, 1.5, 1)",i.animate({opacity:"1"},{duration:300,fill:"forwards",easing:"cubic-bezier(0.17, 0.67, 0.16, 0.99)"}),o.animate({opacity:"1",transform:"scale3d(1,1,1)"},{easing:"cubic-bezier(0.17, 0.67, 0.16, 0.99)",duration:700,fill:"forwards",delay:100})}function w(E){E==null||E.stopPropagation(),dispatchEvent(P),i.classList.remove("open"),o.animate({opacity:"0",transform:"scale3d(1.5,1.5,1)"},{easing:"cubic-bezier(0.17, 0.67, 0.16, 0.99)",duration:700,fill:"forwards"}),i.animate({opacity:"0"},{delay:300,duration:500,fill:"forwards",easing:"cubic-bezier(0.17, 0.67, 0.16, 0.99)"}).onfinish=()=>{i.remove()}}i.onclick=w,r.onclick=w,y.forEach(E=>{E.onclick=w}),o.onclick=E=>E.stopPropagation(),i.innerHTML=null,e&&o.append(h),o.append(...f),i.prepend(o),i.open=u,i.close=w}function ft(i){const t=j(i.dataset.modalTarget);i.onclick=()=>{t==null||t.open()}}function gt(i,t,e){e=_(e),i=X(i),t=X(t),e&&(i.forEach(s=>{s.onclick=n=>{e.classList.add("open")}}),t.forEach(s=>{s.onclick=()=>{e.classList.remove("open")}}),window.addEventListener("click",s=>{const n=![...i].some(o=>o.contains(s.target)),a=![...t].some(o=>o.contains(s.target));!e.contains(s.target)&&n&&a&&e.classList.remove("open")}))}class yt{constructor({controls:t,elements:e}){c(this,"controls",[]);c(this,"elements",[]);c(this,"currentControl",null);c(this,"currentTab",null);c(this,"tabSwitchCallBack",()=>{});this.controls=t,this.elements=e,(this.controls.length!==0||this.elements.length!==0)&&this.init()}init(){this.addControlHandlers()}addControlHandlers(){this.elements.forEach(e=>{e.style.height=[...e.children].reduce((s,n)=>s+n.offsetHeight,0)+"px"});const t=this.elements.item(0);t.parentElement.style.height=t.offsetHeight+"px",this.elements.forEach((e,s)=>{e.style.position="absolute",e.style.width="100%",s!==0?e.style.transform="translateX(100%)":e.style.transform="translateX(0px)"}),this.controls.forEach(e=>{e.addEventListener("click",()=>{[...e.parentElement.children].forEach(a=>a.classList.remove("active")),e.classList.add("active");const s=e.dataset.tab,n=[...this.elements].find(a=>a.dataset.tabElement===s);this.switchTabs(e,n)}),this.currentControl=this.controls.item(0),this.currentTab=this.elements.item(0)})}switchTabs(t,e){if(this.currentTab===e||this.currentControl===t)return;let s;this.controls.forEach(o=>o.setAttribute("disabled",!0));const n=this.currentControl.compareDocumentPosition(t),a={duration:700,fill:"forwards",easing:"cubic-bezier(.28,.57,.07,.98)"};this.recalculateParentHeight(e),n===Node.DOCUMENT_POSITION_FOLLOWING?(this.currentTab.animate({transform:["translateX(0%)","translateX(-100%)"]},a),s=e.animate({transform:["translateX(100%)","translateX(0)"]},a)):(this.currentTab.animate({transform:["translateX(0%)","translateX(100%)"]},a),s=e.animate({transform:["translateX(-100%)","translateX(0)"]},a)),window.dispatchEvent(new CustomEvent("tab-switch",{detail:{tabName:t.dataset.tab,control:t,tab:e}})),s.onfinish=()=>{t&&(this.currentControl=t),e&&(this.currentTab=e),this.controls.forEach(o=>o.removeAttribute("disabled"))},this.tabSwitchCallBack&&this.tabSwitchCallBack(t,e)}recalculateParentHeight(t){const e=t.offsetHeight+"px";t.parentElement.style.height=e}recalculateAllHeights(){this.elements.forEach(t=>{const{children:e}=t,s=[...e].reduce((n,a)=>n+a.offsetHeight,0);t.style.height=s+"px"})}recalculateParentHeightCurrentTab(){this.recalculateAllHeights(),this.currentTab.parentElement.style.height=this.currentTab.offsetHeight+"px"}onTabSwitch(t){this.tabSwitchCallBack=t&&t.bind(this)}}function vt(i){if(!i)return;let t=!1;const e=i.querySelector(".section-drop-down-control-head"),s=i.querySelector(".section-drop-down-control"),n=i.querySelector(".drop-down"),a=i.querySelector("textarea"),o=i.querySelector(".toggle");if((s||o)&&n){let f=function(u){u.stopPropagation(),t?m():d();const w=new CustomEvent("drop-down-toggled",{detail:{element:i,dropDownState:t}});window.dispatchEvent(w)},d=function(){n.style.height="0px",t=!0,s.style.transition="transform 400ms ease-out",n.style.transition="height 400ms ease-out",s.style.transform="rotate(0deg)",s.classList.add("active"),i.classList.add("active"),setTimeout(()=>{n.style.height=`${r()}px`},10)},m=function(){n.style.height=`${r()}px`,s.classList.remove("active"),i.classList.remove("active"),s.style.transition="transform 400ms ease-out",n.style.transition="height 400ms ease-out",s.style.transform="rotate(180deg)",t=!1,setTimeout(()=>{n.style.height="0px"},10)};const h=i.dataset.toggleOnMouseOver!==void 0,r=()=>[...n.children].reduce((u,w)=>u+w.clientHeight+parseInt(window.getComputedStyle(w).marginTop),0),p=n.dataset.defaultClosed==="true";p?(n.style.height="0px",n.style.overflow="hidden",s.style.transform="rotate(180deg)",s.classList.remove("active")):(t=!0,n.style.overflow="visible",s.classList.add("active"));const y=()=>{t&&(n.style.height="auto")};n.recalculateHeight=y,i.recalculateHeight=y,n.ontransitionend=()=>{s.style.transition=null,n.style.transition=null,t&&(n.style.height="auto",n.style.overflow="visible")},n.ontransitionstart=()=>{t||(n.style.overflow="hidden")},a&&new ResizeObserver(()=>{p||(n.style.height=`${r()}px`)}).observe(a),e&&(e.onclick=f,s.style.pointerEvents="none"),s&&(s.onclick=f),o&&(o.onclick=f,h&&(i.addEventListener("mouseenter",d),i.addEventListener("mouseleave",m))),window.addEventListener("resize",()=>{t&&(n.style.height=`${r()}px`)}),i.open=d,i.close=m,new MutationObserver(y).observe(i,{subtree:!0,childList:!0})}}class Et{constructor({inputFieldId:t,editModalId:e,onFileChange:s}){c(this,"inputField");c(this,"editModal");c(this,"editImageWorkspace");c(this,"success");c(this,"error");c(this,"cropper");c(this,"rotateZButton");c(this,"rotateZ180Button");c(this,"rotateX180Button");c(this,"rotateY180Button");c(this,"editCancelButton");c(this,"editResetButton");c(this,"editDoneButton");c(this,"rotateSlider");c(this,"file");c(this,"onFileChange");c(this,"fileNameElement");c(this,"replaceFileInput");c(this,"fitHorizontalButton");c(this,"fitVerticalButton");this.inputField=j(t),this.editModal=j(e),this.onFileChange=s,this.init()}init(){this.inputField.addEventListener("change",this.processImage.bind(this)),this.editImageWorkspace=this.editModal.querySelector("#image-edit-workspace img");const{success:t,error:e}=J();this.success=t,this.error=e,this.getControls(),this.initControls()}async processImage(t){t.preventDefault();const e=t.target.files[0];if(e){if(!e.type.includes("image"))return t.target.value="",this.error("Please upload an image",4e3);if(e.size>2*1024*1024)return t.target.value="",this.error("Please upload less than 2MB",4e3);this.file=e,this.fileNameElement.textContent=e.name,this.editImageWorkspace.src=URL.createObjectURL(e),await this.initCropper(),this.editModal.open()}}async initCropper(){this.cropper&&(this.cropper.destroy(),this.cropper=null);const t=(await K(async()=>{const{default:e}=await import("./cropper.esm.js");return{default:e}},[])).default;await K(()=>Promise.resolve({}),__vite__mapDeps([0])),this.cropper=new t(this.editImageWorkspace,{aspectRatio:384/162,viewMode:0,rotatable:!0,zoomable:!0,movable:!0,autoCropArea:1,zoomOnWheel:!1,dragMode:"move"})}async getControls(){this.rotateX180Button=this.editModal.querySelector(".rotate-x-180"),this.rotateZ180Button=this.editModal.querySelector(".rotate-z-180"),this.rotateZButton=this.editModal.querySelector(".rotate-z"),this.rotateY180Button=this.editModal.querySelector(".rotate-y-180"),this.editCancelButton=this.editModal.querySelector(".edit-cancel"),this.editResetButton=this.editModal.querySelector(".edit-reset"),this.editDoneButton=this.editModal.querySelector(".edit-done"),this.rotateSlider=this.editModal.querySelector(".rotate-slider"),this.fileNameElement=this.editModal.querySelector(".file-name"),this.replaceFileInput=this.editModal.querySelector(".replace-file input"),this.fitHorizontalButton=this.editModal.querySelector(".fit-horizontal"),this.fitVerticalButton=this.editModal.querySelector(".fit-vertical")}initControls(){var t,e,s,n,a,o,h,r,p,y;(t=this.rotateX180Button)==null||t.addEventListener("click",this.rotateXI80.bind(this)),(e=this.rotateY180Button)==null||e.addEventListener("click",this.rotateYI80.bind(this)),(s=this.rotateZButton)==null||s.addEventListener("click",this.rotateZ.bind(this)),(n=this.editCancelButton)==null||n.addEventListener("click",this.cancelEdit.bind(this)),(a=this.editResetButton)==null||a.addEventListener("click",this.resetEdit.bind(this)),(o=this.editDoneButton)==null||o.addEventListener("click",this.doneEdit.bind(this)),(h=this.fitHorizontalButton)==null||h.addEventListener("click",this.fitHorizontal.bind(this)),(r=this.fitVerticalButton)==null||r.addEventListener("click",this.fitVertical.bind(this)),(p=this.replaceFileInput)==null||p.addEventListener("change",this.processImage.bind(this)),(y=this.rotateSlider)==null||y.addEventListener("input",this.rotate.bind(this))}rotateYI80(){const{scaleY:t}=this.cropper.getData();this.cropper.scaleY(t===-1?1:-1)}rotateZ(){this.cropper.rotate(45)}rotateXI80(){const{scaleX:t}=this.cropper.getData();this.cropper.scaleX(t===-1?1:-1)}cancelEdit(){this.inputField.value="",this.cropper.destroy(),this.editModal.close()}resetEdit(){this.cropper.reset();const{rotate:t}=this.cropper.getData();this.rotateSlider.value=t}doneEdit(){const t=this.cropper.getCroppedCanvas({imageSmoothingQuality:"high"}),e=this.file.type.includes("svg")?"image/png":this.file.type,s=this.file.name.includes("svg")?`${this.file.name.split(".").shift()}.png`:this.file.name;t.toBlob(n=>{var h;const a=new File([n],s,{type:e}),o=new DataTransfer;o.items.add(a),(h=this.onFileChange)==null||h.call(this,o.files),this.inputField.hasAttribute("name")&&(this.inputField.files=o.files)}),this.editModal.close()}fitHorizontal(){this.cropper.setCropBoxData({width:this.cropper.getContainerData().width})}fitVertical(){console.log(this.cropper.getContainerData().height),this.cropper.setCropBoxData({height:this.cropper.getContainerData().width})}rotate(t){this.cropper.rotateTo(t.target.value)}}function ht(i){const t=L("span");t.append(...i.childNodes),i.append(t),i.style.overflow="hidden",i.style.position="relative",window.getComputedStyle(i).borderColor;const e=new CustomEvent("button-success",{detail:i}),s=new CustomEvent("button-error",{detail:i}),n={easing:"cubic-bezier(0.17, 0.67, 0.16, 0.99)",duration:700,fill:"forwards"};function a(){t.animate({opacity:"0",transform:"scale(0.7)"},n)}function o(){t.animate({opacity:"1",transform:"scale(1)"},{...n,delay:300})}function h(l){return l.style.position="absolute",l.style.top="50%",l.style.left="50%",l.style.height="60%",l.style.width="auto",l.style.transform="translate(-50%, 100%) scale(0.5)",l}function r(){const l=L("div"),b=document.createElement("div");return b.style.aspectRatio="1/1",b.style.height="60%",b.style.borderRadius="50%",b.style.border="0.2em solid white",b.style.borderTopColor="transparent",l.style.display="flex",l.style.alignItems="center",b.animate({transform:"rotate(360deg)"},{...n,iterations:1/0,easing:"linear"}),l.appendChild(b),h(l),l}function p(){const l=h(H("button-success",24,"0 0 24 24"));return l.style.height="60%",l}function y(){const l=h(H("button-error",24,"0 0 20 20"));return l.style.height="35%",l}function f(){const l=L("div");return l.style.height="100%",l.style.width="0px",l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.transform="none",l.style.zIndex="-3",l.style.backgroundColor="white",l.style.opacity="0.3",l.style.mixBlendMode="plus-lighter",l}function d(l){i.contains(l)||(i.appendChild(l),l.animate({opacity:"1",transform:"translate(-50%, -50%) scale(1)"},n))}function m(l){if(!i.contains(l))return;const b=l.animate({opacity:"0",transform:"translate(-50%, 150%) scale(0.5)"},n);b.onfinish=()=>l.remove()}async function P(){i.contains(S)&&(await S.animate({opacity:"0"},n).finished,await S.animate({backgroundColor:"black",width:"0%"}).finished,S.remove())}const u=r(),w=p(),E=y(),S=f();function V(){setTimeout(()=>{o(),m(w),m(u),m(E),P(),i.disabled=!1},2e3)}i.idle=()=>{o(),m(w),m(u),m(E),P(),i.disabled=!1},i.loading=()=>{a(),d(u),m(w),m(E),i.disabled=!0},i.success=l=>{a(),d(w),m(u),m(E),i.disabled=!0,window.dispatchEvent(e),l||V()},i.error=l=>{a(),d(E),m(u),m(w),i.disabled=!0,window.dispatchEvent(s),l||V()},i.progress=l=>{i.contains(S)||(i.appendChild(S),S.style.mixBlendMode="plus-lighter",window.addEventListener("button-success",b=>{if(b.detail!==i)return;const M="#188f48";S.style.mixBlendMode="",S.animate({opacity:1,backgroundColor:M,width:"100%"},{...n,fill:"none",duration:2e3,iterations:1,direction:"alternate"}),i.animate({backgroundColor:M,borderColor:M},{...n,fill:"none",duration:2e3,iterations:1,direction:"alternate"})}),window.addEventListener("button-error",b=>{if(b.detail!==i)return;const M="#ff0000";S.style.mixBlendMode="",S.animate({opacity:.5,backgroundColor:M},{duration:500,fill:"forwards"}),i.animate({backgroundColor:M},{...n,duration:2e3,iterations:1,direction:"alternate"})})),S.animate({width:`${Math.min(l,98)}%`,opacity:.3},{duration:400,easing:"cubic-bezier(0.81, 0.43, 0.26, 0.68)",fill:"forwards"})}}class wt{constructor(t){c(this,"input");c(this,"container",L("div","tag-input-container"));c(this,"chipValuesElementsContainer",L("div","chip-values"));c(this,"values",[]);c(this,"animationConfig",{duration:800,easing:"cubic-bezier(.17,.67,.16,.99)",fill:"forwards"});c(this,"valuesInput",L("input"));c(this,"isReadOnly");this.input=t,this.isReadOnly=this.input.hasAttribute("data-read-only"),this.init(),this.initInput(),this.initDefaultValues()}init(){this.input.parentElement.appendChild(this.container),this.container.append(this.input,this.chipValuesElementsContainer,this.valuesInput)}initDefaultValues(){var t,e;(e=(t=this.input.dataset)==null?void 0:t.values)==null||e.split(",").forEach(this.prepareValue.bind(this))}initInput(){this.updateValuesInputAttributes(),this.isReadOnly?this.input.setAttribute("readOnly",!0):this.input.addEventListener("keypress",t=>{this.isEnterPressed(t)&&(t.preventDefault(),this.prepareValue(this.input.value.trim()))})}isEnterPressed(t){return t.key==="Enter"}updateValuesInputAttributes(){this.valuesInput.setAttribute("type","text"),this.valuesInput.setAttribute("readonly",""),this.valuesInput.setAttribute("name",this.input.getAttribute("name")),this.input.hasAttribute("required")?this.valuesInput.setAttribute("required",""):this.valuesInput.removeAttribute("required"),this.input.removeAttribute("name"),this.input.removeAttribute("required")}prepareValue(t){t.trim()&&(this.values.push(t),this.addChip(t),this.input.value="")}addChip(t){const e=L("div","animation-wrapper"),s=L("div","chip"),n=L("span","value",t.trim()),a=L("button","remove",void 0,{type:"button"});a.append(H("cancel",24,"0 0 16 16")),this.isReadOnly||a.addEventListener("click",()=>{this.deleteChip(t.trim(),e)}),this.input.animate({marginBottom:"12px"},this.animationConfig),s.append(n,a),e.style.opacity="0",e.style.transform="scale(0.5)",e.style.width="0px",e.style.height="0px",e.style.marginLeft="0px",e.appendChild(s),this.chipValuesElementsContainer.prepend(e),e.animate({width:["0px",e.scrollWidth+"px"],height:["0px",e.scrollHeight+"px"],marginLeft:["0px","10px"]},this.animationConfig),e.animate({transform:["scale(0.5)","scale(1)"],opacity:["0","1"]},{...this.animationConfig,delay:300}),this.updateValuesInput()}deleteChip(t,e){const s=this.values.indexOf(t);this.values.splice(s,1),this.values=[...this.values],e.animate({transform:["scale(1)","scale(0.5)"],opacity:["1","0"]},this.animationConfig);const n=e.animate({width:[e.offsetWidth+"px","0px"],height:[e.offsetHeight+"px","0px"],marginLeft:["10px","0px"]},{...this.animationConfig,delay:300});n.onfinish=()=>{e.remove()},this.values.length===0&&this.input.animate({marginBottom:"0px"},this.animationConfig),this.updateValuesInput()}updateValuesInput(){this.valuesInput.value=this.values.join(",")}}function L(i,t,e,s){const n=document.createElement(i);return t&&n.classList.add(...t.trim().split(" ")),e&&(n.innerHTML=e),s&&Object.entries(s).forEach(([a,o])=>{n.setAttribute(a,o)}),n}function bt(i,t,e){e=_(e),i=X(i),t=X(t),i.forEach(s=>{s.onclick=n=>{e.classList.add("open")}}),t.forEach(s=>{s.onclick=()=>{e.classList.remove("open")}}),window.addEventListener("click",s=>{const n=![...i].some(o=>o.contains(s.target)),a=![...t].some(o=>o.contains(s.target));!e.contains(s.target)&&n&&a&&e.classList.remove("open")})}function Ct(i){if(!i)return;const t=i.querySelector("input, textarea"),e=i.querySelector(".word-count"),s=i.querySelector(".word-max"),n=Number(t.maxLength);t&&e&&(e.innerText=t.value.length||0,t.addEventListener("input",()=>{t.value.length>n&&(t.value=t.value.slice(0,n)),e.innerText=t.value.length||0})),s&&(s.innerText=n)}const R={easing:"cubic-bezier(0.17, 0.67, 0.16, 0.99)",duration:700,fill:"forwards"};var x,A,k,D,I,tt,$,et,it;class Lt{constructor({pagination:{containerClassName:t="",key:e="",fetchUrl:s="",itemsPerPage:n=25,filters:a=[]}={},listContentContainer:o,keyExtractor:h,itemRenderer:r,setUpEventListener:p,countElement:y}){F(this,I);F(this,x,new Map);F(this,A,"post_id");F(this,k);F(this,D);if(N(this,k,_(o)||g(this,k)),!g(this,k))throw new Error("Content Container element not found");N(this,A,h||g(this,A)),this.itemRenderer=r||this.defaultItemRenderer,N(this,D,y||L("span","","0")),this.init(),p==null||p(g(this,k),this),this.replaceState=this.replaceState.bind(this);const{error:f}=J();e&&s&&new B({key:e,containerClassName:t,defaultItemsPerPage:n,fetchUrl:s,onNewPageFetch({data:d,container:m}){this.replaceState(d),m.scrollTo(0,0)},onPageLoading({container:d}){d.classList.add("loading")},onError({error:d,container:m}){f(d.message,3e3),m.classList.remove("loading")},filters:a})}init(){O(this,I,tt).call(this)}addItem(t,e="append"){const s=t[g(this,A)];if(g(this,x).has(s))return;const n=this.itemRenderer(t,this),a=O(this,I,$).call(this,s,n,t);return g(this,x).set(s,a),this.updateDisplayCount(1),O(this,I,et).call(this,n,e)}updateItem(t,e){if(!g(this,x).has(t))return;const s=g(this,x).get(t);return Object.entries(e).forEach(([n,a])=>{s.state[n]&&(s.state[n]=a),s.stateElements[n]&&(s.stateElements[n].textContent=a)}),s}async deleteItem(t){if(!g(this,x).has(t))return;const e=g(this,x).get(t);return g(this,x).delete(t),await O(this,I,it).call(this,e.element),e.element.remove(),this.updateDisplayCount(-1),!0}replaceState(t){g(this,x).clear();const e=t.map(s=>{const n=this.itemRenderer(s,this),a=s[g(this,A)];return g(this,x).set(a,O(this,I,$).call(this,a,n,s)),n});g(this,k).replaceChildren(...e)}getItemStateFromElement(t){return[...g(this,x).values()].find(e=>e.element===t)}getItemById(t){var e;return(e=g(this,x).get(t))==null?void 0:e.state}updateDisplayCount(t){const s=+g(this,D).innerText.replaceAll(",","").replaceAll(" ","")+t;g(this,D).innerText=s.toLocaleString()}}x=new WeakMap,A=new WeakMap,k=new WeakMap,D=new WeakMap,I=new WeakSet,tt=function(){[...g(this,k).children].forEach(t=>{const e=t.dataset[g(this,A)];g(this,x).set(e,O(this,I,$).call(this,e,t))})},$=function(t,e,s){return{id:t,state:{...s||e.dataset},stateElements:Object.keys(s||e.dataset).reduce((n,a)=>(n[a]=e.querySelector(`[data-${a}]`),n),{}),element:e}},et=async function(t,e){t.style.opacity="0",t.style.transform="scale3d(0.5,0.5,1)",t.style.height="0px",g(this,k)[e](t);const s=window.getComputedStyle(t).marginBottom;t.style.marginBottom="0px",t.animate({height:["0px",t.scrollHeight+"px"],marginBottom:["0px",s]},R),await t.animate({opacity:["0","1"],transform:["scale3d(0.5,0.5,1)","scale3d(1,1,1)"]},{...R,delay:300}).finished},it=async function(t){t.animate({opacity:["1","0"],transform:["scale3d(1,1,1)","scale3d(0.5,0.5,1)"]},R),await t.animate({width:"0px",height:"0px",marginBottom:"0px"},{...R,delay:300}).finished};function Pt(i=1){return new Promise(t=>setTimeout(t,i*1e3))}function St({title:i,icon:t,titleText:e,dismissText:s,proceedText:n,action:a}){let o=L("div",void 0,void 0,{role:"dialog","data-modal-element":"",class:"overflow",id:"confirm-modal","data-modal-title":i||"Confirm","aria-label":i||"Confirm","data-close-icon-svg-url":"/assets/guestblogging/assets/icons.svg#close","data-close-icon-svg-size":"16","data-close-icon-svg-viewbox":"0 0 16 16"});const h=L("div","content");{const d=H(t,100,"0 0 24 24");h.appendChild(d)}const r=L("h3","",e),p=L("div","ctas"),y=L("button","cancel-button clickable",s||"Cancel"),f=L("button","proceed-button clickable",n||"Yes");p.append(y,f),h.append(r,p),y.onclick=()=>{o.close()},f.onclick=async()=>{try{f.loading(),await a(),f.success(),setTimeout(o.close,2e3)}catch{f.error()}},o.append(h),dt(o),ht(f),o.open()}let z=j("app-config"),ut={};z&&(ut=z.dataset,z.remove(),z=null);export{J as A,St as C,Lt as D,Et as I,dt as M,ht as S,yt as T,j as a,_ as b,L as c,ut as d,Pt as e,wt as f,X as g,Ct as h,vt as i,mt as j,ft as k,gt as l,H as m,bt as t};

import"./root.js";/* empty css      *//* empty css              */import{g as ts,S as Fo,a as es,c as ns}from"./index2.js";ts(".dynamic-button").forEach(Fo);const Do=new CrimsonEditor(es("editor"),{mode:"dark"});Do.editorWorkSpace.setAttribute("placeholder","Start Typing");const Io=ns("button","post-comment-button clickable dynamic-button","<span class='idle'>Post</span>",{type:"submit"});Fo(Io);Do.toolbar.append(Io);var rs=Object.defineProperty,os=(n,t,e)=>t in n?rs(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,wt=(n,t,e)=>os(n,typeof t!="symbol"?t+"":t,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function Le(n){return{}}const tr={},is={},Ao={},Ft={},Xt={},je={},Yt={},er={},Dn={},xe={},ve={},_t={},Bo={},Vo={},ss={},Wo={},ls={},zo={},as={},Ro={},Zo={},we={},cs={},Ko={},jo={},Uo={},us={},ds={},fs={},Nr={},$o={},hs={},Jo={},qo={},gs={},an={},nr={},In={},ps={},_s={},ms={},ct=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Cs=ct&&"documentMode"in document?document.documentMode:null,ot=ct&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Lt=ct&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ue=!(!ct||!("InputEvent"in window)||Cs)&&"getTargetRanges"in new window.InputEvent("input"),rr=ct&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),cn=ct&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ys=ct&&/Android/.test(navigator.userAgent),Xo=ct&&/^(?=.*Chrome).*/i.test(navigator.userAgent),xs=ct&&ys&&Xo,or=ct&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Xo,Ee=1,Nt=3,At=0,Yo=1,te=2,vs=0,ws=1,ks=2,$e=4,Je=8,ir=128,bs=112|(3|$e|Je)|ir,sr=1,lr=2,ar=3,cr=4,ur=5,dr=6,un=rr||cn||or?" ":"​",mt=`

`,Ts=Lt?" ":un,Qo="֑-߿יִ-﷽ﹰ-ﻼ",Go="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Ss=new RegExp("^[^"+Go+"]*["+Qo+"]"),Ls=new RegExp("^[^"+Qo+"]*["+Go+"]"),Bt={bold:1,code:16,highlight:ir,italic:2,strikethrough:$e,subscript:32,superscript:64,underline:Je},Es={directionless:1,unmergeable:2},Mr={center:lr,end:dr,justify:cr,left:sr,right:ar,start:ur},Ns={[lr]:"center",[dr]:"end",[cr]:"justify",[sr]:"left",[ar]:"right",[ur]:"start"},Ms={normal:0,segmented:2,token:1},Ps={[vs]:"normal",[ks]:"segmented",[ws]:"token"};function Hs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var T=Hs(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function qe(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[r]of e.matchAll(/\S+/g))t.push(r);return t}const Os=100;let An=!1,fr=0;function Fs(n){fr=n.timeStamp}function wn(n,t,e){return t.__lexicalLineBreak===n||n[`__lexicalKey_${e._key}`]!==void 0}function Ds(n,t,e){const r=ft(e._window);let o=null,i=null;r!==null&&r.anchorNode===n&&(o=r.anchorOffset,i=r.focusOffset);const s=n.nodeValue;s!==null&&_r(t,s,o,i,!1)}function Is(n,t,e){if(k(n)){const r=n.anchor.getNode();if(r.is(e)&&n.format!==r.getFormat())return!1}return t.nodeType===Nt&&e.isAttached()}function ti(n,t,e){An=!0;const r=performance.now()-fr>Os;try{et(n,()=>{const o=P()||function(d){return d.getEditorState().read(()=>{const h=P();return h!==null?h.clone():null})}(n),i=new Map,s=n.getRootElement(),l=n._editorState,a=n._blockCursorElement;let c=!1,u="";for(let d=0;d<t.length;d++){const h=t[d],g=h.type,_=h.target;let p=Vt(_,l);if(!(p===null&&_!==s||I(p))){if(g==="characterData")r&&S(p)&&Is(o,_,p)&&Ds(_,p,n);else if(g==="childList"){c=!0;const y=h.addedNodes;for(let b=0;b<y.length;b++){const E=y[b],v=si(E),N=E.parentNode;if(N!=null&&E!==a&&v===null&&(E.nodeName!=="BR"||!wn(E,N,n))){if(Lt){const w=E.innerText||E.nodeValue;w&&(u+=w)}N.removeChild(E)}}const m=h.removedNodes,x=m.length;if(x>0){let b=0;for(let E=0;E<x;E++){const v=m[E];(v.nodeName==="BR"&&wn(v,_,n)||a===v)&&(_.appendChild(v),b++)}x!==b&&(_===s&&(p=ai(l)),i.set(_,p))}}}}if(i.size>0)for(const[d,h]of i)if(C(h)){const g=h.getChildrenKeys();let _=d.firstChild;for(let p=0;p<g.length;p++){const y=g[p],m=n.getElementByKey(y);m!==null&&(_==null?(d.appendChild(m),_=m):_!==m&&d.replaceChild(m,_),_=_.nextSibling)}}else S(h)&&h.markDirty();const f=e.takeRecords();if(f.length>0){for(let d=0;d<f.length;d++){const h=f[d],g=h.addedNodes,_=h.target;for(let p=0;p<g.length;p++){const y=g[p],m=y.parentNode;m==null||y.nodeName!=="BR"||wn(y,_,n)||m.removeChild(y)}}e.takeRecords()}o!==null&&(c&&(o.dirty=!0,dt(o)),Lt&&fi(n)&&o.insertRawText(u))})}finally{An=!1}}function ei(n){const t=n._observer;t!==null&&ti(n,t.takeRecords(),t)}function ni(n){(function(t){fr===0&&hn(t).addEventListener("textInput",Fs,!0)})(n),n._observer=new MutationObserver((t,e)=>{ti(n,t,e)})}function Pr(n,t){const e=n.__mode,r=n.__format,o=n.__style,i=t.__mode,s=t.__format,l=t.__style;return!(e!==null&&e!==i||r!==null&&r!==s||o!==null&&o!==l)}function Hr(n,t){const e=n.mergeWithSibling(t),r=V()._normalizedNodes;return r.add(n.__key),r.add(t.__key),e}function Or(n){let t,e,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(t=r.getPreviousSibling())!==null&&S(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(Pr(t,r)){r=Hr(t,r);break}break}t.remove()}for(;(e=r.getNextSibling())!==null&&S(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Pr(r,e)){r=Hr(r,e);break}break}e.remove()}}else r.remove()}function ri(n){return Fr(n.anchor),Fr(n.focus),n}function Fr(n){for(;n.type==="element";){const t=n.getNode(),e=n.offset;let r,o;if(e===t.getChildrenSize()?(r=t.getChildAtIndex(e-1),o=!0):(r=t.getChildAtIndex(e),o=!1),S(r)){n.set(r.__key,o?r.getTextContentSize():0,"text");break}if(!C(r))break;n.set(r.__key,o?r.getChildrenSize():0,"element")}}let As=1;const Bs=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function hr(n){const t=document.activeElement;if(t===null)return!1;const e=t.nodeName;return I(Vt(n))&&(e==="INPUT"||e==="TEXTAREA"||t.contentEditable==="true"&&t.__lexicalEditor==null)}function Ne(n,t,e){const r=n.getRootElement();try{return r!==null&&r.contains(t)&&r.contains(e)&&t!==null&&!hr(t)&&oi(t)===n}catch{return!1}}function oi(n){let t=n;for(;t!=null;){const e=t.__lexicalEditor;if(e!=null)return e;t=fn(t)}return null}function Ut(n){return n.isToken()||n.isSegmented()}function Vs(n){return n.nodeType===Nt}function Xe(n){let t=n;for(;t!=null;){if(Vs(t))return t;t=t.firstChild}return null}function Bn(n,t,e){const r=Bt[t];if(e!==null&&(n&r)==(e&r))return n;let o=n^r;return t==="subscript"?o&=-65:t==="superscript"&&(o&=-33),o}function ii(n){return S(n)||Gt(n)||I(n)}function Ws(n,t){if(t!=null)return void(n.__key=t);G(),Oi();const e=V(),r=yt(),o=""+As++;r._nodeMap.set(o,n),C(n)?e._dirtyElements.set(o,!0):e._dirtyLeaves.add(o),e._cloneNotNeeded.add(o),e._dirtyType=Yo,n.__key=o}function Dt(n){const t=n.getParent();if(t!==null){const e=n.getWritable(),r=t.getWritable(),o=n.getPreviousSibling(),i=n.getNextSibling();if(o===null)if(i!==null){const s=i.getWritable();r.__first=i.__key,s.__prev=null}else r.__first=null;else{const s=o.getWritable();if(i!==null){const l=i.getWritable();l.__prev=s.__key,s.__next=l.__key}else s.__next=null;e.__prev=null}if(i===null)if(o!==null){const s=o.getWritable();r.__last=o.__key,s.__next=null}else r.__last=null;else{const s=i.getWritable();if(o!==null){const l=o.getWritable();l.__next=s.__key,s.__prev=l.__key}else s.__prev=null;e.__next=null}r.__size--,e.__parent=null}}function Ye(n){Oi();const t=n.getLatest(),e=t.__parent,r=yt(),o=V(),i=r._nodeMap,s=o._dirtyElements;e!==null&&function(a,c,u){let f=a;for(;f!==null;){if(u.has(f))return;const d=c.get(f);if(d===void 0)break;u.set(f,!1),f=d.__parent}}(e,i,s);const l=t.__key;o._dirtyType=Yo,C(n)?s.set(l,!0):o._dirtyLeaves.add(l)}function $(n){G();const t=V(),e=t._compositionKey;if(n!==e){if(t._compositionKey=n,e!==null){const r=q(e);r!==null&&r.getWritable()}if(n!==null){const r=q(n);r!==null&&r.getWritable()}}}function Tt(){return De()?null:V()._compositionKey}function q(n,t){const e=(t||yt())._nodeMap.get(n);return e===void 0?null:e}function si(n,t){const e=n[`__lexicalKey_${V()._key}`];return e!==void 0?q(e,t):null}function Vt(n,t){let e=n;for(;e!=null;){const r=si(e,t);if(r!==null)return r;e=fn(e)}return null}function li(n){const t=n._decorators,e=Object.assign({},t);return n._pendingDecorators=e,e}function Dr(n){return n.read(()=>J().getTextContent())}function J(){return ai(yt())}function ai(n){return n._nodeMap.get("root")}function dt(n){G();const t=yt();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),t._selection=n}function qt(n){const t=V(),e=function(r,o){let i=r;for(;i!=null;){const s=i[`__lexicalKey_${o._key}`];if(s!==void 0)return s;i=fn(i)}return null}(n,t);return e===null?n===t.getRootElement()?q("root"):null:q(e)}function Ir(n,t){return t?n.getTextContentSize():0}function ci(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function gr(n){const t=[];let e=n;for(;e!==null;)t.push(e),e=e._parentEditor;return t}function ui(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function di(n){return n.nodeType===Nt?n.nodeValue:null}function pr(n,t,e){const r=ft(t._window);if(r===null)return;const o=r.anchorNode;let{anchorOffset:i,focusOffset:s}=r;if(o!==null){let l=di(o);const a=Vt(o);if(l!==null&&S(a)){if(l===un&&e){const c=e.length;l=e,i=c,s=c}l!==null&&_r(a,l,i,s,n)}}}function _r(n,t,e,r,o){let i=n;if(i.isAttached()&&(o||!i.isDirty())){const s=i.isComposing();let l=t;(s||o)&&t[t.length-1]===un&&(l=t.slice(0,-1));const a=i.getTextContent();if(o||l!==a){if(l===""){if($(null),rr||cn||or)i.remove();else{const _=V();setTimeout(()=>{_.update(()=>{i.isAttached()&&i.remove()})},20)}return}const c=i.getParent(),u=Fe(),f=i.getTextContentSize(),d=Tt(),h=i.getKey();if(i.isToken()||d!==null&&h===d&&!s||k(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===n.__key&&u.anchor.offset===0&&!i.canInsertTextBefore()&&!s||u.focus.key===n.__key&&u.focus.offset===f&&!i.canInsertTextAfter()&&!s))return void i.markDirty();const g=P();if(!k(g)||e===null||r===null)return void i.setTextContent(l);if(g.setTextNodeRange(i,e,i,r),i.isSegmented()){const _=U(i.getTextContent());i.replace(_),i=_}i.setTextContent(l)}}}function zs(n,t){if(t.isSegmented())return!0;if(!n.isCollapsed())return!1;const e=n.anchor.offset,r=t.getParentOrThrow(),o=t.isToken();return e===0?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||o||function(i){const s=i.getPreviousSibling();return(S(s)||C(s)&&s.isInline())&&!s.canInsertTextAfter()}(t):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||o)}function Ar(n){return n==="ArrowLeft"}function Br(n){return n==="ArrowRight"}function ge(n,t){return ot?n:t}function Vr(n){return n==="Enter"}function ue(n){return n==="Backspace"}function de(n){return n==="Delete"}function Wr(n,t,e){return n.toLowerCase()==="a"&&ge(t,e)}function Rs(){const n=J();dt(ri(n.select(0,n.getChildrenSize())))}function _e(n,t){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const e=n.__lexicalClassNameCache,r=e[t];if(r!==void 0)return r;const o=n[t];if(typeof o=="string"){const i=qe(o);return e[t]=i,i}return o}function mr(n,t,e,r,o){if(e.size===0)return;const i=r.__type,s=r.__key,l=t.get(i);l===void 0&&T(33,i);const a=l.klass;let c=n.get(a);c===void 0&&(c=new Map,n.set(a,c));const u=c.get(s),f=u==="destroyed"&&o==="created";(u===void 0||f)&&c.set(s,f?"updated":o)}function zr(n,t,e){const r=n.getParent();let o=e,i=n;return r!==null&&(t&&e===0?(o=i.getIndexWithinParent(),i=r):t||e!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(t?o-1:o)}function ke(n,t){const e=n.offset;if(n.type==="element")return zr(n.getNode(),t,e);{const r=n.getNode();if(t&&e===0||!t&&e===r.getTextContentSize()){const o=t?r.getPreviousSibling():r.getNextSibling();return o===null?zr(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):o}}return null}function fi(n){const t=hn(n).event,e=t&&t.inputType;return e==="insertFromPaste"||e==="insertFromPasteAsQuotation"}function L(n,t,e){return Fi(n,t,e)}function dn(n){return!Y(n)&&!n.isLastChild()&&!n.isInline()}function Qe(n,t){const e=n._keyToDOMMap.get(t);return e===void 0&&T(75,t),e}function fn(n){const t=n.assignedSlot||n.parentElement;return t!==null&&t.nodeType===11?t.host:t}function Vn(n,t){let e=n.getParent();for(;e!==null;){if(e.is(t))return!0;e=e.getParent()}return!1}function hn(n){const t=n._window;return t===null&&T(78),t}function Zs(n){let t=n.getParentOrThrow();for(;t!==null;){if(Ct(t))return t;t=t.getParentOrThrow()}return t}function Ct(n){return Y(n)||C(n)&&n.isShadowRoot()}function re(n){const t=V(),e=n.constructor.getType(),r=t._nodes.get(e);r===void 0&&T(97);const o=r.replace;if(o!==null){const i=o(n);return i instanceof n.constructor||T(98),i}return n}function kn(n,t){!Y(n.getParent())||C(t)||I(t)||T(99)}function bn(n){return(I(n)||C(n)&&!n.canBeEmpty())&&!n.isInline()}function Cr(n,t,e){e.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=n.parentElement;r!==null&&r.removeChild(n)}function Ks(n,t,e){let r=n._blockCursorElement;if(k(e)&&e.isCollapsed()&&e.anchor.type==="element"&&t.contains(document.activeElement)){const o=e.anchor,i=o.getNode(),s=o.offset;let l=!1,a=null;if(s===i.getChildrenSize())bn(i.getChildAtIndex(s-1))&&(l=!0);else{const c=i.getChildAtIndex(s);if(bn(c)){const u=c.getPreviousSibling();(u===null||bn(u))&&(l=!0,a=n.getElementByKey(c.__key))}}if(l){const c=n.getElementByKey(i.__key);return r===null&&(n._blockCursorElement=r=function(u){const f=u.theme,d=document.createElement("div");d.contentEditable="false",d.setAttribute("data-lexical-cursor","true");let h=f.blockCursor;if(h!==void 0){if(typeof h=="string"){const g=qe(h);h=f.blockCursor=g}h!==void 0&&d.classList.add(...h)}return d}(n._config)),t.style.caretColor="transparent",void(a===null?c.appendChild(r):c.insertBefore(r,a))}}r!==null&&Cr(r,n,t)}function ft(n){return ct?(n||window).getSelection():null}function Me(n){return n.nodeType===1}function js(n){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(t)!==null}function Us(n){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(t)!==null}function $t(n){if(Y(n)||I(n)&&!n.isInline())return!0;if(!C(n)||Ct(n))return!1;const t=n.getFirstChild(),e=t===null||Gt(t)||S(t)||t.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&e}function Tn(n,t){let e=n;for(;e!==null&&e.getParent()!==null&&!t(e);)e=e.getParentOrThrow();return t(e)?e:null}function hi(n,t,e,r,o,i){let s=n.getFirstChild();for(;s!==null;){const l=s.__key;s.__parent===t&&(C(s)&&hi(s,l,e,r,o,i),e.has(l)||i.delete(l),o.push(l)),s=s.getNextSibling()}}let Et,Q,be,gn,Wn,zn,Wt,lt,Rn,Te,z="",X="",it=null,pt="",gi=!1,pn=!1,Ze=null;function Ge(n,t){const e=Wt.get(n);if(t!==null){const r=jn(n);r.parentNode===t&&t.removeChild(r)}if(lt.has(n)||Q._keyToDOMMap.delete(n),C(e)){const r=en(e,Wt);Zn(r,0,r.length-1,null)}e!==void 0&&mr(Te,be,gn,e,"destroyed")}function Zn(n,t,e,r){let o=t;for(;o<=e;++o){const i=n[o];i!==void 0&&Ge(i,r)}}function Pt(n,t){n.setProperty("text-align",t)}const $s="40px";function pi(n,t){const e=Et.theme.indent;if(typeof e=="string"){const o=n.classList.contains(e);t>0&&!o?n.classList.add(e):t<1&&o&&n.classList.remove(e)}const r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||$s;n.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${r})`)}function _i(n,t){const e=n.style;t===0?Pt(e,""):t===sr?Pt(e,"left"):t===lr?Pt(e,"center"):t===ar?Pt(e,"right"):t===cr?Pt(e,"justify"):t===ur?Pt(e,"start"):t===dr&&Pt(e,"end")}function tn(n,t,e){const r=lt.get(n);r===void 0&&T(60);const o=r.createDOM(Et,Q);if(function(i,s,l){const a=l._keyToDOMMap;s["__lexicalKey_"+l._key]=i,a.set(i,s)}(n,o,Q),S(r)?o.setAttribute("data-lexical-text","true"):I(r)&&o.setAttribute("data-lexical-decorator","true"),C(r)){const i=r.__indent,s=r.__size;if(i!==0&&pi(o,i),s!==0){const a=s-1;(function(c,u,f,d){const h=X;X="",Kn(c,f,0,u,d,null),Ci(f,d),X=h})(en(r,lt),a,r,o)}const l=r.__format;l!==0&&_i(o,l),r.isInline()||mi(null,r,o),dn(r)&&(z+=mt,pt+=mt)}else{const i=r.getTextContent();if(I(r)){const s=r.decorate(Q,Et);s!==null&&yi(n,s),o.contentEditable="false"}else S(r)&&(r.isDirectionless()||(X+=i));z+=i,pt+=i}if(t!==null)if(e!=null)t.insertBefore(o,e);else{const i=t.__lexicalLineBreak;i!=null?t.insertBefore(o,i):t.appendChild(o)}return mr(Te,be,gn,r,"created"),o}function Kn(n,t,e,r,o,i){const s=z;z="";let l=e;for(;l<=r;++l){tn(n[l],o,i);const a=lt.get(n[l]);a!==null&&it===null&&S(a)&&(it=a.getFormat())}dn(t)&&(z+=mt),o.__lexicalTextContent=z,z=s+z}function Rr(n,t){const e=t.get(n);return Gt(e)||I(e)&&e.isInline()}function mi(n,t,e){const r=n!==null&&(n.__size===0||Rr(n.__last,Wt)),o=t.__size===0||Rr(t.__last,lt);if(r){if(!o){const i=e.__lexicalLineBreak;i!=null&&e.removeChild(i),e.__lexicalLineBreak=null}}else if(o){const i=document.createElement("br");e.__lexicalLineBreak=i,e.appendChild(i)}}function Ci(n,t){const e=t.__lexicalDirTextContent,r=t.__lexicalDir;if(e!==X||r!==Ze){const i=X==="",s=i?Ze:(o=X,Ss.test(o)?"rtl":Ls.test(o)?"ltr":null);if(s!==r){const l=t.classList,a=Et.theme;let c=r!==null?a[r]:void 0,u=s!==null?a[s]:void 0;if(c!==void 0){if(typeof c=="string"){const f=qe(c);c=a[r]=f}l.remove(...c)}if(s===null||i&&s==="ltr")t.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const f=qe(u);u=a[s]=f}u!==void 0&&l.add(...u)}t.dir=s}pn||(n.getWritable().__dir=s)}Ze=s,t.__lexicalDirTextContent=X,t.__lexicalDir=s}var o}function Js(n,t,e){const r=X;var o;X="",it=null,function(i,s,l){const a=z,c=i.__size,u=s.__size;if(z="",c===1&&u===1){const f=i.__first,d=s.__first;if(f===d)pe(f,l);else{const g=jn(f),_=tn(d,null,null);l.replaceChild(_,g),Ge(f,null)}const h=lt.get(d);it===null&&S(h)&&(it=h.getFormat())}else{const f=en(i,Wt),d=en(s,lt);if(c===0)u!==0&&Kn(d,s,0,u-1,l,null);else if(u===0){if(c!==0){const h=l.__lexicalLineBreak==null;Zn(f,0,c-1,h?null:l),h&&(l.textContent="")}}else(function(h,g,_,p,y,m){const x=p-1,b=y-1;let E,v,N=(O=m,O.firstChild),w=0,M=0;for(var O;w<=x&&M<=b;){const H=g[w],A=_[M];if(H===A)N=Sn(pe(A,m)),w++,M++;else{E===void 0&&(E=new Set(g)),v===void 0&&(v=new Set(_));const xt=v.has(H),Kt=E.has(A);if(xt)if(Kt){const ae=Qe(Q,A);ae===N?N=Sn(pe(A,m)):(N!=null?m.insertBefore(ae,N):m.appendChild(ae),pe(A,m)),w++,M++}else tn(A,m,N),M++;else N=Sn(jn(H)),Ge(H,m),w++}const j=lt.get(A);j!==null&&it===null&&S(j)&&(it=j.getFormat())}const B=w>x,K=M>b;if(B&&!K){const H=_[b+1];Kn(_,h,M,b,m,H===void 0?null:Q.getElementByKey(H))}else K&&!B&&Zn(g,w,x,m)})(s,f,d,c,u,l)}dn(s)&&(z+=mt),l.__lexicalTextContent=z,z=a+z}(n,t,e),Ci(t,e),ne(o=t)&&it!=null&&it!==o.__textFormat&&!pn&&o.setTextFormat(it),X=r,it=null}function en(n,t){const e=[];let r=n.__first;for(;r!==null;){const o=t.get(r);o===void 0&&T(101),e.push(r),r=o.__next}return e}function pe(n,t){const e=Wt.get(n);let r=lt.get(n);e!==void 0&&r!==void 0||T(61);const o=gi||zn.has(n)||Wn.has(n),i=Qe(Q,n);if(e===r&&!o){if(C(e)){const s=i.__lexicalTextContent;s!==void 0&&(z+=s,pt+=s);const l=i.__lexicalDirTextContent;l!==void 0&&(X+=l)}else{const s=e.getTextContent();S(e)&&!e.isDirectionless()&&(X+=s),pt+=s,z+=s}return i}if(e!==r&&o&&mr(Te,be,gn,r,"updated"),r.updateDOM(e,i,Et)){const s=tn(n,null,null);return t===null&&T(62),t.replaceChild(s,i),Ge(n,null),s}if(C(e)&&C(r)){const s=r.__indent;s!==e.__indent&&pi(i,s);const l=r.__format;l!==e.__format&&_i(i,l),o&&(Js(e,r,i),Y(r)||r.isInline()||mi(e,r,i)),dn(r)&&(z+=mt,pt+=mt)}else{const s=r.getTextContent();if(I(r)){const l=r.decorate(Q,Et);l!==null&&yi(n,l)}else S(r)&&!r.isDirectionless()&&(X+=s);z+=s,pt+=s}if(!pn&&Y(r)&&r.__cachedText!==pt){const s=r.getWritable();s.__cachedText=pt,r=s}return i}function yi(n,t){let e=Q._pendingDecorators;const r=Q._decorators;if(e===null){if(r[n]===t)return;e=li(Q)}e[n]=t}function Sn(n){let t=n.nextSibling;return t!==null&&t===Q._blockCursorElement&&(t=t.nextSibling),t}function qs(n,t,e,r,o,i){z="",pt="",X="",gi=r===te,Ze=null,Q=e,Et=e._config,be=e._nodes,gn=Q._listeners.mutation,Wn=o,zn=i,Wt=n._nodeMap,lt=t._nodeMap,pn=t._readOnly,Rn=new Map(e._keyToDOMMap);const s=new Map;return Te=s,pe("root",null),Q=void 0,be=void 0,Wn=void 0,zn=void 0,Wt=void 0,lt=void 0,Et=void 0,Rn=void 0,Te=void 0,s}function jn(n){const t=Rn.get(n);return t===void 0&&T(75,n),t}const gt=Object.freeze({}),Un=30,$n=[["keydown",function(n,t){if(me=n.timeStamp,xi=n.key,t.isComposing())return;const{key:e,shiftKey:r,ctrlKey:o,metaKey:i,altKey:s}=n;L(t,ss,n)||e!=null&&(function(l,a,c,u){return Br(l)&&!a&&!u&&!c}(e,o,s,i)?L(t,Wo,n):function(l,a,c,u,f){return Br(l)&&!u&&!c&&(a||f)}(e,o,r,s,i)?L(t,ls,n):function(l,a,c,u){return Ar(l)&&!a&&!u&&!c}(e,o,s,i)?L(t,zo,n):function(l,a,c,u,f){return Ar(l)&&!u&&!c&&(a||f)}(e,o,r,s,i)?L(t,as,n):function(l,a,c){return function(u){return u==="ArrowUp"}(l)&&!a&&!c}(e,o,i)?L(t,Ro,n):function(l,a,c){return function(u){return u==="ArrowDown"}(l)&&!a&&!c}(e,o,i)?L(t,Zo,n):function(l,a){return Vr(l)&&a}(e,r)?(Ce=!0,L(t,we,n)):function(l){return l===" "}(e)?L(t,cs,n):function(l,a){return ot&&a&&l.toLowerCase()==="o"}(e,o)?(n.preventDefault(),Ce=!0,L(t,Xt,!0)):function(l,a){return Vr(l)&&!a}(e,r)?(Ce=!1,L(t,we,n)):function(l,a,c,u){return ot?!a&&!c&&(ue(l)||l.toLowerCase()==="h"&&u):!(u||a||c)&&ue(l)}(e,s,i,o)?ue(e)?L(t,Ko,n):(n.preventDefault(),L(t,Ft,!0)):function(l){return l==="Escape"}(e)?L(t,jo,n):function(l,a,c,u,f){return ot?!(c||u||f)&&(de(l)||l.toLowerCase()==="d"&&a):!(a||u||f)&&de(l)}(e,o,r,s,i)?de(e)?L(t,Uo,n):(n.preventDefault(),L(t,Ft,!1)):function(l,a,c){return ue(l)&&(ot?a:c)}(e,s,o)?(n.preventDefault(),L(t,xe,!0)):function(l,a,c){return de(l)&&(ot?a:c)}(e,s,o)?(n.preventDefault(),L(t,xe,!1)):function(l,a){return ot&&a&&ue(l)}(e,i)?(n.preventDefault(),L(t,ve,!0)):function(l,a){return ot&&a&&de(l)}(e,i)?(n.preventDefault(),L(t,ve,!1)):function(l,a,c,u){return l.toLowerCase()==="b"&&!a&&ge(c,u)}(e,s,i,o)?(n.preventDefault(),L(t,_t,"bold")):function(l,a,c,u){return l.toLowerCase()==="u"&&!a&&ge(c,u)}(e,s,i,o)?(n.preventDefault(),L(t,_t,"underline")):function(l,a,c,u){return l.toLowerCase()==="i"&&!a&&ge(c,u)}(e,s,i,o)?(n.preventDefault(),L(t,_t,"italic")):function(l,a,c,u){return l==="Tab"&&!a&&!c&&!u}(e,s,o,i)?L(t,us,n):function(l,a,c,u){return l.toLowerCase()==="z"&&!a&&ge(c,u)}(e,r,i,o)?(n.preventDefault(),L(t,Bo,void 0)):function(l,a,c,u){return ot?l.toLowerCase()==="z"&&c&&a:l.toLowerCase()==="y"&&u||l.toLowerCase()==="z"&&u&&a}(e,r,i,o)?(n.preventDefault(),L(t,Vo,void 0)):st(t._editorState._selection)?function(l,a,c,u){return!a&&l.toLowerCase()==="c"&&(ot?c:u)}(e,r,i,o)?(n.preventDefault(),L(t,an,n)):function(l,a,c,u){return!a&&l.toLowerCase()==="x"&&(ot?c:u)}(e,r,i,o)?(n.preventDefault(),L(t,nr,n)):Wr(e,i,o)&&(n.preventDefault(),L(t,In,n)):!Lt&&Wr(e,i,o)&&(n.preventDefault(),L(t,In,n)),function(l,a,c,u){return l||a||c||u}(o,r,s,i)&&L(t,ms,n))}],["pointerdown",function(n,t){const e=n.target,r=n.pointerType;e instanceof Node&&r!=="touch"&&et(t,()=>{I(Vt(e))||(qn=!0)})}],["compositionstart",function(n,t){et(t,()=>{const e=P();if(k(e)&&!t.isComposing()){const r=e.anchor,o=e.anchor.getNode();$(r.key),(n.timeStamp<me+Un||r.type==="element"||!e.isCollapsed()||o.getFormat()!==e.format||S(o)&&o.getStyle()!==e.style)&&L(t,Yt,Ts)}})}],["compositionend",function(n,t){Lt?fe=!0:et(t,()=>{Ln(t,n.data)})}],["input",function(n,t){n.stopPropagation(),et(t,()=>{const e=P(),r=n.data,o=bi(n);if(r!=null&&k(e)&&ki(e,o,r,n.timeStamp,!1)){fe&&(Ln(t,r),fe=!1);const i=e.anchor.getNode(),s=ft(t._window);if(s===null)return;const l=e.isBackward(),a=l?e.anchor.offset:e.focus.offset,c=l?e.focus.offset:e.anchor.offset;Ue&&!e.isCollapsed()&&S(i)&&s.anchorNode!==null&&i.getTextContent().slice(0,a)+r+i.getTextContent().slice(a+c)===di(s.anchorNode)||L(t,Yt,r);const u=r.length;Lt&&u>1&&n.inputType==="insertCompositionText"&&!t.isComposing()&&(e.anchor.offset-=u),rr||cn||or||!t.isComposing()||(me=0,$(null))}else pr(!1,t,r!==null?r:void 0),fe&&(Ln(t,r||void 0),fe=!1);G(),ei(V())}),Jt=null}],["click",function(n,t){et(t,()=>{const e=P(),r=ft(t._window),o=Fe();if(r){if(k(e)){const i=e.anchor,s=i.getNode();i.type==="element"&&i.offset===0&&e.isCollapsed()&&!Y(s)&&J().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&o!==null&&e.is(o)?(r.removeAllRanges(),e.dirty=!0):n.detail===3&&!e.isCollapsed()&&s!==e.focus.getNode()&&(C(s)?s.select(0):s.getParentOrThrow().select(0))}else if(n.pointerType==="touch"){const i=r.anchorNode;if(i!==null){const s=i.nodeType;(s===Ee||s===Nt)&&dt(xr(o,r,t,n))}}}L(t,Ao,n)})}],["cut",gt],["copy",gt],["dragstart",gt],["dragover",gt],["dragend",gt],["paste",gt],["focus",gt],["blur",gt],["drop",gt]];Ue&&$n.push(["beforeinput",(n,t)=>function(e,r){const o=e.inputType,i=bi(e);o==="deleteCompositionText"||Lt&&fi(r)||o!=="insertCompositionText"&&et(r,()=>{const s=P();if(o==="deleteContentBackward"){if(s===null){const h=Fe();if(!k(h))return;dt(h.clone())}if(k(s)){const h=s.anchor.key===s.focus.key;if(l=e.timeStamp,xi==="MediaLast"&&l<me+Un&&r.isComposing()&&h){if($(null),me=0,setTimeout(()=>{et(r,()=>{$(null)})},Un),k(s)){const g=s.anchor.getNode();g.markDirty(),s.format=g.getFormat(),S(g)||T(142),s.style=g.getStyle()}}else{$(null),e.preventDefault();const g=s.anchor.getNode().getTextContent(),_=s.anchor.offset===0&&s.focus.offset===g.length;xs&&h&&!_||L(r,Ft,!0)}return}}var l;if(!k(s))return;const a=e.data;Jt!==null&&pr(!1,r,Jt),s.dirty&&Jt===null||!s.isCollapsed()||Y(s.anchor.getNode())||i===null||s.applyDOMRange(i),Jt=null;const c=s.anchor,u=s.focus,f=c.getNode(),d=u.getNode();if(o!=="insertText"&&o!=="insertTranspose")switch(e.preventDefault(),o){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":L(r,Yt,e);break;case"insertFromComposition":$(null),L(r,Yt,e);break;case"insertLineBreak":$(null),L(r,Xt,!1);break;case"insertParagraph":$(null),Ce&&!cn?(Ce=!1,L(r,Xt,!1)):L(r,je,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":L(r,er,e);break;case"deleteByComposition":(function(h,g){return h!==g||C(h)||C(g)||!h.isToken()||!g.isToken()})(f,d)&&L(r,Dn,e);break;case"deleteByDrag":case"deleteByCut":L(r,Dn,e);break;case"deleteContent":L(r,Ft,!1);break;case"deleteWordBackward":L(r,xe,!0);break;case"deleteWordForward":L(r,xe,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":L(r,ve,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":L(r,ve,!1);break;case"formatStrikeThrough":L(r,_t,"strikethrough");break;case"formatBold":L(r,_t,"bold");break;case"formatItalic":L(r,_t,"italic");break;case"formatUnderline":L(r,_t,"underline");break;case"historyUndo":L(r,Bo,void 0);break;case"historyRedo":L(r,Vo,void 0)}else{if(a===`
`)e.preventDefault(),L(r,Xt,!1);else if(a===mt)e.preventDefault(),L(r,je,void 0);else if(a==null&&e.dataTransfer){const h=e.dataTransfer.getData("text/plain");e.preventDefault(),s.insertRawText(h)}else a!=null&&ki(s,i,a,e.timeStamp,!0)?(e.preventDefault(),L(r,Yt,a)):Jt=a;vi=e.timeStamp}})}(n,t)]);let me=0,xi=null,vi=0,Jt=null;const nn=new WeakMap;let Jn=!1,qn=!1,Ce=!1,fe=!1,wi=[0,"",0,"root",0];function ki(n,t,e,r,o){const i=n.anchor,s=n.focus,l=i.getNode(),a=V(),c=ft(a._window),u=c!==null?c.anchorNode:null,f=i.key,d=a.getElementByKey(f),h=e.length;return f!==s.key||!S(l)||(!o&&(!Ue||vi<r+50)||l.isDirty()&&h<2||ci(e))&&i.offset!==s.offset&&!l.isComposing()||Ut(l)||l.isDirty()&&h>1||(o||!Ue)&&d!==null&&!l.isComposing()&&u!==Xe(d)||c!==null&&t!==null&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||l.getFormat()!==n.format||l.getStyle()!==n.style||zs(n,l)}function Zr(n,t){return n!==null&&n.nodeValue!==null&&n.nodeType===Nt&&t!==0&&t!==n.nodeValue.length}function Kr(n,t,e){const{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}=n;Jn&&(Jn=!1,Zr(r,o)&&Zr(i,s))||et(t,()=>{if(!e)return void dt(null);if(!Ne(t,r,i))return;const l=P();if(k(l)){const a=l.anchor,c=a.getNode();if(l.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(l.dirty=!0);const u=hn(t).event,f=u?u.timeStamp:performance.now(),[d,h,g,_,p]=wi,y=J(),m=t.isComposing()===!1&&y.getTextContent()==="";if(f<p+200&&a.offset===g&&a.key===_)l.format=d,l.style=h;else if(a.type==="text")S(c)||T(141),l.format=c.getFormat(),l.style=c.getStyle();else if(a.type==="element"&&!m){const x=a.getNode();x instanceof ie&&x.getChildrenSize()===0?l.format=x.getTextFormat():l.format=0,l.style=""}}else{const u=a.key,f=l.focus.key,d=l.getNodes(),h=d.length,g=l.isBackward(),_=g?s:o,p=g?o:s,y=g?f:u,m=g?u:f;let x=bs,b=!1;for(let E=0;E<h;E++){const v=d[E],N=v.getTextContentSize();if(S(v)&&N!==0&&!(E===0&&v.__key===y&&_===N||E===h-1&&v.__key===m&&p===0)&&(b=!0,x&=v.getFormat(),x===0))break}l.format=b?x:0}}L(t,tr,void 0)})}function bi(n){if(!n.getTargetRanges)return null;const t=n.getTargetRanges();return t.length===0?null:t[0]}function Ln(n,t){const e=n._compositionKey;if($(null),e!==null&&t!=null){if(t===""){const r=q(e),o=Xe(n.getElementByKey(e));return void(o!==null&&o.nodeValue!==null&&S(r)&&_r(r,o.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){const r=P();if(k(r)){const o=r.focus;return r.anchor.set(o.key,o.offset,o.type),void L(n,we,null)}}}pr(!0,n,t)}function Ti(n){let t=n.__lexicalEventHandles;return t===void 0&&(t=[],n.__lexicalEventHandles=t),t}const Qt=new Map;function Si(n){const t=n.target,e=ft(t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView);if(e===null)return;const r=oi(e.anchorNode);if(r===null)return;qn&&(qn=!1,et(r,()=>{const c=Fe(),u=e.anchorNode;if(u===null)return;const f=u.nodeType;f!==Ee&&f!==Nt||dt(xr(c,e,r,n))}));const o=gr(r),i=o[o.length-1],s=i._key,l=Qt.get(s),a=l||i;a!==r&&Kr(e,a,!1),Kr(e,r,!0),r!==i?Qt.set(s,r):l&&Qt.delete(s)}function jr(n){n._lexicalHandled=!0}function Ur(n){return n._lexicalHandled===!0}function Xs(n){const t=n.ownerDocument,e=nn.get(t);e===void 0&&T(162);const r=e-1;r>=0||T(164),nn.set(t,r),r===0&&t.removeEventListener("selectionchange",Si);const o=n.__lexicalEditor;o!=null&&(function(s){if(s._parentEditor!==null){const l=gr(s),a=l[l.length-1]._key;Qt.get(a)===s&&Qt.delete(a)}else Qt.delete(s._key)}(o),n.__lexicalEditor=null);const i=Ti(n);for(let s=0;s<i.length;s++)i[s]();n.__lexicalEventHandles=[]}function Xn(n,t,e){G();const r=n.__key,o=n.getParent();if(o===null)return;const i=function(l){const a=P();if(!k(a)||!C(l))return a;const{anchor:c,focus:u}=a,f=c.getNode(),d=u.getNode();return Vn(f,l)&&c.set(l.__key,0,"element"),Vn(d,l)&&u.set(l.__key,0,"element"),a}(n);let s=!1;if(k(i)&&t){const l=i.anchor,a=i.focus;l.key===r&&(on(l,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0),a.key===r&&(on(a,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0)}else st(i)&&t&&n.isSelected()&&n.selectPrevious();if(k(i)&&t&&!s){const l=n.getIndexWithinParent();Dt(n),rn(i,o,l,-1)}else Dt(n);e||Ct(o)||o.canBeEmpty()||!o.isEmpty()||Xn(o,t),t&&Y(o)&&o.isEmpty()&&o.selectEnd()}class _n{static getType(){T(64,this.name)}static clone(t){T(65,this.name)}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Ws(this,t)}getType(){return this.__type}isInline(){T(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;const e=q(t);if(e===null)break;t=e.__parent}return!1}isSelected(t){const e=t||P();if(e==null)return!1;const r=e.getNodes().some(o=>o.__key===this.__key);return(S(this)||!k(e)||e.anchor.type!=="element"||e.focus.type!=="element"||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&r}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(t===null)return-1;let e=t.getFirstChild(),r=0;for(;e!==null;){if(this.is(e))return r;r++,e=e.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return t===null?null:q(t)}getParentOrThrow(){const t=this.getParent();return t===null&&T(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){const e=t.getParent();if(Ct(e))return C(t)||T(138),t;t=e}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return t===null&&T(67,this.__key),t}getParents(){const t=[];let e=this.getParent();for(;e!==null;)t.push(e),e=e.getParent();return t}getParentKeys(){const t=[];let e=this.getParent();for(;e!==null;)t.push(e.__key),e=e.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return t===null?null:q(t)}getPreviousSiblings(){const t=[],e=this.getParent();if(e===null)return t;let r=e.getFirstChild();for(;r!==null&&!r.is(this);)t.push(r),r=r.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return t===null?null:q(t)}getNextSiblings(){const t=[];let e=this.getNextSibling();for(;e!==null;)t.push(e),e=e.getNextSibling();return t}getCommonAncestor(t){const e=this.getParents(),r=t.getParents();C(this)&&e.unshift(this),C(t)&&r.unshift(t);const o=e.length,i=r.length;if(o===0||i===0||e[o-1]!==r[i-1])return null;const s=new Set(r);for(let l=0;l<o;l++){const a=e[l];if(s.has(a))return a}return null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;const e=this.getCommonAncestor(t);let r=0,o=0,i=this;for(;;){const s=i.getParentOrThrow();if(s===e){r=i.getIndexWithinParent();break}i=s}for(i=t;;){const s=i.getParentOrThrow();if(s===e){o=i.getIndexWithinParent();break}i=s}return r<o}isParentOf(t){const e=this.__key;if(e===t.__key)return!1;let r=t;for(;r!==null;){if(r.__key===e)return!0;r=r.getParent()}return!1}getNodesBetween(t){const e=this.isBefore(t),r=[],o=new Set;let i=this;for(;i!==null;){const s=i.__key;if(o.has(s)||(o.add(s),r.push(i)),i===t)break;const l=C(i)?e?i.getFirstChild():i.getLastChild():null;if(l!==null){i=l;continue}const a=e?i.getNextSibling():i.getPreviousSibling();if(a!==null){i=a;continue}const c=i.getParentOrThrow();if(o.has(c.__key)||r.push(c),c===t)break;let u=null,f=c;do{if(f===null&&T(68),u=e?f.getNextSibling():f.getPreviousSibling(),f=f.getParent(),f===null)break;u!==null||o.has(f.__key)||r.push(f)}while(u===null);i=u}return e||r.reverse(),r}isDirty(){const t=V()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){const t=q(this.__key);return t===null&&T(113),t}getWritable(){G();const t=yt(),e=V(),r=t._nodeMap,o=this.__key,i=this.getLatest(),s=i.__parent,l=e._cloneNotNeeded,a=P();if(a!==null&&a.setCachedNodes(null),l.has(o))return Ye(i),i;const c=i.constructor.clone(i);return c.__parent=s,c.__next=i.__next,c.__prev=i.__prev,C(i)&&C(c)?(ne(i)&&ne(c)&&(c.__textFormat=i.__textFormat),c.__first=i.__first,c.__last=i.__last,c.__size=i.__size,c.__indent=i.__indent,c.__format=i.__format,c.__dir=i.__dir):S(i)&&S(c)&&(c.__format=i.__format,c.__style=i.__style,c.__mode=i.__mode,c.__detail=i.__detail),l.add(o),c.__key=o,Ye(c),r.set(o,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,e){T(70)}updateDOM(t,e,r){T(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){T(72)}static importJSON(t){T(18,this.name)}static transform(){return null}remove(t){Xn(this,!0,t)}replace(t,e){G();let r=P();r!==null&&(r=r.clone()),kn(this,t);const o=this.getLatest(),i=this.__key,s=t.__key,l=t.getWritable(),a=this.getParentOrThrow().getWritable(),c=a.__size;Dt(l);const u=o.getPreviousSibling(),f=o.getNextSibling(),d=o.__prev,h=o.__next,g=o.__parent;if(Xn(o,!1,!0),u===null?a.__first=s:u.getWritable().__next=s,l.__prev=d,f===null?a.__last=s:f.getWritable().__prev=s,l.__next=h,l.__parent=g,a.__size=c,e&&(C(this)&&C(l)||T(139),this.getChildren().forEach(_=>{l.append(_)})),k(r)){dt(r);const _=r.anchor,p=r.focus;_.key===i&&Yr(_,l),p.key===i&&Yr(p,l)}return Tt()===i&&$(s),l}insertAfter(t,e=!0){G(),kn(this,t);const r=this.getWritable(),o=t.getWritable(),i=o.getParent(),s=P();let l=!1,a=!1;if(i!==null){const h=t.getIndexWithinParent();if(Dt(o),k(s)){const g=i.__key,_=s.anchor,p=s.focus;l=_.type==="element"&&_.key===g&&_.offset===h+1,a=p.type==="element"&&p.key===g&&p.offset===h+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),f=o.__key,d=r.__next;if(c===null?u.__last=f:c.getWritable().__prev=f,u.__size++,r.__next=f,o.__next=d,o.__prev=r.__key,o.__parent=r.__parent,e&&k(s)){const h=this.getIndexWithinParent();rn(s,u,h+1);const g=u.__key;l&&s.anchor.set(g,h+2,"element"),a&&s.focus.set(g,h+2,"element")}return t}insertBefore(t,e=!0){G(),kn(this,t);const r=this.getWritable(),o=t.getWritable(),i=o.__key;Dt(o);const s=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,c=this.getIndexWithinParent();s===null?l.__first=i:s.getWritable().__next=i,l.__size++,r.__prev=i,o.__prev=a,o.__next=r.__key,o.__parent=r.__parent;const u=P();return e&&k(u)&&rn(u,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return nt()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,e){G();const r=this.getPreviousSibling(),o=this.getParentOrThrow();if(r===null)return o.select(0,0);if(C(r))return r.select();if(!S(r)){const i=r.getIndexWithinParent()+1;return o.select(i,i)}return r.select(t,e)}selectNext(t,e){G();const r=this.getNextSibling(),o=this.getParentOrThrow();if(r===null)return o.select();if(C(r))return r.select(0,0);if(!S(r)){const i=r.getIndexWithinParent();return o.select(i,i)}return r.select(t,e)}markDirty(){this.getWritable()}}class Pe extends _n{static getType(){return"linebreak"}static clone(t){return new Pe(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>function(e){const r=e.parentElement;if(r!==null){const o=r.firstChild;if(o===e||o.nextSibling===e&&$r(o)){const i=r.lastChild;if(i===e||i.previousSibling===e&&$r(i))return!0}}return!1}(t)?null:{conversion:Ys,priority:0}}}static importJSON(t){return ee()}exportJSON(){return{type:"linebreak",version:1}}}function Ys(n){return{node:ee()}}function ee(){return re(new Pe)}function Gt(n){return n instanceof Pe}function $r(n){return n.nodeType===Nt&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function En(n,t){return 16&t?"code":t&ir?"mark":32&t?"sub":64&t?"sup":null}function Nn(n,t){return 1&t?"strong":2&t?"em":"span"}function Li(n,t,e,r,o){const i=r.classList;let s=_e(o,"base");s!==void 0&&i.add(...s),s=_e(o,"underlineStrikethrough");let l=!1;const a=t&Je&&t&$e;s!==void 0&&(e&Je&&e&$e?(l=!0,a||i.add(...s)):a&&i.remove(...s));for(const c in Bt){const u=Bt[c];if(s=_e(o,c),s!==void 0)if(e&u){if(l&&(c==="underline"||c==="strikethrough")){t&u&&i.remove(...s);continue}t&u&&(!a||c!=="underline")&&c!=="strikethrough"||i.add(...s)}else t&u&&i.remove(...s)}}function Ei(n,t,e){const r=t.firstChild,o=e.isComposing(),i=n+(o?un:"");if(r==null)t.textContent=i;else{const s=r.nodeValue;if(s!==i)if(o||Lt){const[l,a,c]=function(u,f){const d=u.length,h=f.length;let g=0,_=0;for(;g<d&&g<h&&u[g]===f[g];)g++;for(;_+g<d&&_+g<h&&u[d-_-1]===f[h-_-1];)_++;return[g,d-g-_,f.slice(g,h-_)]}(s,i);a!==0&&r.deleteData(l,a),r.insertData(l,c)}else r.nodeValue=i}}function Jr(n,t,e,r,o,i){Ei(o,n,t);const s=i.theme.text;s!==void 0&&Li(0,0,r,n,s)}function We(n,t){const e=document.createElement(t);return e.appendChild(n),e}class Zt extends _n{static getType(){return"text"}static clone(t){return new Zt(t.__text,t.__key)}constructor(t,e){super(e),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return Ps[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Tt()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const e=Bt[t];return!!(this.getFormat()&e)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,e){return Bn(this.getLatest().__format,t,e)}canHaveFormat(){return!0}createDOM(t,e){const r=this.__format,o=En(0,r),i=Nn(0,r),s=o===null?i:o,l=document.createElement(s);let a=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),o!==null&&(a=document.createElement(i),l.appendChild(a)),Jr(a,this,0,r,this.__text,t);const c=this.__style;return c!==""&&(l.style.cssText=c),l}updateDOM(t,e,r){const o=this.__text,i=t.__format,s=this.__format,l=En(0,i),a=En(0,s),c=Nn(0,i),u=Nn(0,s);if((l===null?c:l)!==(a===null?u:a))return!0;if(l===a&&c!==u){const _=e.firstChild;_==null&&T(48);const p=document.createElement(u);return Jr(p,this,0,s,o,r),e.replaceChild(p,_),!1}let f=e;a!==null&&l!==null&&(f=e.firstChild,f==null&&T(49)),Ei(o,f,this);const d=r.theme.text;d!==void 0&&i!==s&&Li(0,i,s,f,d);const h=t.__style,g=this.__style;return h!==g&&(e.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:el,priority:0}),b:()=>({conversion:Gs,priority:0}),code:()=>({conversion:kt,priority:0}),em:()=>({conversion:kt,priority:0}),i:()=>({conversion:kt,priority:0}),s:()=>({conversion:kt,priority:0}),span:()=>({conversion:Qs,priority:0}),strong:()=>({conversion:kt,priority:0}),sub:()=>({conversion:kt,priority:0}),sup:()=>({conversion:kt,priority:0}),u:()=>({conversion:kt,priority:0})}}static importJSON(t){const e=U(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportDOM(t){let{element:e}=super.exportDOM(t);return e!==null&&Me(e)||T(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=We(e,"b")),this.hasFormat("italic")&&(e=We(e,"i")),this.hasFormat("strikethrough")&&(e=We(e,"s")),this.hasFormat("underline")&&(e=We(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(t,e){}setFormat(t){const e=this.getWritable();return e.__format=typeof t=="string"?Bt[t]:t,e}setDetail(t){const e=this.getWritable();return e.__detail=typeof t=="string"?Es[t]:t,e}setStyle(t){const e=this.getWritable();return e.__style=t,e}toggleFormat(t){const e=Bn(this.getFormat(),t,null);return this.setFormat(e)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const e=Ms[t];if(this.__mode===e)return this;const r=this.getWritable();return r.__mode=e,r}setTextContent(t){if(this.__text===t)return this;const e=this.getWritable();return e.__text=t,e}select(t,e){G();let r=t,o=e;const i=P(),s=this.getTextContent(),l=this.__key;if(typeof s=="string"){const a=s.length;r===void 0&&(r=a),o===void 0&&(o=a)}else r=0,o=0;if(!k(i))return Pi(l,r,l,o,"text","text");{const a=Tt();a!==i.anchor.key&&a!==i.focus.key||$(l),i.setTextNodeRange(this,r,this,o)}return i}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,e,r,o){const i=this.getWritable(),s=i.__text,l=r.length;let a=t;a<0&&(a=l+a,a<0&&(a=0));const c=P();if(o&&k(c)){const f=t+l;c.setTextNodeRange(i,f,i,f)}const u=s.slice(0,a)+r+s.slice(a+e);return i.__text=u,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){G();const e=this.getLatest(),r=e.getTextContent(),o=e.__key,i=Tt(),s=new Set(t),l=[],a=r.length;let c="";for(let N=0;N<a;N++)c!==""&&s.has(N)&&(l.push(c),c=""),c+=r[N];c!==""&&l.push(c);const u=l.length;if(u===0)return[];if(l[0]===r)return[e];const f=l[0],d=e.getParentOrThrow();let h;const g=e.getFormat(),_=e.getStyle(),p=e.__detail;let y=!1;e.isSegmented()?(h=U(f),h.__format=g,h.__style=_,h.__detail=p,y=!0):(h=e.getWritable(),h.__text=f);const m=P(),x=[h];let b=f.length;for(let N=1;N<u;N++){const w=l[N],M=w.length,O=U(w).getWritable();O.__format=g,O.__style=_,O.__detail=p;const B=O.__key,K=b+M;if(k(m)){const H=m.anchor,A=m.focus;H.key===o&&H.type==="text"&&H.offset>b&&H.offset<=K&&(H.key=B,H.offset-=b,m.dirty=!0),A.key===o&&A.type==="text"&&A.offset>b&&A.offset<=K&&(A.key=B,A.offset-=b,m.dirty=!0)}i===o&&$(B),b=K,x.push(O)}(function(N){const w=N.getPreviousSibling(),M=N.getNextSibling();w!==null&&Ye(w),M!==null&&Ye(M)})(this);const E=d.getWritable(),v=this.getIndexWithinParent();return y?(E.splice(v,0,x),this.remove()):E.splice(v,1,x),k(m)&&rn(m,d,v,u-1),x}mergeWithSibling(t){const e=t===this.getPreviousSibling();e||t===this.getNextSibling()||T(50);const r=this.__key,o=t.__key,i=this.__text,s=i.length;Tt()===o&&$(r);const l=P();if(k(l)){const f=l.anchor,d=l.focus;f!==null&&f.key===o&&(oo(f,e,r,t,s),l.dirty=!0),d!==null&&d.key===o&&(oo(d,e,r,t,s),l.dirty=!0)}const a=t.__text,c=e?a+i:i+a;this.setTextContent(c);const u=this.getWritable();return t.remove(),u}isTextEntity(){return!1}}function Qs(n){return{forChild:yr(n.style),node:null}}function Gs(n){const t=n,e=t.style.fontWeight==="normal";return{forChild:yr(t.style,e?void 0:"bold"),node:null}}const qr=new WeakMap;function tl(n){return n.nodeName==="PRE"||n.nodeType===Ee&&n.style!==void 0&&n.style.whiteSpace!==void 0&&n.style.whiteSpace.startsWith("pre")}function el(n){const t=n;n.parentElement===null&&T(129);let e=t.textContent||"";if(function(r){let o,i=r.parentNode;const s=[r];for(;i!==null&&(o=qr.get(i))===void 0&&!tl(i);)s.push(i),i=i.parentNode;const l=o===void 0?i:o;for(let a=0;a<s.length;a++)qr.set(s[a],l);return l}(t)!==null){const r=e.split(/(\r?\n|\t)/),o=[],i=r.length;for(let s=0;s<i;s++){const l=r[s];l===`
`||l===`\r
`?o.push(ee()):l==="	"?o.push(Oe()):l!==""&&o.push(U(l))}return{node:o}}if(e=e.replace(/\r/g,"").replace(/[ \t\n]+/g," "),e==="")return{node:null};if(e[0]===" "){let r=t,o=!0;for(;r!==null&&(r=Xr(r,!1))!==null;){const i=r.textContent||"";if(i.length>0){/[ \t\n]$/.test(i)&&(e=e.slice(1)),o=!1;break}}o&&(e=e.slice(1))}if(e[e.length-1]===" "){let r=t,o=!0;for(;r!==null&&(r=Xr(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(e=e.slice(0,e.length-1))}return e===""?{node:null}:{node:U(e)}}function Xr(n,t){let e=n;for(;;){let r;for(;(r=t?e.nextSibling:e.previousSibling)===null;){const i=e.parentElement;if(i===null)return null;e=i}if(e=r,e.nodeType===Ee){const i=e.style.display;if(i===""&&!js(e)||i!==""&&!i.startsWith("inline"))return null}let o=e;for(;(o=t?e.firstChild:e.lastChild)!==null;)e=o;if(e.nodeType===Nt)return e;if(e.nodeName==="BR")return null}}const nl={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function kt(n){const t=nl[n.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:yr(n.style,t),node:null}}function U(n=""){return re(new Zt(n))}function S(n){return n instanceof Zt}function yr(n,t){const e=n.fontWeight,r=n.textDecoration.split(" "),o=e==="700"||e==="bold",i=r.includes("line-through"),s=n.fontStyle==="italic",l=r.includes("underline"),a=n.verticalAlign;return c=>(S(c)&&(o&&!c.hasFormat("bold")&&c.toggleFormat("bold"),i&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),s&&!c.hasFormat("italic")&&c.toggleFormat("italic"),l&&!c.hasFormat("underline")&&c.toggleFormat("underline"),a!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),a!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),t&&!c.hasFormat(t)&&c.toggleFormat(t)),c)}class He extends Zt{static getType(){return"tab"}static clone(t){const e=new He(t.__key);return e.__text=t.__text,e.__format=t.__format,e.__style=t.__style,e}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}static importJSON(t){const e=Oe();return e.setFormat(t.format),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(t){T(126)}setDetail(t){T(127)}setMode(t){T(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Oe(){return re(new He)}function rl(n){return n instanceof He}class ol{constructor(t,e,r){this._selection=null,this.key=t,this.offset=e,this.type=r}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let e=this.getNode(),r=t.getNode();const o=this.offset,i=t.offset;return C(e)&&(e=e.getDescendantByIndex(o)??e),C(r)&&(r=r.getDescendantByIndex(i)??r),e===r?o<i:e.isBefore(r)}getNode(){const t=q(this.key);return t===null&&T(20),t}set(t,e,r){const o=this._selection,i=this.key;this.key=t,this.offset=e,this.type=r,De()||(Tt()===i&&$(t),o!==null&&(o.setCachedNodes(null),o.dirty=!0))}}function ht(n,t,e){return new ol(n,t,e)}function Mn(n,t){let e=t.__key,r=n.offset,o="element";if(S(t)){o="text";const i=t.getTextContentSize();r>i&&(r=i)}else if(!C(t)){const i=t.getNextSibling();if(S(i))e=i.__key,r=0,o="text";else{const s=t.getParent();s&&(e=s.__key,r=t.getIndexWithinParent()+1)}}n.set(e,r,o)}function Yr(n,t){if(C(t)){const e=t.getLastDescendant();C(e)||S(e)?Mn(n,e):Mn(n,t)}else Mn(n,t)}function bt(n,t,e,r){n.key=t,n.offset=e,n.type=r}class mn{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!st(t))return!1;const e=this._nodes,r=t._nodes;return e.size===r.size&&Array.from(e).every(o=>r.has(o))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new mn(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const e=this.getNodes(),r=e.length,o=e[r-1];let i;if(S(o))i=o.select();else{const s=o.getIndexWithinParent()+1;i=o.getParentOrThrow().select(s,s)}i.insertNodes(t);for(let s=0;s<r;s++)e[s].remove()}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const e=this._nodes,r=[];for(const o of e){const i=q(o);i!==null&&r.push(i)}return De()||(this._cachedNodes=r),r}getTextContent(){const t=this.getNodes();let e="";for(let r=0;r<t.length;r++)e+=t[r].getTextContent();return e}}function k(n){return n instanceof Mt}class Mt{constructor(t,e,r,o){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=r,this.style=o,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!k(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const e=this.anchor,r=this.focus,o=e.isBefore(r),i=o?e:r,s=o?r:e;let l=i.getNode(),a=s.getNode();const c=i.offset,u=s.offset;if(C(l)&&(l=l.getDescendantByIndex(c)??l),C(a)){let d=a.getDescendantByIndex(u);d!==null&&d!==l&&a.getChildAtIndex(u)===d&&(d=d.getPreviousSibling()),a=d??a}let f;return f=l.is(a)?C(l)&&l.getChildrenSize()>0?[]:[l]:l.getNodesBetween(a),De()||(this._cachedNodes=f),f}setTextNodeRange(t,e,r,o){bt(this.anchor,t.__key,e,"text"),bt(this.focus,r.__key,o,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const t=this.getNodes();if(t.length===0)return"";const e=t[0],r=t[t.length-1],o=this.anchor,i=this.focus,s=o.isBefore(i),[l,a]=Yn(this);let c="",u=!0;for(let f=0;f<t.length;f++){const d=t[f];if(C(d)&&!d.isInline())u||(c+=`
`),u=!d.isEmpty();else if(u=!1,S(d)){let h=d.getTextContent();d===e?d===r?o.type==="element"&&i.type==="element"&&i.offset!==o.offset||(h=l<a?h.slice(l,a):h.slice(a,l)):h=s?h.slice(l):h.slice(a):d===r&&(h=s?h.slice(0,a):h.slice(0,l)),c+=h}else!I(d)&&!Gt(d)||d===r&&this.isCollapsed()||(c+=d.getTextContent())}return c}applyDOMRange(t){const e=V(),r=e.getEditorState()._selection,o=Mi(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,r);if(o===null)return;const[i,s]=o;bt(this.anchor,i.key,i.offset,i.type),bt(this.focus,s.key,s.offset,s.type),this._cachedNodes=null}clone(){const t=this.anchor,e=this.focus;return new Mt(ht(t.key,t.offset,t.type),ht(e.key,e.offset,e.type),this.format,this.style)}toggleFormat(t){this.format=Bn(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const e=Bt[t];return!!(this.format&e)}insertRawText(t){const e=t.split(/(\r?\n|\t)/),r=[],o=e.length;for(let i=0;i<o;i++){const s=e[i];s===`
`||s===`\r
`?r.push(ee()):s==="	"?r.push(Oe()):r.push(U(s))}this.insertNodes(r)}insertText(t){const e=this.anchor,r=this.focus,o=this.format,i=this.style;let s=e,l=r;!this.isCollapsed()&&r.isBefore(e)&&(s=r,l=e),s.type==="element"&&function(p,y,m,x){const b=p.getNode(),E=b.getChildAtIndex(p.offset),v=U(),N=Y(b)?nt().append(v):v;v.setFormat(m),v.setStyle(x),E===null?b.append(N):E.insertBefore(N),p.is(y)&&y.set(v.__key,0,"text"),p.set(v.__key,0,"text")}(s,l,o,i);const a=s.offset;let c=l.offset;const u=this.getNodes(),f=u.length;let d=u[0];S(d)||T(26);const h=d.getTextContent().length,g=d.getParentOrThrow();let _=u[f-1];if(f===1&&l.type==="element"&&(c=h,l.set(s.key,c,"text")),this.isCollapsed()&&a===h&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!g.canInsertTextAfter()&&d.getNextSibling()===null)){let p=d.getNextSibling();if(S(p)&&p.canInsertTextBefore()&&!Ut(p)||(p=U(),p.setFormat(o),p.setStyle(i),g.canInsertTextAfter()?d.insertAfter(p):g.insertAfter(p)),p.select(0,0),d=p,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&a===0&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!g.canInsertTextBefore()&&d.getPreviousSibling()===null)){let p=d.getPreviousSibling();if(S(p)&&!Ut(p)||(p=U(),p.setFormat(o),g.canInsertTextBefore()?d.insertBefore(p):g.insertBefore(p)),p.select(),d=p,t!=="")return void this.insertText(t)}else if(d.isSegmented()&&a!==h){const p=U(d.getTextContent());p.setFormat(o),d.replace(p),d=p}else if(!this.isCollapsed()&&t!==""){const p=_.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||C(p)&&(!p.canInsertTextBefore()||!p.canInsertTextAfter()))return this.insertText(""),Ni(this.anchor,this.focus,null),void this.insertText(t)}if(f===1){if(d.isToken()){const x=U(t);return x.select(),void d.replace(x)}const p=d.getFormat(),y=d.getStyle();if(a!==c||p===o&&y===i){if(rl(d)){const x=U(t);return x.setFormat(o),x.setStyle(i),x.select(),void d.replace(x)}}else{if(d.getTextContent()!==""){const x=U(t);if(x.setFormat(o),x.setStyle(i),x.select(),a===0)d.insertBefore(x,!1);else{const[b]=d.splitText(a);b.insertAfter(x,!1)}return void(x.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}d.setFormat(o),d.setStyle(i)}const m=c-a;d=d.spliceText(a,m,t,!0),d.getTextContent()===""?d.remove():this.anchor.type==="text"&&(d.isComposing()?this.anchor.offset-=t.length:(this.format=p,this.style=y))}else{const p=new Set([...d.getParentKeys(),..._.getParentKeys()]),y=C(d)?d:d.getParentOrThrow();let m=C(_)?_:_.getParentOrThrow(),x=_;if(!y.is(m)&&m.isInline())do x=m,m=m.getParentOrThrow();while(m.isInline());if(l.type==="text"&&(c!==0||_.getTextContent()==="")||l.type==="element"&&_.getIndexWithinParent()<c)if(S(_)&&!_.isToken()&&c!==_.getTextContentSize()){if(_.isSegmented()){const w=U(_.getTextContent());_.replace(w),_=w}Y(l.getNode())||l.type!=="text"||(_=_.spliceText(0,c,"")),p.add(_.__key)}else{const w=_.getParentOrThrow();w.canBeEmpty()||w.getChildrenSize()!==1?_.remove():w.remove()}else p.add(_.__key);const b=m.getChildren(),E=new Set(u),v=y.is(m),N=y.isInline()&&d.getNextSibling()===null?y:d;for(let w=b.length-1;w>=0;w--){const M=b[w];if(M.is(d)||C(M)&&M.isParentOf(d))break;M.isAttached()&&(!E.has(M)||M.is(x)?v||N.insertAfter(M,!1):M.remove())}if(!v){let w=m,M=null;for(;w!==null;){const O=w.getChildren(),B=O.length;(B===0||O[B-1].is(M))&&(p.delete(w.__key),M=w),w=w.getParent()}}if(d.isToken())if(a===h)d.select();else{const w=U(t);w.select(),d.replace(w)}else d=d.spliceText(a,h-a,t,!0),d.getTextContent()===""?d.remove():d.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let w=1;w<f;w++){const M=u[w],O=M.__key;p.has(O)||M.remove()}}}removeText(){this.insertText("")}formatText(t){if(this.isCollapsed())return this.toggleFormat(t),void $(null);const e=this.getNodes(),r=[];for(const m of e)S(m)&&r.push(m);const o=r.length;if(o===0)return this.toggleFormat(t),void $(null);const i=this.anchor,s=this.focus,l=this.isBackward(),a=l?s:i,c=l?i:s;let u=0,f=r[0],d=a.type==="element"?0:a.offset;if(a.type==="text"&&d===f.getTextContentSize()&&(u=1,f=r[1],d=0),f==null)return;const h=f.getFormatFlags(t,null),g=o-1;let _=r[g];const p=c.type==="text"?c.offset:_.getTextContentSize();if(f.is(_)){if(d===p)return;if(Ut(f)||d===0&&p===f.getTextContentSize())f.setFormat(h);else{const m=f.splitText(d,p),x=d===0?m[0]:m[1];x.setFormat(h),a.type==="text"&&a.set(x.__key,0,"text"),c.type==="text"&&c.set(x.__key,p-d,"text")}return void(this.format=h)}d===0||Ut(f)||([,f]=f.splitText(d),d=0),f.setFormat(h);const y=_.getFormatFlags(t,h);p>0&&(p===_.getTextContentSize()||Ut(_)||([_]=_.splitText(p)),_.setFormat(y));for(let m=u+1;m<g;m++){const x=r[m],b=x.getFormatFlags(t,y);x.setFormat(b)}a.type==="text"&&a.set(f.__key,d,"text"),c.type==="text"&&c.set(_.__key,p,"text"),this.format=h|y}insertNodes(t){if(t.length===0)return;if(this.anchor.key==="root"){this.insertParagraph();const g=P();return k(g)||T(134),g.insertNodes(t)}const e=Tn((this.isBackward()?this.focus:this.anchor).getNode(),$t),r=t[t.length-1];if("__language"in e&&C(e)){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const g=Pn(this);e.splice(g,0,t),r.selectEnd()}return}if(!t.some(g=>(C(g)||I(g))&&!g.isInline())){C(e)||T(135);const g=Pn(this);return e.splice(g,0,t),void r.selectEnd()}const o=function(g){const _=nt();let p=null;for(let y=0;y<g.length;y++){const m=g[y],x=Gt(m);if(x||I(m)&&m.isInline()||C(m)&&m.isInline()||S(m)||m.isParentRequired()){if(p===null&&(p=m.createParentElementNode(),_.append(p),x))continue;p!==null&&p.append(m)}else _.append(m),p=null}return _}(t),i=o.getLastDescendant(),s=o.getChildren(),l=g=>"__value"in g&&"__checked"in g,a=!C(e)||!e.isEmpty()?this.insertParagraph():null,c=s[s.length-1];let u=s[0];var f;C(f=u)&&$t(f)&&!f.isEmpty()&&C(e)&&(!e.isEmpty()||l(e))&&(C(e)||T(135),e.append(...u.getChildren()),u=s[1]),u&&function(g,_,p){const y=_.getParentOrThrow().getLastChild();let m=_;const x=[_];for(;m!==y;)m.getNextSibling()||T(140),m=m.getNextSibling(),x.push(m);let b=g;for(const E of x)b=b.insertAfter(E)}(e,u);const d=Tn(i,$t);a&&C(d)&&(l(a)||$t(c))&&(d.append(...a.getChildren()),a.remove()),C(e)&&e.isEmpty()&&e.remove(),i.selectEnd();const h=C(e)?e.getLastChild():null;Gt(h)&&d!==e&&h.remove()}insertParagraph(){if(this.anchor.key==="root"){const s=nt();return J().splice(this.anchor.offset,0,[s]),s.select(),s}const t=Pn(this),e=Tn(this.anchor.getNode(),$t);C(e)||T(136);const r=e.getChildAtIndex(t),o=r?[r,...r.getNextSiblings()]:[],i=e.insertNewAfter(this,!1);return i?(i.append(...o),i.selectStart(),i):null}insertLineBreak(t){const e=ee();if(this.insertNodes([e]),t){const r=e.getParentOrThrow(),o=e.getIndexWithinParent();r.select(o,o)}}extract(){const t=this.getNodes(),e=t.length,r=e-1,o=this.anchor,i=this.focus;let s=t[0],l=t[r];const[a,c]=Yn(this);if(e===0)return[];if(e===1){if(S(s)&&!this.isCollapsed()){const f=a>c?c:a,d=a>c?a:c,h=s.splitText(f,d),g=f===0?h[0]:h[1];return g!=null?[g]:[]}return[s]}const u=o.isBefore(i);if(S(s)){const f=u?a:c;f===s.getTextContentSize()?t.shift():f!==0&&([,s]=s.splitText(f),t[0]=s)}if(S(l)){const f=l.getTextContent().length,d=u?c:a;d===0?t.pop():d!==f&&([l]=l.splitText(d),t[r]=l)}return t}modify(t,e,r){const o=this.focus,i=this.anchor,s=t==="move",l=ke(o,e);if(I(l)&&!l.isIsolated()){if(s&&l.isKeyboardSelectable()){const h=no();return h.add(l.__key),void dt(h)}const d=e?l.getPreviousSibling():l.getNextSibling();if(S(d)){const h=d.__key,g=e?d.getTextContent().length:0;return o.set(h,g,"text"),void(s&&i.set(h,g,"text"))}{const h=l.getParentOrThrow();let g,_;return C(d)?(_=d.__key,g=e?d.getChildrenSize():0):(g=l.getIndexWithinParent(),_=h.__key,e||g++),o.set(_,g,"element"),void(s&&i.set(_,g,"element"))}}const a=V(),c=ft(a._window);if(!c)return;const u=a._blockCursorElement,f=a._rootElement;if(f===null||u===null||!C(l)||l.isInline()||l.canBeEmpty()||Cr(u,a,f),function(d,h,g,_){d.modify(h,g,_)}(c,t,e?"backward":"forward",r),c.rangeCount>0){const d=c.getRangeAt(0),h=this.anchor.getNode(),g=Y(h)?h:Zs(h);if(this.applyDOMRange(d),this.dirty=!0,!s){const _=this.getNodes(),p=[];let y=!1;for(let m=0;m<_.length;m++){const x=_[m];Vn(x,g)?p.push(x):y=!0}if(y&&p.length>0)if(e){const m=p[0];C(m)?m.selectStart():m.getParentOrThrow().selectStart()}else{const m=p[p.length-1];C(m)?m.selectEnd():m.getParentOrThrow().selectEnd()}c.anchorNode===d.startContainer&&c.anchorOffset===d.startOffset||function(m){const x=m.focus,b=m.anchor,E=b.key,v=b.offset,N=b.type;bt(b,x.key,x.offset,x.type),bt(x,E,v,N),m._cachedNodes=null}(this)}}}forwardDeletion(t,e,r){if(!r&&(t.type==="element"&&C(e)&&t.offset===e.getChildrenSize()||t.type==="text"&&t.offset===e.getTextContentSize())){const o=e.getParent(),i=e.getNextSibling()||(o===null?null:o.getNextSibling());if(C(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(t){const e=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let o=r.getNode();if(this.forwardDeletion(r,o,t))return;const i=this.focus,s=ke(i,t);if(I(s)&&!s.isIsolated()){if(s.isKeyboardSelectable()&&C(o)&&o.getChildrenSize()===0){o.remove();const l=no();l.add(s.__key),dt(l)}else s.remove(),V().dispatchCommand(tr,void 0);return}if(!t&&C(s)&&C(o)&&o.isEmpty())return o.remove(),void s.selectStart();if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&r.offset===0&&(r.type==="element"?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const l=i.type==="text"?i.getNode():null;if(o=r.type==="text"?r.getNode():null,l!==null&&l.isSegmented()){const a=i.offset,c=l.getTextContentSize();if(l.is(o)||t&&a!==c||!t&&a!==0)return void Gr(l,t,a)}else if(o!==null&&o.isSegmented()){const a=r.offset,c=o.getTextContentSize();if(o.is(l)||t&&a!==0||!t&&a!==c)return void Gr(o,t,a)}(function(a,c){const u=a.anchor,f=a.focus,d=u.getNode(),h=f.getNode();if(d===h&&u.type==="text"&&f.type==="text"){const g=u.offset,_=f.offset,p=g<_,y=p?g:_,m=p?_:g,x=m-1;y!==x&&(ci(d.getTextContent().slice(y,m))||(c?f.offset=x:u.offset=x))}})(this,t)}}if(this.removeText(),t&&!e&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&Y(r.getParent())&&r.getIndexWithinParent()===0&&r.collapseAtStart(this)}}deleteLine(t){if(this.isCollapsed()){const e=this.anchor.type==="element";if(e&&this.insertText(" "),this.modify("extend",t,"lineboundary"),(t?this.focus:this.anchor).offset===0&&this.modify("extend",t,"character"),e){const r=t?this.anchor:this.focus;r.set(r.key,r.offset+1,r.type)}}this.removeText()}deleteWord(t){if(this.isCollapsed()){const e=this.anchor,r=e.getNode();if(this.forwardDeletion(e,r,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function st(n){return n instanceof mn}function Qr(n){const t=n.offset;if(n.type==="text")return t;const e=n.getNode();return t===e.getChildrenSize()?e.getTextContent().length:0}function Yn(n){const t=n.getStartEndPoints();if(t===null)return[0,0];const[e,r]=t;return e.type==="element"&&r.type==="element"&&e.key===r.key&&e.offset===r.offset?[0,0]:[Qr(e),Qr(r)]}function Gr(n,t,e){const r=n,o=r.getTextContent().split(/(?=\s)/g),i=o.length;let s=0,l=0;for(let c=0;c<i;c++){const u=c===i-1;if(l=s,s+=o[c].length,t&&s===e||s>e||u){o.splice(c,1),u&&(l=void 0);break}}const a=o.join("").trim();a===""?r.remove():(r.setTextContent(a),r.select(l,l))}function to(n,t,e,r){let o,i=t;if(n.nodeType===Ee){let s=!1;const l=n.childNodes,a=l.length,c=r._blockCursorElement;i===a&&(s=!0,i=a-1);let u=l[i],f=!1;if(u===c)u=l[i+1],f=!0;else if(c!==null){const d=c.parentNode;n===d&&t>Array.prototype.indexOf.call(d.children,c)&&i--}if(o=qt(u),S(o))i=Ir(o,s);else{let d=qt(n);if(d===null)return null;if(C(d)){i=Math.min(d.getChildrenSize(),i);let h=d.getChildAtIndex(i);if(C(h)&&function(g,_,p){const y=g.getParent();return p===null||y===null||!y.canBeEmpty()||y!==p.getNode()}(h,0,e)){const g=s?h.getLastDescendant():h.getFirstDescendant();g===null?d=h:(h=g,d=C(h)?h:h.getParentOrThrow()),i=0}S(h)?(o=h,d=null,i=Ir(h,s)):h!==d&&s&&!f&&i++}else{const h=d.getIndexWithinParent();i=t===0&&I(d)&&qt(n)===d?h:h+1,d=d.getParentOrThrow()}if(C(d))return ht(d.__key,i,"element")}}else o=qt(n);return S(o)?ht(o.__key,i,"text"):null}function eo(n,t,e){const r=n.offset,o=n.getNode();if(r===0){const i=o.getPreviousSibling(),s=o.getParent();if(t){if((e||!t)&&i===null&&C(s)&&s.isInline()){const l=s.getPreviousSibling();S(l)&&(n.key=l.__key,n.offset=l.getTextContent().length)}}else C(i)&&!e&&i.isInline()?(n.key=i.__key,n.offset=i.getChildrenSize(),n.type="element"):S(i)&&(n.key=i.__key,n.offset=i.getTextContent().length)}else if(r===o.getTextContent().length){const i=o.getNextSibling(),s=o.getParent();if(t&&C(i)&&i.isInline())n.key=i.__key,n.offset=0,n.type="element";else if((e||t)&&i===null&&C(s)&&s.isInline()&&!s.canInsertTextAfter()){const l=s.getNextSibling();S(l)&&(n.key=l.__key,n.offset=0)}}}function Ni(n,t,e){if(n.type==="text"&&t.type==="text"){const r=n.isBefore(t),o=n.is(t);eo(n,r,o),eo(t,!r,o),o&&(t.key=n.key,t.offset=n.offset,t.type=n.type);const i=V();if(i.isComposing()&&i._compositionKey!==n.key&&k(e)){const s=e.anchor,l=e.focus;bt(n,s.key,s.offset,s.type),bt(t,l.key,l.offset,l.type)}}}function Mi(n,t,e,r,o,i){if(n===null||e===null||!Ne(o,n,e))return null;const s=to(n,t,k(i)?i.anchor:null,o);if(s===null)return null;const l=to(e,r,k(i)?i.focus:null,o);if(l===null)return null;if(s.type==="element"&&l.type==="element"){const a=qt(n),c=qt(e);if(I(a)&&I(c))return null}return Ni(s,l,i),[s,l]}function Qn(n){return C(n)&&!n.isInline()}function Pi(n,t,e,r,o,i){const s=yt(),l=new Mt(ht(n,t,o),ht(e,r,i),0,"");return l.dirty=!0,s._selection=l,l}function il(){const n=ht("root",0,"element"),t=ht("root",0,"element");return new Mt(n,t,0,"")}function no(){return new mn(new Set)}function xr(n,t,e,r){const o=e._window;if(o===null)return null;const i=r||o.event,s=i?i.type:void 0,l=s==="selectionchange",a=!An&&(l||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&i&&i.detail===3||s==="drop"||s===void 0);let c,u,f,d;if(k(n)&&!a)return n.clone();if(t===null)return null;if(c=t.anchorNode,u=t.focusNode,f=t.anchorOffset,d=t.focusOffset,l&&k(n)&&!Ne(e,c,u))return n.clone();const h=Mi(c,f,u,d,e,n);if(h===null)return null;const[g,_]=h;return new Mt(g,_,k(n)?n.format:0,k(n)?n.style:"")}function P(){return yt()._selection}function Fe(){return V()._editorState._selection}function rn(n,t,e,r=1){const o=n.anchor,i=n.focus,s=o.getNode(),l=i.getNode();if(!t.is(s)&&!t.is(l))return;const a=t.__key;if(n.isCollapsed()){const c=o.offset;if(e<=c&&r>0||e<c&&r<0){const u=Math.max(0,c+r);o.set(a,u,"element"),i.set(a,u,"element"),ro(n)}}else{const c=n.isBackward(),u=c?i:o,f=u.getNode(),d=c?o:i,h=d.getNode();if(t.is(f)){const g=u.offset;(e<=g&&r>0||e<g&&r<0)&&u.set(a,Math.max(0,g+r),"element")}if(t.is(h)){const g=d.offset;(e<=g&&r>0||e<g&&r<0)&&d.set(a,Math.max(0,g+r),"element")}}ro(n)}function ro(n){const t=n.anchor,e=t.offset,r=n.focus,o=r.offset,i=t.getNode(),s=r.getNode();if(n.isCollapsed()){if(!C(i))return;const l=i.getChildrenSize(),a=e>=l,c=a?i.getChildAtIndex(l-1):i.getChildAtIndex(e);if(S(c)){let u=0;a&&(u=c.getTextContentSize()),t.set(c.__key,u,"text"),r.set(c.__key,u,"text")}}else{if(C(i)){const l=i.getChildrenSize(),a=e>=l,c=a?i.getChildAtIndex(l-1):i.getChildAtIndex(e);if(S(c)){let u=0;a&&(u=c.getTextContentSize()),t.set(c.__key,u,"text")}}if(C(s)){const l=s.getChildrenSize(),a=o>=l,c=a?s.getChildAtIndex(l-1):s.getChildAtIndex(o);if(S(c)){let u=0;a&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}}function on(n,t,e,r,o){let i=null,s=0,l=null;r!==null?(i=r.__key,S(r)?(s=r.getTextContentSize(),l="text"):C(r)&&(s=r.getChildrenSize(),l="element")):o!==null&&(i=o.__key,S(o)?l="text":C(o)&&(l="element")),i!==null&&l!==null?n.set(i,s,l):(s=t.getIndexWithinParent(),s===-1&&(s=e.getChildrenSize()),n.set(e.__key,s,"element"))}function oo(n,t,e,r,o){n.type==="text"?(n.key=e,t||(n.offset+=o)):n.offset>r.getIndexWithinParent()&&(n.offset-=1)}function sl(n,t,e,r,o,i,s){const l=r.anchorNode,a=r.focusNode,c=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(o.has("collaboration")&&f!==i||f!==null&&hr(f))return;if(!k(t))return void(n!==null&&Ne(e,l,a)&&r.removeAllRanges());const d=t.anchor,h=t.focus,g=d.key,_=h.key,p=Qe(e,g),y=Qe(e,_),m=d.offset,x=h.offset,b=t.format,E=t.style,v=t.isCollapsed();let N=p,w=y,M=!1;if(d.type==="text"){N=Xe(p);const j=d.getNode();M=j.getFormat()!==b||j.getStyle()!==E}else k(n)&&n.anchor.type==="text"&&(M=!0);var O,B,K,H,A;if(h.type==="text"&&(w=Xe(y)),N!==null&&w!==null&&(v&&(n===null||M||k(n)&&(n.format!==b||n.style!==E))&&(O=b,B=E,K=m,H=g,A=performance.now(),wi=[O,B,K,H,A]),c!==m||u!==x||l!==N||a!==w||r.type==="Range"&&v||(f!==null&&i.contains(f)||i.focus({preventScroll:!0}),d.type==="element"))){try{r.setBaseAndExtent(N,m,w,x)}catch{}if(!o.has("skip-scroll-into-view")&&t.isCollapsed()&&i!==null&&i===document.activeElement){const j=t instanceof Mt&&t.anchor.type==="element"?N.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(j!==null){let xt;if(j instanceof Text){const Kt=document.createRange();Kt.selectNode(j),xt=Kt.getBoundingClientRect()}else xt=j.getBoundingClientRect();(function(Kt,ae,Tr){const Sr=Tr.ownerDocument,Lr=Sr.defaultView;if(Lr===null)return;let{top:yn,bottom:xn}=ae,Ae=0,Be=0,vt=Tr;for(;vt!==null;){const vn=vt===Sr.body;if(vn)Ae=0,Be=hn(Kt).innerHeight;else{const Ve=vt.getBoundingClientRect();Ae=Ve.top,Be=Ve.bottom}let ce=0;if(yn<Ae?ce=-(Ae-yn):xn>Be&&(ce=xn-Be),ce!==0)if(vn)Lr.scrollBy(0,ce);else{const Ve=vt.scrollTop;vt.scrollTop+=ce;const Er=vt.scrollTop-Ve;yn-=Er,xn-=Er}if(vn)break;vt=fn(vt)}})(e,xt,i)}}Jn=!0}}function Hi(n){let t=P()||Fe();t===null&&(t=J().selectEnd()),t.insertNodes(n)}function Pn(n){let t=n;n.isCollapsed()||t.removeText();const e=P();k(e)&&(t=e),k(t)||T(161);const r=t.anchor;let o=r.getNode(),i=r.offset;for(;!$t(o);)[o,i]=ll(o,i);return i}function ll(n,t){const e=n.getParent();if(!e){const o=nt();return J().append(o),o.select(),[J(),0]}if(S(n)){const o=n.splitText(t);if(o.length===0)return[e,n.getIndexWithinParent()];const i=t===0?0:1;return[e,o[0].getIndexWithinParent()+i]}if(!C(n)||t===0)return[e,n.getIndexWithinParent()];const r=n.getChildAtIndex(t);if(r){const o=new Mt(ht(n.__key,t,"element"),ht(n.__key,t,"element"),0,""),i=n.insertNewAfter(o);i&&i.append(r,...r.getNextSiblings())}return[e,n.getIndexWithinParent()+1]}let R=null,Z=null,tt=!1,Hn=!1,Ke=0;const io={characterData:!0,childList:!0,subtree:!0};function De(){return tt||R!==null&&R._readOnly}function G(){tt&&T(13)}function Oi(){Ke>99&&T(14)}function yt(){return R===null&&T(15),R}function V(){return Z===null&&T(16),Z}function al(){return Z}function so(n,t,e){const r=t.__type,o=function(l,a){const c=l._nodes.get(a);return c===void 0&&T(30,a),c}(n,r);let i=e.get(r);i===void 0&&(i=Array.from(o.transforms),e.set(r,i));const s=i.length;for(let l=0;l<s&&(i[l](t),t.isAttached());l++);}function lo(n,t){return n!==void 0&&n.__key!==t&&n.isAttached()}function cl(n){return vr(n,V()._nodes)}function vr(n,t){const e=n.type,r=t.get(e);r===void 0&&T(17,e);const o=r.klass;n.type!==o.getType()&&T(18,o.name);const i=o.importJSON(n),s=n.children;if(C(i)&&Array.isArray(s))for(let l=0;l<s.length;l++){const a=vr(s[l],t);i.append(a)}return i}function ao(n,t){const e=R,r=tt,o=Z;R=n,tt=!0,Z=null;try{return t()}finally{R=e,tt=r,Z=o}}function It(n,t){const e=n._pendingEditorState,r=n._rootElement,o=n._headless||r===null;if(e===null)return;const i=n._editorState,s=i._selection,l=e._selection,a=n._dirtyType!==At,c=R,u=tt,f=Z,d=n._updating,h=n._observer;let g=null;if(n._pendingEditorState=null,n._editorState=e,!o&&a&&h!==null){Z=n,R=e,tt=!1,n._updating=!0;try{const v=n._dirtyType,N=n._dirtyElements,w=n._dirtyLeaves;h.disconnect(),g=qs(i,e,n,v,N,w)}catch(v){if(v instanceof Error&&n._onError(v),Hn)throw v;return Ai(n,null,r,e),ni(n),n._dirtyType=te,Hn=!0,It(n,i),void(Hn=!1)}finally{h.observe(r,io),n._updating=d,R=c,tt=u,Z=f}}e._readOnly||(e._readOnly=!0);const _=n._dirtyLeaves,p=n._dirtyElements,y=n._normalizedNodes,m=n._updateTags,x=n._deferred;a&&(n._dirtyType=At,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),function(v,N){const w=v._decorators;let M=v._pendingDecorators||w;const O=N._nodeMap;let B;for(B in M)O.has(B)||(M===w&&(M=li(v)),delete M[B])}(n,e);const b=o?null:ft(n._window);if(n._editable&&b!==null&&(a||l===null||l.dirty)){Z=n,R=e;try{if(h!==null&&h.disconnect(),a||l===null||l.dirty){const v=n._blockCursorElement;v!==null&&Cr(v,n,r),sl(s,l,n,b,m,r)}Ks(n,r,l),h!==null&&h.observe(r,io)}finally{Z=f,R=c}}g!==null&&function(v,N,w,M,O){const B=Array.from(v._listeners.mutation),K=B.length;for(let H=0;H<K;H++){const[A,j]=B[H],xt=N.get(j);xt!==void 0&&A(xt,{dirtyLeaves:M,prevEditorState:O,updateTags:w})}}(n,g,m,_,i),k(l)||l===null||s!==null&&s.is(l)||n.dispatchCommand(tr,void 0);const E=n._pendingDecorators;E!==null&&(n._decorators=E,n._pendingDecorators=null,ye("decorator",n,!0,E)),function(v,N,w){const M=Dr(N),O=Dr(w);M!==O&&ye("textcontent",v,!0,O)}(n,t||i,e),ye("update",n,!0,{dirtyElements:p,dirtyLeaves:_,editorState:e,normalizedNodes:y,prevEditorState:t||i,tags:m}),function(v,N){if(v._deferred=[],N.length!==0){const w=v._updating;v._updating=!0;try{for(let M=0;M<N.length;M++)N[M]()}finally{v._updating=w}}}(n,x),function(v){const N=v._updates;if(N.length!==0){const w=N.shift();if(w){const[M,O]=w;Di(v,M,O)}}}(n)}function ye(n,t,e,...r){const o=t._updating;t._updating=e;try{const i=Array.from(t._listeners[n]);for(let s=0;s<i.length;s++)i[s].apply(null,r)}finally{t._updating=o}}function Fi(n,t,e){if(n._updating===!1||Z!==n){let o=!1;return n.update(()=>{o=Fi(n,t,e)}),o}const r=gr(n);for(let o=4;o>=0;o--)for(let i=0;i<r.length;i++){const s=r[i]._commands.get(t);if(s!==void 0){const l=s[o];if(l!==void 0){const a=Array.from(l),c=a.length;for(let u=0;u<c;u++)if(a[u](e,n)===!0)return!0}}}return!1}function co(n,t){const e=n._updates;let r=t||!1;for(;e.length!==0;){const o=e.shift();if(o){const[i,s]=o;let l,a;s!==void 0&&(l=s.onUpdate,a=s.tag,s.skipTransforms&&(r=!0),l&&n._deferred.push(l),a&&n._updateTags.add(a)),i()}}return r}function Di(n,t,e){const r=n._updateTags;let o,i,s=!1,l=!1;e!==void 0&&(o=e.onUpdate,i=e.tag,i!=null&&r.add(i),s=e.skipTransforms||!1,l=e.discrete||!1),o&&n._deferred.push(o);const a=n._editorState;let c=n._pendingEditorState,u=!1;(c===null||c._readOnly)&&(c=n._pendingEditorState=new Cn(new Map((c||a)._nodeMap)),u=!0),c._flushSync=l;const f=R,d=tt,h=Z,g=n._updating;R=c,tt=!1,n._updating=!0,Z=n;try{u&&(n._headless?a._selection!==null&&(c._selection=a._selection.clone()):c._selection=function(y){const m=y.getEditorState()._selection,x=ft(y._window);return k(m)||m==null?xr(m,x,y,null):m.clone()}(n));const _=n._compositionKey;t(),s=co(n,s),function(y,m){const x=m.getEditorState()._selection,b=y._selection;if(k(b)){const E=b.anchor,v=b.focus;let N;if(E.type==="text"&&(N=E.getNode(),N.selectionTransform(x,b)),v.type==="text"){const w=v.getNode();N!==w&&w.selectionTransform(x,b)}}}(c,n),n._dirtyType!==At&&(s?function(y,m){const x=m._dirtyLeaves,b=y._nodeMap;for(const E of x){const v=b.get(E);S(v)&&v.isAttached()&&v.isSimpleText()&&!v.isUnmergeable()&&Or(v)}}(c,n):function(y,m){const x=m._dirtyLeaves,b=m._dirtyElements,E=y._nodeMap,v=Tt(),N=new Map;let w=x,M=w.size,O=b,B=O.size;for(;M>0||B>0;){if(M>0){m._dirtyLeaves=new Set;for(const K of w){const H=E.get(K);S(H)&&H.isAttached()&&H.isSimpleText()&&!H.isUnmergeable()&&Or(H),H!==void 0&&lo(H,v)&&so(m,H,N),x.add(K)}if(w=m._dirtyLeaves,M=w.size,M>0){Ke++;continue}}m._dirtyLeaves=new Set,m._dirtyElements=new Map;for(const K of O){const H=K[0],A=K[1];if(H!=="root"&&!A)continue;const j=E.get(H);j!==void 0&&lo(j,v)&&so(m,j,N),b.set(H,A)}w=m._dirtyLeaves,M=w.size,O=m._dirtyElements,B=O.size,Ke++}m._dirtyLeaves=x,m._dirtyElements=b}(c,n),co(n),function(y,m,x,b){const E=y._nodeMap,v=m._nodeMap,N=[];for(const[w]of b){const M=v.get(w);M!==void 0&&(M.isAttached()||(C(M)&&hi(M,w,E,v,N,b),E.has(w)||b.delete(w),N.push(w)))}for(const w of N)v.delete(w);for(const w of x){const M=v.get(w);M===void 0||M.isAttached()||(E.has(w)||x.delete(w),v.delete(w))}}(a,c,n._dirtyLeaves,n._dirtyElements)),_!==n._compositionKey&&(c._flushSync=!0);const p=c._selection;if(k(p)){const y=c._nodeMap,m=p.anchor.key,x=p.focus.key;y.get(m)!==void 0&&y.get(x)!==void 0||T(19)}else st(p)&&p._nodes.size===0&&(c._selection=null)}catch(_){return _ instanceof Error&&n._onError(_),n._pendingEditorState=a,n._dirtyType=te,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void It(n)}finally{R=f,tt=d,Z=h,n._updating=g,Ke=0}n._dirtyType!==At||function(_,p){const y=p.getEditorState()._selection,m=_._selection;if(m!==null){if(m.dirty||!m.is(y))return!0}else if(y!==null)return!0;return!1}(c,n)?c._flushSync?(c._flushSync=!1,It(n)):u&&Bs(()=>{It(n)}):(c._flushSync=!1,u&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function et(n,t,e){n._updating?n._updates.push([t,e]):Di(n,t,e)}class oe extends _n{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return Ns[t]||""}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let e=this.getFirstChild();for(;e!==null;)t.push(e),e=e.getNextSibling();return t}getChildrenKeys(){const t=[];let e=this.getFirstChild();for(;e!==null;)t.push(e.__key),e=e.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=V()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return e!==null&&e.is(t)}getAllTextNodes(){const t=[];let e=this.getFirstChild();for(;e!==null;){if(S(e)&&t.push(e),C(e)){const r=e.getAllTextNodes();t.push(...r)}e=e.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;C(t);){const e=t.getFirstChild();if(e===null)break;t=e}return t}getLastDescendant(){let t=this.getLastChild();for(;C(t);){const e=t.getLastChild();if(e===null)break;t=e}return t}getDescendantByIndex(t){const e=this.getChildren(),r=e.length;if(t>=r){const i=e[r-1];return C(i)&&i.getLastDescendant()||i||null}const o=e[t];return C(o)&&o.getFirstDescendant()||o||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:q(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&T(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:q(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&T(96,this.__key),t}getChildAtIndex(t){const e=this.getChildrenSize();let r,o;if(t<e/2){for(r=this.getFirstChild(),o=0;r!==null&&o<=t;){if(o===t)return r;r=r.getNextSibling(),o++}return null}for(r=this.getLastChild(),o=e-1;r!==null&&o>=t;){if(o===t)return r;r=r.getPreviousSibling(),o--}return null}getTextContent(){let t="";const e=this.getChildren(),r=e.length;for(let o=0;o<r;o++){const i=e[o];t+=i.getTextContent(),C(i)&&o!==r-1&&!i.isInline()&&(t+=mt)}return t}getTextContentSize(){let t=0;const e=this.getChildren(),r=e.length;for(let o=0;o<r;o++){const i=e[o];t+=i.getTextContentSize(),C(i)&&o!==r-1&&!i.isInline()&&(t+=mt.length)}return t}getDirection(){return this.getLatest().__dir}hasFormat(t){if(t!==""){const e=Mr[t];return!!(this.getFormat()&e)}return!1}select(t,e){G();const r=P();let o=t,i=e;const s=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&e===0){const a=this.getFirstChild();if(S(a)||C(a))return a.select(0,0)}else if(!(t!==void 0&&t!==s||e!==void 0&&e!==s)){const a=this.getLastChild();if(S(a)||C(a))return a.select()}}o===void 0&&(o=s),i===void 0&&(i=s);const l=this.__key;return k(r)?(r.anchor.set(l,o,"element"),r.focus.set(l,i,"element"),r.dirty=!0,r):Pi(l,o,l,i,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(e=>e.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const e=this.getWritable();return e.__dir=t,e}setFormat(t){return this.getWritable().__format=t!==""?Mr[t]:0,this}setIndent(t){return this.getWritable().__indent=t,this}splice(t,e,r){const o=r.length,i=this.getChildrenSize(),s=this.getWritable(),l=s.__key,a=[],c=[],u=this.getChildAtIndex(t+e);let f=null,d=i-e+o;if(t!==0)if(t===i)f=this.getLastChild();else{const g=this.getChildAtIndex(t);g!==null&&(f=g.getPreviousSibling())}if(e>0){let g=f===null?this.getFirstChild():f.getNextSibling();for(let _=0;_<e;_++){g===null&&T(100);const p=g.getNextSibling(),y=g.__key;Dt(g.getWritable()),c.push(y),g=p}}let h=f;for(let g=0;g<o;g++){const _=r[g];h!==null&&_.is(h)&&(f=h=h.getPreviousSibling());const p=_.getWritable();p.__parent===l&&d--,Dt(p);const y=_.__key;if(h===null)s.__first=y,p.__prev=null;else{const m=h.getWritable();m.__next=y,p.__prev=m.__key}_.__key===l&&T(76),p.__parent=l,a.push(y),h=_}if(t+e===i)h!==null&&(h.getWritable().__next=null,s.__last=h.__key);else if(u!==null){const g=u.getWritable();if(h!==null){const _=h.getWritable();g.__prev=h.__key,_.__next=u.__key}else g.__prev=null}if(s.__size=d,c.length){const g=P();if(k(g)){const _=new Set(c),p=new Set(a),{anchor:y,focus:m}=g;uo(y,_,p)&&on(y,y.getNode(),this,f,u),uo(m,_,p)&&on(m,m.getNode(),this,f,u),d!==0||this.canBeEmpty()||Ct(this)||this.remove()}}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(t,e){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,e,r){return!1}}function C(n){return n instanceof oe}function uo(n,t,e){let r=n.getNode();for(;r;){const o=r.__key;if(t.has(o)&&!e.has(o))return!0;r=r.getParent()}return!1}class ul extends _n{constructor(t){super(t)}decorate(t,e){T(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function I(n){return n instanceof ul}class Ie extends oe{static getType(){return"root"}static clone(){return new Ie}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){T(51)}getTextContent(){const t=this.__cachedText;return!De()&&V()._dirtyType!==At||t===null?super.getTextContent():t}remove(){T(52)}replace(t){T(53)}insertBefore(t){T(54)}insertAfter(t){T(55)}updateDOM(t,e){return!1}append(...t){for(let e=0;e<t.length;e++){const r=t[e];C(r)||I(r)||T(56)}return super.append(...t)}static importJSON(t){const e=J();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Y(n){return n instanceof Ie}function wr(){return new Cn(new Map([["root",new Ie]]))}function Ii(n){const t=n.exportJSON(),e=n.constructor;if(t.type!==e.getType()&&T(130,e.name),C(n)){const r=t.children;Array.isArray(r)||T(59,e.name);const o=n.getChildren();for(let i=0;i<o.length;i++){const s=Ii(o[i]);r.push(s)}}return t}class Cn{constructor(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t){return ao(this,t)}clone(t){const e=new Cn(this._nodeMap,t===void 0?this._selection:t);return e._readOnly=!0,e}toJSON(){return ao(this,()=>({root:Ii(J())}))}}class kr extends oe{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class ie extends oe{constructor(t){super(t),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(t){const e=this.getWritable();return e.__textFormat=t,e}hasTextFormat(t){const e=Bt[t];return!!(this.getTextFormat()&e)}static clone(t){return new ie(t.__key)}createDOM(t){const e=document.createElement("p"),r=_e(t.theme,"paragraph");return r!==void 0&&e.classList.add(...r),e}updateDOM(t,e,r){return!1}static importDOM(){return{p:t=>({conversion:dl,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&Me(e)){this.isEmpty()&&e.append(document.createElement("br"));const r=this.getFormatType();e.style.textAlign=r;const o=this.getDirection();o&&(e.dir=o);const i=this.getIndent();i>0&&(e.style.textIndent=20*i+"px")}return{element:e}}static importJSON(t){const e=nt();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e.setTextFormat(t.textFormat),e}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(t,e){const r=nt();r.setTextFormat(t.format);const o=this.getDirection();return r.setDirection(o),r.setFormat(this.getFormatType()),this.insertAfter(r,e),r}collapseAtStart(){const t=this.getChildren();if(t.length===0||S(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function dl(n){const t=nt();if(n.style){t.setFormat(n.style.textAlign);const e=parseInt(n.style.textIndent,10)/20;e>0&&t.setIndent(e)}return{node:t}}function nt(){return re(new ie)}function ne(n){return n instanceof ie}const D=0,he=1,fl=4;function Ai(n,t,e,r){const o=n._keyToDOMMap;o.clear(),n._editorState=wr(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=At,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const i=n._observer;i!==null&&(i.disconnect(),n._observer=null),t!==null&&(t.textContent=""),e!==null&&(e.textContent="",o.set("root",e))}function hl(n){const t=n,e=al(),r=t.theme||{},o=n===void 0?e:t.parentEditor||null,i=t.disableEvents||!1,s=wr(),l=t.namespace||(o!==null?o._config.namespace:ui()),a=t.editorState,c=[Ie,Zt,Pe,He,ie,kr,...t.nodes||[]],{onError:u,html:f}=t,d=t.editable===void 0||t.editable;let h;if(n===void 0&&e!==null)h=e._nodes;else{h=new Map;for(let _=0;_<c.length;_++){let p=c[_],y=null,m=null;if(typeof p!="function"){const v=p;p=v.replace,y=v.with,m=v.withKlass||null}const x=p.getType(),b=p.transform(),E=new Set;b!==null&&E.add(b),h.set(x,{exportDOM:f&&f.export?f.export.get(p):void 0,klass:p,replace:y,replaceWithKlass:m,transforms:E})}}const g=new gl(s,o,h,{disableEvents:i,namespace:l,theme:r},u||console.error,function(_,p){const y=new Map,m=new Set,x=b=>{Object.keys(b).forEach(E=>{let v=y.get(E);v===void 0&&(v=[],y.set(E,v)),v.push(b[E])})};return _.forEach(b=>{const E=b.klass.importDOM;if(E==null||m.has(E))return;m.add(E);const v=E.call(b.klass);v!==null&&x(v)}),p&&x(p),y}(h,f?f.import:void 0),d);return a!==void 0&&(g._pendingEditorState=a,g._dirtyType=te),g}class gl{constructor(t,e,r,o,i,s,l){this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=At,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=ui(),this._onError=i,this._htmlConversions=s,this._editable=l,this._headless=e!==null&&e._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){const e=this._listeners.update;return e.add(t),()=>{e.delete(t)}}registerEditableListener(t){const e=this._listeners.editable;return e.add(t),()=>{e.delete(t)}}registerDecoratorListener(t){const e=this._listeners.decorator;return e.add(t),()=>{e.delete(t)}}registerTextContentListener(t){const e=this._listeners.textcontent;return e.add(t),()=>{e.delete(t)}}registerRootListener(t){const e=this._listeners.root;return t(this._rootElement,null),e.add(t),()=>{t(null,this._rootElement),e.delete(t)}}registerCommand(t,e,r){r===void 0&&T(35);const o=this._commands;o.has(t)||o.set(t,[new Set,new Set,new Set,new Set,new Set]);const i=o.get(t);i===void 0&&T(36,String(t));const s=i[r];return s.add(e),()=>{s.delete(e),i.every(l=>l.size===0)&&o.delete(t)}}registerMutationListener(t,e){let r=this._nodes.get(t.getType());r===void 0&&T(37,t.name);let o=t,i=null;for(;i=r.replaceWithKlass;)o=i,r=this._nodes.get(i.getType()),r===void 0&&T(37,i.name);const s=this._listeners.mutation;return s.set(e,o),()=>{s.delete(e)}}registerNodeTransformToKlass(t,e){const r=t.getType(),o=this._nodes.get(r);return o===void 0&&T(37,t.name),o.transforms.add(e),o}registerNodeTransform(t,e){const r=this.registerNodeTransformToKlass(t,e),o=[r],i=r.replaceWithKlass;if(i!=null){const a=this.registerNodeTransformToKlass(i,e);o.push(a)}var s,l;return s=this,l=t.getType(),et(s,()=>{const a=yt();if(a.isEmpty())return;if(l==="root")return void J().markDirty();const c=a._nodeMap;for(const[,u]of c)u.markDirty()},s._pendingEditorState===null?{tag:"history-merge"}:void 0),()=>{o.forEach(a=>a.transforms.delete(e))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,e){return L(this,t,e)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const e=this._rootElement;if(t!==e){const r=_e(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=t,Ai(this,e,t,o),e!==null&&(this._config.disableEvents||Xs(e),r!=null&&e.classList.remove(...r)),t!==null){const i=function(l){const a=l.ownerDocument;return a&&a.defaultView||null}(t),s=t.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=te,ni(this),this._updateTags.add("history-merge"),It(this),this._config.disableEvents||function(l,a){const c=l.ownerDocument,u=nn.get(c);(u===void 0||u<1)&&c.addEventListener("selectionchange",Si),nn.set(c,(u||0)+1),l.__lexicalEditor=a;const f=Ti(l);for(let d=0;d<$n.length;d++){const[h,g]=$n[d],_=typeof g=="function"?p=>{Ur(p)||(jr(p),(a.isEditable()||h==="click")&&g(p,a))}:p=>{if(Ur(p))return;jr(p);const y=a.isEditable();switch(h){case"cut":return y&&L(a,nr,p);case"copy":return L(a,an,p);case"paste":return y&&L(a,er,p);case"dragstart":return y&&L(a,Jo,p);case"dragover":return y&&L(a,qo,p);case"dragend":return y&&L(a,gs,p);case"focus":return y&&L(a,ps,p);case"blur":return y&&L(a,_s,p);case"drop":return y&&L(a,$o,p)}};l.addEventListener(h,_),f.push(()=>{l.removeEventListener(h,_)})}}(t,this),r!=null&&t.classList.add(...r)}else this._editorState=o,this._pendingEditorState=null,this._window=null;ye("root",this,!1,t,e)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,e){t.isEmpty()&&T(38),ei(this);const r=this._pendingEditorState,o=this._updateTags,i=e!==void 0?e.tag:null;r===null||r.isEmpty()||(i!=null&&o.add(i),It(this)),this._pendingEditorState=t,this._dirtyType=te,this._dirtyElements.set("root",!1),this._compositionKey=null,i!=null&&o.add(i),It(this)}parseEditorState(t,e){return function(r,o,i){const s=wr(),l=R,a=tt,c=Z,u=o._dirtyElements,f=o._dirtyLeaves,d=o._cloneNotNeeded,h=o._dirtyType;o._dirtyElements=new Map,o._dirtyLeaves=new Set,o._cloneNotNeeded=new Set,o._dirtyType=0,R=s,tt=!1,Z=o;try{const g=o._nodes;vr(r.root,g),i&&i(),s._readOnly=!0}catch(g){g instanceof Error&&o._onError(g)}finally{o._dirtyElements=u,o._dirtyLeaves=f,o._cloneNotNeeded=d,o._dirtyType=h,R=l,tt=a,Z=c}return s}(typeof t=="string"?JSON.parse(t):t,this,e)}update(t,e){et(this,t,e)}focus(t,e={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),et(this,()=>{const o=P(),i=J();o!==null?o.dirty=!0:i.getChildrenSize()!==0&&(e.defaultSelection==="rootStart"?i.selectStart():i.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),t&&t()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;t!==null&&t.blur();const e=ft(this._window);e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,ye("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}function pl(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}pl(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const _l=new Map;function ml(n){const t={},e=n.split(";");for(const r of e)if(r!==""){const[o,i]=r.split(/:([^]+)/);o&&i&&(t[o.trim()]=i.trim())}return t}function Bi(n){const t=n.constructor.clone(n);return t.__parent=n.__parent,t.__next=n.__next,t.__prev=n.__prev,C(n)&&C(t)?(r=n,(e=t).__first=r.__first,e.__last=r.__last,e.__size=r.__size,e.__format=r.__format,e.__indent=r.__indent,e.__dir=r.__dir,e):S(n)&&S(t)?function(o,i){return o.__format=i.__format,o.__style=i.__style,o.__mode=i.__mode,o.__detail=i.__detail,o}(t,n):ne(n)&&ne(t)?function(o,i){return o.__textFormat=i.__textFormat,o}(t,n):t;var e,r}function Vi(n,t){const e=n.getStartEndPoints();if(t.isSelected(n)&&!t.isSegmented()&&!t.isToken()&&e!==null){const[r,o]=e,i=n.isBackward(),s=r.getNode(),l=o.getNode(),a=t.is(s),c=t.is(l);if(a||c){const[u,f]=Yn(n),d=s.is(l),h=t.is(i?l:s),g=t.is(i?s:l);let _,p=0;return d?(p=u>f?f:u,_=u>f?u:f):h?(p=i?f:u,_=void 0):g&&(p=0,_=i?u:f),t.__text=t.__text.slice(p,_),t}}return t}function Cl(n){const t=n.getStyle(),e=ml(t);_l.set(t,e)}function fo(n,t){const e=ke(n.focus,t);return I(e)&&!e.isIsolated()||C(e)&&!e.isInline()&&!e.canBeEmpty()}function yl(n,t,e,r){n.modify(t?"extend":"move",e,r)}function xl(n){const t=n.anchor.getNode();return(Y(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function ho(n,t,e){const r=xl(n);yl(n,t,e?!r:r,"character")}function vl(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wl=vl(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const Wi=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,kl=Wi&&"documentMode"in document?document.documentMode:null;!(!Wi||!("InputEvent"in window)||kl)&&"getTargetRanges"in new window.InputEvent("input");function zi(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[r]of e.matchAll(/\S+/g))t.push(r);return t}function bl(...n){return()=>{for(let t=n.length-1;t>=0;t--)n[t]();n.length=0}}function Ri(n,...t){const e=zi(...t);e.length>0&&n.classList.add(...e)}function Zi(n,...t){const e=zi(...t);e.length>0&&n.classList.remove(...e)}function Gn(n,t){let e=n;for(;e!=null;){if(e instanceof t)return e;e=e.getParent()}return null}function Ki(n){const t=Se(n,e=>C(e)&&!e.isInline());return C(t)||wl(4,n.__key),t}const Se=(n,t)=>{let e=n;for(;e!==J()&&e!=null;){if(t(e))return e;e=e.getParent()}return null};function Ot(n,t){return n!==null&&Object.getPrototypeOf(n).constructor.name===t.name}function ji(n,t){const e=t.body?t.body.childNodes:[];let r=[];const o=[];for(let i=0;i<e.length;i++){const s=e[i];if(!Ji.has(s.nodeName)){const l=qi(s,n,o,!1);l!==null&&(r=r.concat(l))}}return function(i){for(const s of i)s.getNextSibling()instanceof kr&&s.insertAfter(ee());for(const s of i){const l=s.getChildren();for(const a of l)s.insertBefore(a);s.remove()}}(o),r}function Ui(n,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const e=document.createElement("div"),r=J().getChildren();for(let o=0;o<r.length;o++)$i(n,r[o],e,t);return e.innerHTML}function $i(n,t,e,r=null){let o=r===null||t.isSelected(r);const i=C(t)&&t.excludeFromCopy("html");let s=t;if(r!==null){let h=Bi(t);h=S(h)&&r!==null?Vi(r,h):h,s=h}const l=C(s)?s.getChildren():[],a=n._nodes.get(s.getType());let c;c=a&&a.exportDOM!==void 0?a.exportDOM(n,s):s.exportDOM(n);const{element:u,after:f}=c;if(!u)return!1;const d=document.createDocumentFragment();for(let h=0;h<l.length;h++){const g=l[h],_=$i(n,g,d,r);!o&&C(t)&&_&&t.extractWithChild(g,r,"html")&&(o=!0)}if(o&&!i){if(Me(u)&&u.append(d),e.append(u),f){const h=f.call(s,u);h&&u.replaceWith(h)}}else e.append(d);return o}const Ji=new Set(["STYLE","SCRIPT"]);function qi(n,t,e,r,o=new Map,i){let s=[];if(Ji.has(n.nodeName))return s;let l=null;const a=function(g,_){const{nodeName:p}=g,y=_._htmlConversions.get(p.toLowerCase());let m=null;if(y!==void 0)for(const x of y){const b=x(g);b!==null&&(m===null||(m.priority||0)<(b.priority||0))&&(m=b)}return m!==null?m.conversion:null}(n,t),c=a?a(n):null;let u=null;if(c!==null){u=c.after;const g=c.node;if(l=Array.isArray(g)?g[g.length-1]:g,l!==null){for(const[,_]of o)if(l=_(l,i),!l)break;l&&s.push(...Array.isArray(g)?g:[l])}c.forChild!=null&&o.set(n.nodeName,c.forChild)}const f=n.childNodes;let d=[];const h=(l==null||!Ct(l))&&(l!=null&&Qn(l)||r);for(let g=0;g<f.length;g++)d.push(...qi(f[g],t,e,h,new Map(o),l));return u!=null&&(d=u(d)),Us(n)&&(d=Tl(n,d,h?()=>{const g=new kr;return e.push(g),g}:nt)),l==null?s=s.concat(d):C(l)&&l.append(...d),s}function Tl(n,t,e){const r=n.style.textAlign,o=[];let i=[];for(let s=0;s<t.length;s++){const l=t[s];if(Qn(l))r&&!l.getFormat()&&l.setFormat(r),o.push(l);else if(i.push(l),s===t.length-1||s<t.length-1&&Qn(t[s+1])){const a=e();a.setFormat(r),a.append(...i),o.push(a),i=[]}}return o}function Sl(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var St=Sl(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function Ll(n){let t=1,e=n.getParent();for(;e!=null;){if(W(e)){const r=e.getParent();if(F(r)){t++,e=r.getParent();continue}St(40)}return t}return t}function go(n){let t=n.getParent();F(t)||St(40);let e=t;for(;e!==null;)e=e.getParent(),F(e)&&(t=e);return t}function Xi(n){let t=[];const e=n.getChildren().filter(W);for(let r=0;r<e.length;r++){const o=e[r],i=o.getFirstChild();F(i)?t=t.concat(Xi(i)):t.push(o)}return t}function ut(n){return W(n)&&F(n.getFirstChild())}function po(n){return at().append(n)}function Yi(n,t){return W(n)&&(t.length===0||t.length===1&&n.is(t[0])&&n.getChildrenSize()===0)}function On(n,t){n.update(()=>{const e=P();if(e!==null){const r=e.getNodes();if(k(e)){const i=e.getStartEndPoints();i===null&&St(143);const[s]=i,l=s.getNode(),a=l.getParent();if(Yi(l,r)){const c=rt(t);if(Ct(a)){l.replace(c);const u=at();C(l)&&(u.setFormat(l.getFormatType()),u.setIndent(l.getIndent())),c.append(u)}else if(W(l)){const u=l.getParentOrThrow();zt(c,u.getChildren()),u.replace(c)}return}}const o=new Set;for(let i=0;i<r.length;i++){const s=r[i];if(!C(s)||!s.isEmpty()||W(s)||o.has(s.getKey())){if(ii(s)){let l=s.getParent();for(;l!=null;){const a=l.getKey();if(F(l)){if(!o.has(a)){const c=rt(t);zt(c,l.getChildren()),l.replace(c),o.add(a)}break}{const c=l.getParent();if(Ct(c)&&!o.has(a)){o.add(a),_o(l,t);break}l=c}}}}else _o(s,t)}}})}function zt(n,t){n.splice(n.getChildrenSize(),0,t)}function _o(n,t){if(F(n))return n;const e=n.getPreviousSibling(),r=n.getNextSibling(),o=at();if(o.setFormat(n.getFormatType()),o.setIndent(n.getIndent()),zt(o,n.getChildren()),F(e)&&t===e.getListType())return e.append(o),n.remove(),F(r)&&t===r.getListType()&&(zt(e,r.getChildren()),r.remove()),e;if(F(r)&&t===r.getListType())return r.getFirstChildOrThrow().insertBefore(o),n.remove(),r;{const i=rt(t);return i.append(o),n.replace(i),i}}function br(n,t){const e=n.getLastChild(),r=t.getFirstChild();e&&r&&ut(e)&&ut(r)&&(br(e.getFirstChild(),r.getFirstChild()),r.remove());const o=t.getChildren();o.length>0&&n.append(...o),t.remove()}function El(n){n.update(()=>{const t=P();if(k(t)){const e=new Set,r=t.getNodes(),o=t.anchor.getNode();if(Yi(o,r))e.add(go(o));else for(let i=0;i<r.length;i++){const s=r[i];if(ii(s)){const l=Gn(s,se);l!=null&&e.add(go(l))}}for(const i of e){let s=i;const l=Xi(i);for(const a of l){const c=nt();zt(c,a.getChildren()),s.insertAfter(c),s=c,a.__key===t.anchor.key&&t.anchor.set(c.getKey(),0,"element"),a.__key===t.focus.key&&t.focus.set(c.getKey(),0,"element"),a.remove()}i.remove()}}})}function Nl(n){const t=new Set;if(ut(n)||t.has(n.getKey()))return;const e=n.getParent(),r=n.getNextSibling(),o=n.getPreviousSibling();if(ut(r)&&ut(o)){const i=o.getFirstChild();if(F(i)){i.append(n);const s=r.getFirstChild();F(s)&&(zt(i,s.getChildren()),r.remove(),t.add(r.getKey()))}}else if(ut(r)){const i=r.getFirstChild();if(F(i)){const s=i.getFirstChild();s!==null&&s.insertBefore(n)}}else if(ut(o)){const i=o.getFirstChild();F(i)&&i.append(n)}else if(F(e)){const i=at(),s=rt(e.getListType());i.append(s),s.append(n),o?o.insertAfter(i):r?r.insertBefore(i):e.append(i)}}function Ml(n){if(ut(n))return;const t=n.getParent(),e=t?t.getParent():void 0;if(F(e?e.getParent():void 0)&&W(e)&&F(t)){const r=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(n.is(r))e.insertBefore(n),t.isEmpty()&&e.remove();else if(n.is(o))e.insertAfter(n),t.isEmpty()&&e.remove();else{const i=t.getListType(),s=at(),l=rt(i);s.append(l),n.getPreviousSiblings().forEach(u=>l.append(u));const a=at(),c=rt(i);a.append(c),zt(c,n.getNextSiblings()),e.insertBefore(s),e.insertAfter(a),e.replace(n)}}}function sn(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[r]of e.matchAll(/\S+/g))t.push(r);return t}class se extends oe{static getType(){return"listitem"}static clone(t){return new se(t.__value,t.__checked,t.__key)}constructor(t,e,r){super(r),this.__value=t===void 0?1:t,this.__checked=e}createDOM(t){const e=document.createElement("li"),r=this.getParent();return F(r)&&r.getListType()==="check"&&Co(e,this,null),e.value=this.__value,mo(e,t.theme,this),e}updateDOM(t,e,r){const o=this.getParent();return F(o)&&o.getListType()==="check"&&Co(e,this,t),e.value=this.__value,mo(e,r.theme,this),!1}static transform(){return t=>{if(W(t)||St(144),t.__checked==null)return;const e=t.getParent();F(e)&&e.getListType()!=="check"&&t.getChecked()!=null&&t.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:Pl,priority:0})}}static importJSON(t){const e=at();return e.setChecked(t.checked),e.setValue(t.value),e.setFormat(t.format),e.setDirection(t.direction),e}exportDOM(t){const e=this.createDOM(t._config);return e.style.textAlign=this.getFormatType(),{element:e}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...t){for(let e=0;e<t.length;e++){const r=t[e];if(C(r)&&this.canMergeWith(r)){const o=r.getChildren();this.append(...o),r.remove()}else super.append(r)}return this}replace(t,e){if(W(t))return super.replace(t);this.setIndent(0);const r=this.getParentOrThrow();if(!F(r))return t;if(r.__first===this.getKey())r.insertBefore(t);else if(r.__last===this.getKey())r.insertAfter(t);else{const o=rt(r.getListType());let i=this.getNextSibling();for(;i;){const s=i;i=i.getNextSibling(),o.append(s)}r.insertAfter(t),t.insertAfter(o)}return e&&(C(t)||St(139),this.getChildren().forEach(o=>{t.append(o)})),this.remove(),r.getChildrenSize()===0&&r.remove(),t}insertAfter(t,e=!0){const r=this.getParentOrThrow();if(F(r)||St(39),W(t))return super.insertAfter(t,e);const o=this.getNextSiblings();if(r.insertAfter(t,e),o.length!==0){const i=rt(r.getListType());o.forEach(s=>i.append(s)),t.insertAfter(i,e)}return t}remove(t){const e=this.getPreviousSibling(),r=this.getNextSibling();super.remove(t),e&&r&&ut(e)&&ut(r)&&(br(e.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(t,e=!0){const r=at(this.__checked==null&&void 0);return this.insertAfter(r,e),r}collapseAtStart(t){const e=nt();this.getChildren().forEach(s=>e.append(s));const r=this.getParentOrThrow(),o=r.getParentOrThrow(),i=W(o);if(r.getChildrenSize()===1)if(i)r.remove(),o.select();else{r.insertBefore(e),r.remove();const s=t.anchor,l=t.focus,a=e.getKey();s.type==="element"&&s.getNode().is(this)&&s.set(a,s.offset,"element"),l.type==="element"&&l.getNode().is(this)&&l.set(a,l.offset,"element")}else r.insertBefore(e),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){this.getWritable().__value=t}getChecked(){return this.getLatest().__checked}setChecked(t){this.getWritable().__checked=t}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){const t=this.getParent();if(t===null)return this.getLatest().__indent;let e=t.getParentOrThrow(),r=0;for(;W(e);)e=e.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(t){typeof t=="number"&&t>-1||St(117);let e=this.getIndent();for(;e!==t;)e<t?(Nl(this),e++):(Ml(this),e--);return this}canInsertAfter(t){return W(t)}canReplaceWith(t){return W(t)}canMergeWith(t){return ne(t)||W(t)}extractWithChild(t,e){if(!k(e))return!1;const r=e.anchor.getNode(),o=e.focus.getNode();return this.isParentOf(r)&&this.isParentOf(o)&&this.getTextContent().length===e.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return rt("bullet")}}function mo(n,t,e){const r=[],o=[],i=t.list,s=i?i.listitem:void 0;let l;if(i&&i.nested&&(l=i.nested.listitem),s!==void 0&&r.push(...sn(s)),i){const a=e.getParent(),c=F(a)&&a.getListType()==="check",u=e.getChecked();c&&!u||o.push(i.listitemUnchecked),c&&u||o.push(i.listitemChecked),c&&r.push(u?i.listitemChecked:i.listitemUnchecked)}if(l!==void 0){const a=sn(l);e.getChildren().some(c=>F(c))?r.push(...a):o.push(...a)}o.length>0&&Zi(n,...o),r.length>0&&Ri(n,...r)}function Co(n,t,e,r){F(t.getFirstChild())?(n.removeAttribute("role"),n.removeAttribute("tabIndex"),n.removeAttribute("aria-checked")):(n.setAttribute("role","checkbox"),n.setAttribute("tabIndex","-1"),e&&t.__checked===e.__checked||n.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function Pl(n){if(n.classList.contains("task-list-item")){for(const e of n.children)if(e.tagName==="INPUT")return Hl(e)}const t=n.getAttribute("aria-checked");return{node:at(t==="true"||t!=="false"&&void 0)}}function Hl(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:at(n.hasAttribute("checked"))}}function at(n){return re(new se(void 0,n))}function W(n){return n instanceof se}class Rt extends oe{static getType(){return"list"}static clone(t){const e=t.__listType||vo[t.__tag];return new Rt(e,t.__start,t.__key)}constructor(t,e,r){super(r);const o=vo[t]||t;this.__listType=o,this.__tag=o==="number"?"ol":"ul",this.__start=e}getTag(){return this.__tag}setListType(t){const e=this.getWritable();e.__listType=t,e.__tag=t==="number"?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(t,e){const r=this.__tag,o=document.createElement(r);return this.__start!==1&&o.setAttribute("start",String(this.__start)),o.__lexicalListType=this.__listType,yo(o,t.theme,this),o}updateDOM(t,e,r){return t.__tag!==this.__tag||(yo(e,r.theme,this),!1)}static transform(){return t=>{F(t)||St(163),function(e){const r=e.getNextSibling();F(r)&&e.getListType()===r.getListType()&&br(e,r)}(t),function(e){const r=e.getListType()!=="check";let o=e.getStart();for(const i of e.getChildren())W(i)&&(i.getValue()!==o&&i.setValue(o),r&&i.getChecked()!=null&&i.setChecked(void 0),F(i.getFirstChild())||o++)}(t)}}static importDOM(){return{ol:()=>({conversion:xo,priority:0}),ul:()=>({conversion:xo,priority:0})}}static importJSON(t){const e=rt(t.listType,t.start);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportDOM(t){const{element:e}=super.exportDOM(t);return e&&Me(e)&&(this.__start!==1&&e.setAttribute("start",String(this.__start)),this.__listType==="check"&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...t){for(let e=0;e<t.length;e++){const r=t[e];if(W(r))super.append(r);else{const o=at();if(F(r))o.append(r);else if(C(r)){const i=U(r.getTextContent());o.append(i)}else o.append(r);super.append(o)}}return this}extractWithChild(t){return W(t)}}function yo(n,t,e){const r=[],o=[],i=t.list;if(i!==void 0){const s=i[`${e.__tag}Depth`]||[],l=Ll(e)-1,a=l%s.length,c=s[a],u=i[e.__tag];let f;const d=i.nested,h=i.checklist;if(d!==void 0&&d.list&&(f=d.list),u!==void 0&&r.push(u),h!==void 0&&e.__listType==="check"&&r.push(h),c!==void 0){r.push(...sn(c));for(let g=0;g<s.length;g++)g!==a&&o.push(e.__tag+g)}if(f!==void 0){const g=sn(f);l>1?r.push(...g):o.push(...g)}}o.length>0&&Zi(n,...o),r.length>0&&Ri(n,...r)}function Ol(n){const t=[];for(let e=0;e<n.length;e++){const r=n[e];if(W(r)){t.push(r);const o=r.getChildren();o.length>1&&o.forEach(i=>{F(i)&&t.push(po(i))})}else t.push(po(r))}return t}function xo(n){const t=n.nodeName.toLowerCase();let e=null;return t==="ol"?e=rt("number",n.start):t==="ul"&&(e=function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list"))return!0;for(const o of r.childNodes)if(Me(o)&&o.hasAttribute("aria-checked"))return!0;return!1}(n)?rt("check"):rt("bullet")),{after:Ol,node:e}}const vo={ol:"number",ul:"bullet"};function rt(n,t=1){return re(new Rt(n,t))}function F(n){return n instanceof Rt}const wo=Le(),ko=Le(),bo=Le(),To=Le();function Fl(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ln=Fl(function(n){const t=new URLSearchParams;t.append("code",n);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const Dl=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Qi=n=>Dl?(n||window).getSelection():null;function Il(n){const t=P();return t==null&&ln(166),k(t)&&t.isCollapsed()||t.getNodes().length===0?"":Ui(n,t)}function Al(n){const t=P();return t==null&&ln(166),k(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(Bl(n,t))}function So(n,t,e){const r=n.getData("application/x-lexical-editor");if(r)try{const s=JSON.parse(r);if(s.namespace===e._config.namespace&&Array.isArray(s.nodes))return Lo(e,Vl(s.nodes),t)}catch{}const o=n.getData("text/html");if(o)try{const s=new DOMParser().parseFromString(o,"text/html");return Lo(e,ji(e,s),t)}catch{}const i=n.getData("text/plain")||n.getData("text/uri-list");if(i!=null)if(k(t)){const s=i.split(/(\r?\n|\t)/);s[s.length-1]===""&&s.pop();for(let l=0;l<s.length;l++){const a=P();if(k(a)){const c=s[l];c===`
`||c===`\r
`?a.insertParagraph():c==="	"?a.insertNodes([Oe()]):a.insertText(c)}}}else t.insertRawText(i)}function Lo(n,t,e){n.dispatchCommand(is,{nodes:t,selection:e})||e.insertNodes(t)}function Gi(n,t,e,r=[]){let o=t===null||e.isSelected(t);const i=C(e)&&e.excludeFromCopy("html");let s=e;if(t!==null){let c=Bi(e);c=S(c)&&t!==null?Vi(t,c):c,s=c}const l=C(s)?s.getChildren():[],a=function(c){const u=c.exportJSON(),f=c.constructor;if(u.type!==f.getType()&&ln(58,f.name),C(c)){const d=u.children;Array.isArray(d)||ln(59,f.name)}return u}(s);if(S(s)){const c=s.__text;c.length>0?a.text=c:o=!1}for(let c=0;c<l.length;c++){const u=l[c],f=Gi(n,t,u,a.children);!o&&C(e)&&f&&e.extractWithChild(u,t,"clone")&&(o=!0)}if(o&&!i)r.push(a);else if(Array.isArray(a.children))for(let c=0;c<a.children.length;c++){const u=a.children[c];r.push(u)}return o}function Bl(n,t){const e=[],r=J().getChildren();for(let o=0;o<r.length;o++)Gi(n,t,r[o],e);return{namespace:n._config.namespace,nodes:e}}function Vl(n){const t=[];for(let e=0;e<n.length;e++){const r=n[e],o=cl(r);S(o)&&Cl(o),t.push(o)}return t}let jt=null;async function Eo(n,t){if(jt!==null)return!1;if(t!==null)return new Promise((l,a)=>{n.update(()=>{l(No(n,t))})});const e=n.getRootElement(),r=n._window==null?window.document:n._window.document,o=Qi(n._window);if(e===null||o===null)return!1;const i=r.createElement("span");i.style.cssText="position: fixed; top: -1000px;",i.append(r.createTextNode("#")),e.append(i);const s=new Range;return s.setStart(i,0),s.setEnd(i,1),o.removeAllRanges(),o.addRange(s),new Promise((l,a)=>{const c=n.registerCommand(an,u=>(Ot(u,ClipboardEvent)&&(c(),jt!==null&&(window.clearTimeout(jt),jt=null),l(No(n,u))),!0),fl);jt=window.setTimeout(()=>{c(),jt=null,l(!1)},50),r.execCommand("copy"),i.remove()})}function No(n,t){const e=Qi(n._window);if(!e)return!1;const r=e.anchorNode,o=e.focusNode;if(r!==null&&o!==null&&!Ne(n,r,o))return!1;t.preventDefault();const i=t.clipboardData,s=P();if(i===null||s===null)return!1;const l=Il(n),a=Al(n);let c="";return s!==null&&(c=s.getTextContent()),l!==null&&i.setData("text/html",l),a!==null&&i.setData("application/x-lexical-editor",a),i.setData("text/plain",c),!0}function Mo(n,t){if(document.caretRangeFromPoint!==void 0){const e=document.caretRangeFromPoint(n,t);return e===null?null:{node:e.startContainer,offset:e.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const e=document.caretPositionFromPoint(n,t);return e===null?null:{node:e.offsetNode,offset:e.offset}}return null}const le=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Wl=le&&"documentMode"in document?document.documentMode:null,zl=!(!le||!("InputEvent"in window)||Wl)&&"getTargetRanges"in new window.InputEvent("input"),Rl=le&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Zl=le&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Kl=le&&/^(?=.*Chrome).*/i.test(navigator.userAgent),jl=le&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Kl,Po=Le();function ze(n){let t=null;if(Ot(n,DragEvent)?t=n.dataTransfer:Ot(n,ClipboardEvent)&&(t=n.clipboardData),t===null)return[!1,[],!1];const e=t.types,r=e.includes("Files"),o=e.includes("text/html")||e.includes("text/plain");return[r,Array.from(t.files),o]}function Ho(n){const t=P();if(!k(t))return!1;const e=new Set,r=t.getNodes();for(let o=0;o<r.length;o++){const i=r[o],s=i.getKey();if(e.has(s))continue;const l=Se(i,c=>C(c)&&!c.isInline());if(l===null)continue;const a=l.getKey();l.canIndent()&&!e.has(a)&&(e.add(a),n(l))}return e.size>0}function Re(n){const t=Vt(n);return I(t)}function Ul(n){return bl(n.registerCommand(Ao,t=>{const e=P();return!!st(e)&&(e.clear(),!0)},0),n.registerCommand(Ft,t=>{const e=P();return!!k(e)&&(e.deleteCharacter(t),!0)},D),n.registerCommand(xe,t=>{const e=P();return!!k(e)&&(e.deleteWord(t),!0)},D),n.registerCommand(ve,t=>{const e=P();return!!k(e)&&(e.deleteLine(t),!0)},D),n.registerCommand(Yt,t=>{const e=P();if(typeof t=="string")e!==null&&e.insertText(t);else{if(e===null)return!1;const r=t.dataTransfer;if(r!=null)So(r,e,n);else if(k(e)){const o=t.data;return o&&e.insertText(o),!0}}return!0},D),n.registerCommand(Dn,()=>{const t=P();return!!k(t)&&(t.removeText(),!0)},D),n.registerCommand(_t,t=>{const e=P();return!!k(e)&&(e.formatText(t),!0)},D),n.registerCommand(hs,t=>{const e=P();if(!k(e)&&!st(e))return!1;const r=e.getNodes();for(const o of r){const i=Se(o,s=>C(s)&&!s.isInline());i!==null&&i.setFormat(t)}return!0},D),n.registerCommand(Xt,t=>{const e=P();return!!k(e)&&(e.insertLineBreak(t),!0)},D),n.registerCommand(je,()=>{const t=P();return!!k(t)&&(t.insertParagraph(),!0)},D),n.registerCommand(ds,()=>(Hi([Oe()]),!0),D),n.registerCommand(fs,()=>Ho(t=>{const e=t.getIndent();t.setIndent(e+1)}),D),n.registerCommand(Nr,()=>Ho(t=>{const e=t.getIndent();e>0&&t.setIndent(e-1)}),D),n.registerCommand(Ro,t=>{const e=P();if(st(e)&&!Re(t.target)){const r=e.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(k(e)){const r=ke(e.focus,!0);if(!t.shiftKey&&I(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),t.preventDefault(),!0}return!1},D),n.registerCommand(Zo,t=>{const e=P();if(st(e)){const r=e.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(k(e)){if(function(o){const i=o.focus;return i.key==="root"&&i.offset===J().getChildrenSize()}(e))return t.preventDefault(),!0;const r=ke(e.focus,!1);if(!t.shiftKey&&I(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),t.preventDefault(),!0}return!1},D),n.registerCommand(zo,t=>{const e=P();if(st(e)){const r=e.getNodes();if(r.length>0)return t.preventDefault(),r[0].selectPrevious(),!0}if(!k(e))return!1;if(fo(e,!0)){const r=t.shiftKey;return t.preventDefault(),ho(e,r,!0),!0}return!1},D),n.registerCommand(Wo,t=>{const e=P();if(st(e)&&!Re(t.target)){const o=e.getNodes();if(o.length>0)return t.preventDefault(),o[0].selectNext(0,0),!0}if(!k(e))return!1;const r=t.shiftKey;return!!fo(e,!1)&&(t.preventDefault(),ho(e,r,!1),!0)},D),n.registerCommand(Ko,t=>{if(Re(t.target))return!1;const e=P();if(!k(e))return!1;t.preventDefault();const{anchor:r}=e,o=r.getNode();return e.isCollapsed()&&r.offset===0&&!Y(o)&&Ki(o).getIndent()>0?n.dispatchCommand(Nr,void 0):n.dispatchCommand(Ft,!0)},D),n.registerCommand(Uo,t=>{if(Re(t.target))return!1;const e=P();return!!k(e)&&(t.preventDefault(),n.dispatchCommand(Ft,!1))},D),n.registerCommand(we,t=>{const e=P();if(!k(e))return!1;if(t!==null){if((Zl||Rl||jl)&&zl)return!1;if(t.preventDefault(),t.shiftKey)return n.dispatchCommand(Xt,!1)}return n.dispatchCommand(je,void 0)},D),n.registerCommand(jo,()=>{const t=P();return!!k(t)&&(n.blur(),!0)},D),n.registerCommand($o,t=>{const[,e]=ze(t);if(e.length>0){const o=Mo(t.clientX,t.clientY);if(o!==null){const{offset:i,node:s}=o,l=Vt(s);if(l!==null){const a=il();if(S(l))a.anchor.set(l.getKey(),i,"text"),a.focus.set(l.getKey(),i,"text");else{const u=l.getParentOrThrow().getKey(),f=l.getIndexWithinParent()+1;a.anchor.set(u,f,"element"),a.focus.set(u,f,"element")}const c=ri(a);dt(c)}n.dispatchCommand(Po,e)}return t.preventDefault(),!0}const r=P();return!!k(r)},D),n.registerCommand(Jo,t=>{const[e]=ze(t),r=P();return!(e&&!k(r))},D),n.registerCommand(qo,t=>{const[e]=ze(t),r=P();if(e&&!k(r))return!1;const o=Mo(t.clientX,t.clientY);if(o!==null){const i=Vt(o.node);I(i)&&t.preventDefault()}return!0},D),n.registerCommand(In,()=>(Rs(),!0),D),n.registerCommand(an,t=>(Eo(n,Ot(t,ClipboardEvent)?t:null),!0),D),n.registerCommand(nr,t=>(async function(e,r){await Eo(r,Ot(e,ClipboardEvent)?e:null),r.update(()=>{const o=P();k(o)?o.removeText():st(o)&&o.getNodes().forEach(i=>i.remove())})}(t,n),!0),D),n.registerCommand(er,t=>{const[,e,r]=ze(t);return e.length>0&&!r?(n.dispatchCommand(Po,e),!0):hr(t.target)?!1:P()!==null&&(function(o,i){o.preventDefault(),i.update(()=>{const s=P(),l=Ot(o,InputEvent)||Ot(o,KeyboardEvent)?null:o.clipboardData;l!=null&&s!==null&&So(l,s,i)},{tag:"paste"})}(t,n),!0)},D))}const $l={bold:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.25 11.8C15.7397 11.5018 16.1529 11.0934 16.4567 10.6073C16.7605 10.1212 16.9466 9.57077 17 9C17.0093 8.48388 16.9168 7.971 16.7278 7.49063C16.5388 7.01027 16.2571 6.57184 15.8986 6.20039C15.5402 5.82894 15.1121 5.53174 14.6387 5.32578C14.1654 5.11981 13.6561 5.00911 13.14 5H6.65002V19H13.65C14.1412 18.9948 14.6265 18.8929 15.0782 18.7001C15.53 18.5073 15.9394 18.2274 16.283 17.8764C16.6265 17.5253 16.8976 17.1101 17.0807 16.6543C17.2638 16.1985 17.3553 15.7112 17.35 15.22V15.1C17.3504 14.4071 17.1529 13.7285 16.781 13.144C16.409 12.5594 15.8778 12.0931 15.25 11.8ZM8.65002 7H12.85C13.2762 6.98681 13.6962 7.10428 14.0537 7.33665C14.4112 7.56902 14.6891 7.90517 14.85 8.3C15.0129 8.82779 14.9602 9.39859 14.7035 9.88765C14.4468 10.3767 14.0069 10.7443 13.48 10.91C13.2754 10.97 13.0632 11.0003 12.85 11H8.65002V7ZM13.25 17H8.65002V13H13.25C13.6762 12.9868 14.0962 13.1043 14.4537 13.3367C14.8112 13.569 15.0891 13.9052 15.25 14.3C15.4129 14.8278 15.3602 15.3986 15.1035 15.8877C14.8468 16.3767 14.4069 16.7443 13.88 16.91C13.6754 16.97 13.4632 17.0003 13.25 17Z" fill="currentColor"/>
    </svg>  
    `,italic:`
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11.76 9H13.76L11.56 19H9.56L11.76 9ZM13.44 5C13.2422 5 13.0489 5.05865 12.8844 5.16853C12.72 5.27841 12.5918 5.43459 12.5161 5.61732C12.4404 5.80004 12.4206 6.00111 12.4592 6.19509C12.4978 6.38907 12.593 6.56725 12.7329 6.70711C12.8727 6.84696 13.0509 6.9422 13.2449 6.98079C13.4389 7.01937 13.64 6.99957 13.8227 6.92388C14.0054 6.84819 14.1616 6.72002 14.2715 6.55557C14.3813 6.39112 14.44 6.19778 14.44 6C14.44 5.73478 14.3346 5.48043 14.1471 5.29289C13.9596 5.10536 13.7052 5 13.44 5Z" fill="currentColor"/>
  </svg>
    `,underline:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 20V22H5V20H19ZM16 13.215C15.9671 13.875 15.7711 14.5165 15.4297 15.0823C15.0883 15.6481 14.6121 16.1205 14.0435 16.4572C13.475 16.794 12.8318 16.9847 12.1716 17.0122C11.5114 17.0397 10.8546 16.9033 10.26 16.615C9.57464 16.3185 8.99341 15.8241 8.59077 15.1952C8.18813 14.5663 7.98242 13.8315 8 13.085V5.005H6V13.215C6.03383 14.1564 6.28885 15.0766 6.74442 15.9012C7.19998 16.7257 7.84329 17.4314 8.62227 17.9611C9.40125 18.4908 10.294 18.8296 11.2283 18.9502C12.1625 19.0707 13.1121 18.9696 14 18.655C15.1811 18.2613 16.2059 17.5012 16.9252 16.485C17.6446 15.4689 18.0211 14.2498 18 13.005V5.005H16V13.215ZM16 5H18H16ZM8 5H6H8Z" fill="currentColor"/>
    </svg>
    `,strikethrough:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 12.2029H21V13.7029H16.6342C16.8711 14.2002 16.9906 14.7451 16.9836 15.2958C16.9977 15.8183 16.8855 16.3365 16.6567 16.8064C16.428 17.2764 16.0893 17.6843 15.6694 17.9955C14.6579 18.7072 13.4378 19.0607 12.2025 19C11.3 19.0061 10.4062 18.8224 9.57916 18.461C8.82387 18.1477 8.16917 17.6329 7.68652 16.9728C7.24212 16.3426 7.00762 15.5884 7.01636 14.8174V14.704H7.30359V14.7029H7.64508V14.704H9.02V14.8173C9.00433 15.1687 9.07382 15.5187 9.22253 15.8374C9.37125 16.1562 9.59479 16.4343 9.87413 16.648C10.5515 17.1303 11.372 17.3697 12.2025 17.3273C12.9356 17.3752 13.6645 17.1835 14.2792 16.7811C14.507 16.6126 14.6901 16.3908 14.8124 16.1351C14.9346 15.8794 14.9923 15.5977 14.9804 15.3145C14.9964 15.041 14.9459 14.7676 14.8332 14.5178C14.7205 14.268 14.5491 14.0493 14.3335 13.8801C14.2451 13.8161 14.1533 13.7569 14.0585 13.7029H3V12.2029ZM16.3447 7.0598C15.9232 6.40481 15.3271 5.88058 14.6236 5.54619C13.8394 5.1726 12.9793 4.98565 12.1107 4.99999C10.8996 4.94801 9.70883 5.32403 8.74719 6.06212C8.33435 6.38097 8.00134 6.79147 7.77448 7.26119C7.54762 7.73091 7.43313 8.24695 7.44006 8.76854C7.43656 9.26283 7.54659 9.75133 7.76166 10.1964H10.3583C10.275 10.1427 10.173 10.0906 10.1056 10.0358C9.90219 9.88567 9.73702 9.68968 9.62358 9.46372C9.51014 9.23777 9.45164 8.98823 9.45282 8.7354C9.43773 8.44679 9.49242 8.15879 9.61226 7.8958C9.73209 7.63282 9.91354 7.40258 10.1412 7.2246C10.7173 6.82506 11.4109 6.63053 12.1107 6.67217C12.8717 6.62379 13.6231 6.86239 14.2167 7.34087C14.465 7.57466 14.6594 7.85967 14.7865 8.17612C14.9136 8.49257 14.9703 8.83288 14.9527 9.17345V9.28686H16.9559V9.17345C16.9592 8.42485 16.7471 7.69109 16.3447 7.0598Z" fill="currentColor"/>
    </svg>
    `,subscript:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.4 12L14 15.6L12.6 17L9 13.4L5.4 17L4 15.6L7.6 12L4 8.4L5.4 7L9 10.6L12.6 7L14 8.4L10.4 12ZM18.3123 19.674L19.3805 18.5275C19.5765 18.3261 19.7514 18.1201 19.9173 17.9187C20.077 17.7245 20.2215 17.5182 20.3493 17.3017C20.469 17.1015 20.567 16.8892 20.6418 16.6683C20.7128 16.4534 20.7488 16.2284 20.7484 16.0021C20.7514 15.7207 20.6994 15.4415 20.5953 15.18C20.4968 14.9343 20.3427 14.7147 20.1451 14.5384C19.9353 14.3549 19.6899 14.2165 19.4242 14.132C18.7861 13.9419 18.1044 13.9575 17.4757 14.1766C17.1887 14.2851 16.9283 14.4538 16.712 14.6715C16.5032 14.8801 16.3413 15.1308 16.2372 15.407C16.1371 15.6735 16.0844 15.9553 16.0813 16.24L16.0777 16.477H17.617L17.6234 16.25C17.625 16.1234 17.643 15.9975 17.6772 15.8755C17.7105 15.7684 17.7637 15.6685 17.8339 15.5811C17.905 15.5007 17.9935 15.4377 18.0928 15.397C18.3174 15.308 18.5665 15.3028 18.7946 15.3824C18.8768 15.4185 18.9501 15.472 19.0096 15.5392C19.0704 15.611 19.1171 15.6935 19.1473 15.7825C19.1829 15.8908 19.2014 16.004 19.202 16.1179C19.2008 16.2075 19.1901 16.2967 19.17 16.384C19.1409 16.4883 19.0993 16.5887 19.046 16.683C18.9687 16.8192 18.8806 16.949 18.7827 17.0712C18.6483 17.2458 18.505 17.4135 18.3534 17.5734L16.197 19.9265V21H21V19.674H18.3123Z" fill="currentColor"/>
    </svg>
    `,superscript:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.4 12L14 15.6L12.6 17L9 13.4L5.4 17L4 15.6L7.6 12L4 8.39999L5.4 6.99999L9 10.6L12.6 6.99999L14 8.39999L10.4 12ZM19.3123 8.67399L20.3805 7.52749C20.5765 7.32608 20.7514 7.1201 20.9173 6.91869C21.077 6.72452 21.2214 6.51823 21.3493 6.30169C21.469 6.10152 21.567 5.8892 21.6418 5.66829C21.7128 5.45337 21.7488 5.22843 21.7484 5.00208C21.7514 4.72071 21.6994 4.44146 21.5953 4.18002C21.4968 3.93428 21.3427 3.71468 21.1451 3.53842C20.9353 3.35487 20.6899 3.21651 20.4242 3.13196C19.7861 2.94191 19.1044 2.95753 18.4757 3.17661C18.1887 3.28506 17.9282 3.45381 17.712 3.67148C17.5032 3.88006 17.3413 4.13081 17.2372 4.40696C17.1371 4.67345 17.0844 4.95534 17.0813 5.23996L17.0777 5.47696H18.617L18.6234 5.24999C18.625 5.12333 18.643 4.99741 18.6772 4.87541C18.7105 4.76834 18.7637 4.66848 18.8339 4.58104C18.905 4.50068 18.9935 4.43769 19.0928 4.39694C19.3173 4.30795 19.5665 4.30277 19.7946 4.38236C19.8768 4.41844 19.9501 4.47194 20.0096 4.53915C20.0704 4.61089 20.1171 4.69344 20.1473 4.78248C20.1829 4.89072 20.2014 5.00389 20.202 5.11786C20.2008 5.20745 20.1901 5.29667 20.17 5.38398C20.1409 5.48826 20.0993 5.58863 20.046 5.68291C19.9687 5.81912 19.8807 5.94894 19.7827 6.07114C19.6483 6.24579 19.505 6.4134 19.3534 6.57331L17.1971 8.92641V9.99999H22V8.67399H19.3123Z" fill="currentColor"/>
    </svg>
    `,fontFamily:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 19H18L13 5H11L6 19H8L9.43 15H14.57L16 19ZM10.14 13L12 7.8L13.86 13H10.14Z" fill="currentColor"/>
    </svg>
    `,fontSize:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M20.75 19H22.25L19.25 9H17.75L14.75 19H16.25L17 16.5H20L20.75 19ZM17.45 15L18.5 11.5L19.55 15H17.45ZM11.75 19H13.75L8.75 5H6.75L1.75 19H3.75L5.18 15H10.32L11.75 19ZM5.89 13L7.75 7.8L9.61 13H5.89Z" fill="currentColor"/>
    </svg>
    `,clearformat:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M11.48 10.09L10.28 8.88L8.80003 7.41L6.43003 5L5.37003 6.1L8.25003 9L4.66003 19H6.66003L8.09003 15H13.23L14.66 19H16.66L15.77 16.49L18.27 19L19.34 17.94L14.59 13.2L11.48 10.09ZM8.80003 13L9.72003 10.44L12.27 13H8.80003ZM9.36003 5.85L9.66003 5H11.66L13.41 9.9L9.36003 5.85Z" fill="currentColor"/>
    </svg>
    `,textColor:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.2 13.494C15.2 13.494 11.6 17.394 11.6 19.794C11.5934 20.2733 11.6813 20.7493 11.8587 21.1946C12.036 21.64 12.2994 22.046 12.6337 22.3896C13.3088 23.0835 14.2319 23.4807 15.2 23.494C16.168 23.5073 17.1017 23.1354 17.7956 22.4603C18.1391 22.126 18.4135 21.7273 18.603 21.287C18.7925 20.8467 18.8934 20.3733 18.9 19.894V19.794C18.9 17.394 15.2 13.494 15.2 13.494ZM13.73 12.137L14.399 11.413L12.1 5H10.1L5.09998 19H7.09998L8.52998 15H11.473C12.1517 13.9909 12.9048 13.0339 13.726 12.137H13.73ZM11.1 7.8L12.96 13H9.24398L11.1 7.8Z" fill="currentColor"/>
    </svg>
    `,backgroundColor:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9.91756 12.2408L17.6655 6.85064L18.8449 8.14655L12.7509 15.354L9.91756 12.2408ZM7.58746 12.652L12.1228 17.6353C12.2167 17.7283 12.3292 17.8003 12.453 17.8466C12.5768 17.8929 12.709 17.9123 12.8409 17.9038C12.9728 17.8952 13.1013 17.8587 13.2181 17.7967C13.3348 17.7348 13.4371 17.6488 13.5181 17.5444L20.9695 8.73139C21.1179 8.56827 21.202 8.35672 21.2059 8.1362C21.2098 7.91569 21.1333 7.70128 20.9908 7.53299L18.4778 4.77183C18.3236 4.6141 18.1174 4.51786 17.8975 4.50105C17.6775 4.48425 17.459 4.54804 17.2827 4.68051L7.80905 11.2713C7.69748 11.3422 7.60223 11.4359 7.52958 11.5463C7.45693 11.6567 7.40853 11.7813 7.38759 11.9118C7.36664 12.0423 7.37363 12.1757 7.40808 12.3033C7.44254 12.4309 7.50367 12.5498 7.58746 12.652ZM2.79395 18.5277L8.4113 19.5L9.89044 18.1538L6.86155 14.8258L2.79395 18.5277Z" fill="currentColor"/>
    </svg>
    `,undo:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.4 9.4C8.7 9.7 7.2 10.3 5.8 11.4L3 8.5V15.5H10L7.3 12.8C11 10.2 16.1 11 18.8 14.7C19 15 19.2 15.2 19.3 15.5L21.1 14.6C18.9 10.8 14.7 8.7 10.4 9.4Z" fill="currentColor"/>
    </svg>
    `,redo:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.6 9.4C15.3 9.7 16.8 10.3 18.2 11.4L21 8.5V15.5H14L16.7 12.8C13 10.1 7.9 11 5.3 14.7C5.1 15 4.9 15.2 4.8 15.5L3 14.6C5.1 10.8 9.3 8.7 13.6 9.4Z" fill="currentColor"/>
    </svg>
    `,left:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 9.5H12.47" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 19.5H12.47" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,center:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.26001 9.5H16.74" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.26001 19.5H16.74" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,right:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M11.53 9.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M11.53 19.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,justify:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 4.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 9.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 14.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 19.5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h1:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 10L19 9V19M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h2:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 12.5V12C15 11.2044 15.3161 10.4413 15.8787 9.87868C16.4413 9.31607 17.2044 9 18 9H18.172C18.7316 8.99968 19.2788 9.16541 19.7441 9.47619C20.2095 9.78698 20.5722 10.2289 20.7864 10.7459C21.0005 11.2629 21.0564 11.8318 20.9471 12.3807C20.8377 12.9295 20.568 13.4335 20.172 13.829L15 19H21M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h3:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 9H21L17 13H18C18.55 13.0002 19.0893 13.1516 19.5591 13.4377C20.0288 13.7237 20.4109 14.1334 20.6635 14.6219C20.9162 15.1105 21.0297 15.6591 20.9916 16.2077C20.9535 16.7564 20.7653 17.284 20.4476 17.733C20.1299 18.1819 19.6949 18.5349 19.1901 18.7533C18.6854 18.9717 18.1303 19.0472 17.5855 18.9714C17.0408 18.8956 16.5274 18.6716 16.1013 18.3237C15.6753 17.9759 15.3531 17.5176 15.17 16.999M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h4:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M18 9L15.5 17H20M20 17H21M20 17V14M20 17V19M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h5:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M21 9H17L15.75 14.016C16.1829 13.5246 16.7648 13.1885 17.4068 13.059C18.0488 12.9295 18.7155 13.0138 19.305 13.299C19.7052 13.4922 20.0575 13.7718 20.3364 14.1177C20.6153 14.4637 20.8139 14.8673 20.9178 15.2993C21.0217 15.7314 21.0283 16.1811 20.9372 16.616C20.846 17.0509 20.6594 17.4602 20.3908 17.8142C20.1222 18.1682 19.7783 18.4581 19.384 18.6629C18.9896 18.8678 18.5547 18.9825 18.1106 18.9987C17.6666 19.015 17.2244 18.9324 16.8162 18.7569C16.4079 18.5814 16.0438 18.3174 15.75 17.984M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,h6:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.402 14.525C15.2052 14.8643 15.0774 15.2392 15.0261 15.6281C14.9748 16.017 15.0009 16.4122 15.1029 16.791C15.205 17.1698 15.381 17.5246 15.6207 17.8351C15.8605 18.1455 16.1593 18.4055 16.5 18.6C17.189 18.9959 18.0067 19.1033 18.7745 18.8988C19.5424 18.6942 20.1983 18.1942 20.599 17.508C20.7959 17.1687 20.9237 16.7937 20.9751 16.4047C21.0264 16.0157 21.0002 15.6205 20.8981 15.2417C20.7959 14.8628 20.6198 14.508 20.3798 14.1976C20.1399 13.8872 19.8408 13.6273 19.5 13.433C18.8111 13.0374 17.9937 12.9302 17.226 13.1347C16.4584 13.3393 15.8027 13.839 15.402 14.525ZM15.402 14.525L19 8M3 5V12M3 12V19M3 12H11M11 12V5M11 12V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,paragraph:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 5V13M12 5H16M12 5H11C9.93913 5 8.92172 5.42143 8.17157 6.17157C7.42143 6.92172 7 7.93913 7 9C7 10.0609 7.42143 11.0783 8.17157 11.8284C8.92172 12.5786 9.93913 13 11 13H12M12 13V19M16 5V19M16 5H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,quote:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 17C16.7956 17 17.5587 16.6839 18.1213 16.1213C18.6839 15.5587 19 14.7956 19 14V12M19 12V8.598C19 8.04 19 7.76 18.891 7.546C18.7951 7.35785 18.6422 7.20487 18.454 7.109C18.24 7 17.96 7 17.4 7H15.6C15.04 7 14.76 7 14.546 7.109C14.3578 7.20487 14.2049 7.35785 14.109 7.546C14 7.76 14 8.04 14 8.6V10.4C14 10.96 14 11.24 14.109 11.454C14.2049 11.6422 14.3578 11.7951 14.546 11.891C14.76 12 15.04 12 15.599 12H19ZM7 17C7.79565 17 8.55871 16.6839 9.12132 16.1213C9.68393 15.5587 10 14.7956 10 14V12M10 12V8.598C10 8.039 10 7.76 9.891 7.546C9.79513 7.35785 9.64215 7.20487 9.454 7.109C9.24 7 8.96 7 8.4 7H6.6C6.04 7 5.76 7 5.546 7.109C5.35785 7.20487 5.20487 7.35785 5.109 7.546C5 7.76 5 8.04 5 8.6V10.4C5 10.96 5 11.24 5.109 11.454C5.20487 11.6422 5.35785 11.7951 5.546 11.891C5.76 12 6.04 12 6.598 12H10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,code:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 7L20 12L15 17M9 17L4 12L9 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,unordered:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9 17H19M9 12H19M9 7H19M5.002 17V17.002H5V17H5.002ZM5.002 12V12.002H5V12H5.002ZM5.002 7V7.002H5V7H5.002Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,ordered:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 17H20M4 15.685V15.5C4 15.1022 4.15804 14.7206 4.43934 14.4393C4.72064 14.158 5.10218 14 5.5 14H5.54C6.347 14 7 14.653 7 15.46C7 15.81 6.886 16.152 6.676 16.433L4 20H7M10 12H20M10 7H20M4 5L6 4V10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>  
    `,check:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M8 12L11 15L16 9M4 16.8V7.2C4 6.08 4 5.52 4.218 5.092C4.41 4.715 4.715 4.41 5.092 4.218C5.52 4 6.08 4 7.2 4H16.8C17.92 4 18.48 4 18.907 4.218C19.284 4.41 19.59 4.715 19.782 5.092C20 5.519 20 6.079 20 7.197V16.804C20 17.922 20 18.481 19.782 18.908C19.5899 19.2844 19.2836 19.5903 18.907 19.782C18.48 20 17.921 20 16.803 20H7.197C6.079 20 5.519 20 5.092 19.782C4.71569 19.5903 4.40974 19.2843 4.218 18.908C4 18.48 4 17.92 4 16.8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,link:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9.17196 14.829L14.829 9.17196M7.04996 11.293L5.63596 12.707C5.26451 13.0784 4.96987 13.5194 4.76885 14.0047C4.56782 14.49 4.46436 15.0102 4.46436 15.5355C4.46436 16.0608 4.56782 16.5809 4.76885 17.0662C4.96987 17.5515 5.26451 17.9925 5.63596 18.364C6.0074 18.7354 6.44837 19.03 6.93369 19.2311C7.419 19.4321 7.93916 19.5356 8.46446 19.5356C8.98976 19.5356 9.50992 19.4321 9.99523 19.2311C10.4805 19.03 10.9215 18.7354 11.293 18.364L12.705 16.95M11.292 7.04996L12.706 5.63596C13.0774 5.26451 13.5184 4.96987 14.0037 4.76885C14.489 4.56782 15.0092 4.46436 15.5345 4.46436C16.0598 4.46436 16.5799 4.56782 17.0652 4.76885C17.5505 4.96987 17.9915 5.26451 18.363 5.63596C18.7344 6.0074 19.029 6.44837 19.2301 6.93369C19.4311 7.419 19.5346 7.93916 19.5346 8.46446C19.5346 8.98976 19.4311 9.50992 19.2301 9.99523C19.029 10.4805 18.7344 10.9215 18.363 11.293L16.949 12.707" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,unlink:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 20V18M18 16H20M7.05 11.293L5.636 12.707C4.88584 13.4572 4.4644 14.4746 4.4644 15.5355C4.4644 16.5964 4.88584 17.6138 5.636 18.364C6.38616 19.1142 7.40361 19.5356 8.4645 19.5356C9.52539 19.5356 10.5428 19.1142 11.293 18.364L12.708 16.95M6 8H4M8 4V6M11.293 7.05L12.707 5.636C13.0769 5.25777 13.5182 4.95668 14.0053 4.75017C14.4924 4.54366 15.0156 4.43582 15.5446 4.43291C16.0737 4.43 16.598 4.53206 17.0874 4.7332C17.5767 4.93433 18.0213 5.23054 18.3953 5.60467C18.7694 5.9788 19.0655 6.42342 19.2666 6.91279C19.4676 7.40215 19.5696 7.92654 19.5666 8.45559C19.5636 8.98463 19.4557 9.50783 19.2491 9.99487C19.0425 10.4819 18.7413 10.9231 18.363 11.293L16.949 12.707" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,edit:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
    <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
  </svg>
  `,indent:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_1373_1664)">
  <path d="M19.9999 18C20.2548 18.0003 20.5 18.0979 20.6853 18.2728C20.8706 18.4478 20.9822 18.687 20.9971 18.9414C21.012 19.1958 20.9293 19.4464 20.7657 19.6418C20.6021 19.8373 20.37 19.9629 20.1169 19.993L19.9999 20H3.99994C3.74506 19.9997 3.49991 19.9021 3.31457 19.7272C3.12923 19.5522 3.0177 19.313 3.00277 19.0586C2.98783 18.8042 3.07061 18.5536 3.2342 18.3582C3.39779 18.1627 3.62984 18.0371 3.88294 18.007L3.99994 18H19.9999ZM19.9999 13C20.2652 13 20.5195 13.1054 20.707 13.2929C20.8946 13.4804 20.9999 13.7348 20.9999 14C20.9999 14.2652 20.8946 14.5196 20.707 14.7071C20.5195 14.8946 20.2652 15 19.9999 15H10.9999C10.7347 15 10.4804 14.8946 10.2928 14.7071C10.1053 14.5196 9.99994 14.2652 9.99994 14C9.99994 13.7348 10.1053 13.4804 10.2928 13.2929C10.4804 13.1054 10.7347 13 10.9999 13H19.9999ZM3.64294 9.173L3.93294 9.324L4.27694 9.513C4.33894 9.547 4.40294 9.583 4.46794 9.621L4.88394 9.865L5.10794 10.001L5.58294 10.303C5.83994 10.469 6.07694 10.63 6.29394 10.783L6.70094 11.074L6.88394 11.21L7.20594 11.456L7.46794 11.664C7.68194 11.838 7.67294 12.185 7.44794 12.367L7.18694 12.573L6.86794 12.816L6.49294 13.09L6.28494 13.237L5.82994 13.548L5.58194 13.711C5.41394 13.821 5.25094 13.923 5.09494 14.019L4.64994 14.287L4.25194 14.515L3.90594 14.705L3.61594 14.855C3.36294 14.985 3.09094 14.819 3.06494 14.523L3.02494 14.013L2.98894 13.363L2.97094 12.859L2.96094 12.303V11.694L2.97194 11.109L2.99194 10.582L3.01694 10.118L3.05994 9.552C3.08694 9.235 3.38494 9.042 3.64294 9.172V9.173ZM19.9999 8C20.2652 8 20.5195 8.10536 20.707 8.29289C20.8946 8.48043 20.9999 8.73478 20.9999 9C20.9999 9.26522 20.8946 9.51957 20.707 9.70711C20.5195 9.89464 20.2652 10 19.9999 10H10.9999C10.7347 10 10.4804 9.89464 10.2928 9.70711C10.1053 9.51957 9.99994 9.26522 9.99994 9C9.99994 8.73478 10.1053 8.48043 10.2928 8.29289C10.4804 8.10536 10.7347 8 10.9999 8H19.9999ZM19.9999 3C20.2652 3 20.5195 3.10536 20.707 3.29289C20.8946 3.48043 20.9999 3.73478 20.9999 4C20.9999 4.26522 20.8946 4.51957 20.707 4.70711C20.5195 4.89464 20.2652 5 19.9999 5H3.99994C3.73472 5 3.48037 4.89464 3.29283 4.70711C3.10529 4.51957 2.99994 4.26522 2.99994 4C2.99994 3.73478 3.10529 3.48043 3.29283 3.29289C3.48037 3.10536 3.73472 3 3.99994 3H19.9999Z" fill="currentColor"/>
  </g>
  <defs>
  <clipPath id="clip0_1373_1664">
  <rect width="24" height="24" fill="white"/>
  </clipPath>
  </defs>
  </svg>  
  `,outdent:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_1373_1660)">
  <path d="M20 18C20.2652 18 20.5196 18.1054 20.7071 18.2929C20.8946 18.4804 21 18.7348 21 19C21 19.2652 20.8946 19.5196 20.7071 19.7071C20.5196 19.8946 20.2652 20 20 20H4C3.73478 20 3.48043 19.8946 3.29289 19.7071C3.10536 19.5196 3 19.2652 3 19C3 18.7348 3.10536 18.4804 3.29289 18.2929C3.48043 18.1054 3.73478 18 4 18H20ZM20 13C20.2549 13.0003 20.5 13.0979 20.6854 13.2728C20.8707 13.4478 20.9822 13.687 20.9972 13.9414C21.0121 14.1958 20.9293 14.4464 20.7657 14.6418C20.6021 14.8373 20.3701 14.9629 20.117 14.993L20 15H11C10.7451 14.9997 10.5 14.9021 10.3146 14.7272C10.1293 14.5522 10.0178 14.313 10.0028 14.0586C9.98789 13.8042 10.0707 13.5536 10.2343 13.3582C10.3979 13.1627 10.6299 13.0371 10.883 13.007L11 13H20ZM7.065 9.173C7.322 9.041 7.621 9.235 7.648 9.552L7.69 10.118L7.716 10.582L7.736 11.109L7.742 11.395L7.748 12.007L7.743 12.587L7.729 13.117L7.708 13.594L7.669 14.199L7.643 14.523C7.616 14.819 7.344 14.984 7.091 14.855L6.801 14.705L6.456 14.515L6.058 14.287L5.841 14.158L5.374 13.87L4.878 13.548L4.422 13.238L4.215 13.09L3.84 12.816L3.383 12.466C3.34219 12.4332 3.30152 12.4002 3.261 12.367C3.035 12.185 3.025 11.838 3.241 11.664L3.501 11.456L3.824 11.21L4.203 10.932L4.637 10.627C4.791 10.522 4.954 10.413 5.124 10.302L5.367 10.147L5.824 9.865L6.24 9.621L6.609 9.414L7.065 9.173ZM20 8C20.2652 8 20.5196 8.10536 20.7071 8.29289C20.8946 8.48043 21 8.73478 21 9C21 9.26522 20.8946 9.51957 20.7071 9.70711C20.5196 9.89464 20.2652 10 20 10H11C10.7348 10 10.4804 9.89464 10.2929 9.70711C10.1054 9.51957 10 9.26522 10 9C10 8.73478 10.1054 8.48043 10.2929 8.29289C10.4804 8.10536 10.7348 8 11 8H20ZM20 3C20.2652 3 20.5196 3.10536 20.7071 3.29289C20.8946 3.48043 21 3.73478 21 4C21 4.26522 20.8946 4.51957 20.7071 4.70711C20.5196 4.89464 20.2652 5 20 5H4C3.73478 5 3.48043 4.89464 3.29289 4.70711C3.10536 4.51957 3 4.26522 3 4C3 3.73478 3.10536 3.48043 3.29289 3.29289C3.48043 3.10536 3.73478 3 4 3H20Z" fill="currentColor"/>
  </g>
  <defs>
  <clipPath id="clip0_1373_1660">
  <rect width="24" height="24" fill="white"/>
  </clipPath>
  </defs>
  </svg>  
  `,color:`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M15.246 14H8.754L7.154 18H5L11 3H13L19 18H16.846L15.246 14ZM14.446 12L12 5.885L9.554 12H14.446ZM3 20H21V22H3V20Z" fill="currentColor"/>
  </svg>
  `,fill:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M9.70711 3.22211L2.63611 10.2931C2.26117 10.6682 2.05054 11.1768 2.05054 11.7071C2.05054 12.2374 2.26117 12.7461 2.63611 13.1211L8.29211 18.7781C8.47786 18.9641 8.69843 19.1116 8.94123 19.2122C9.18403 19.3129 9.44428 19.3647 9.70711 19.3647C9.96994 19.3647 10.2302 19.3129 10.473 19.2122C10.7158 19.1116 10.9364 18.9641 11.1221 18.7781L18.1921 11.7071L9.70711 3.22211ZM9.70711 3.22211L8.29311 1.80811" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M20 15C20 15 23 17.993 23 19.887C23 21.542 21.655 22.887 20 22.887C18.344 22.887 17.012 21.542 17 19.887C17.01 17.992 20 15 20 15Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,image:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M9 10C10.1046 10 11 9.10457 11 8C11 6.89543 10.1046 6 9 6C7.89543 6 7 6.89543 7 8C7 9.10457 7.89543 10 9 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M2.67004 18.9501L7.60004 15.6401C8.39004 15.1101 9.53004 15.1701 10.24 15.7801L10.57 16.0701C11.35 16.7401 12.61 16.7401 13.39 16.0701L17.55 12.5001C18.33 11.8301 19.59 11.8301 20.37 12.5001L22 13.9001" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,upload:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11 16V7.85L8.4 10.45L7 9L12 4L17 9L15.6 10.45L13 7.85V16H11ZM6 20C5.45 20 4.97933 19.8043 4.588 19.413C4.19667 19.0217 4.00067 18.5507 4 18V15H6V18H18V15H20V18C20 18.55 19.8043 19.021 19.413 19.413C19.0217 19.805 18.5507 20.0007 18 20H6Z" fill="currentColor"/>
  </svg>
  `,error:`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M12 16.462C12.1747 16.462 12.3207 16.403 12.438 16.285C12.556 16.167 12.615 16.0207 12.615 15.846C12.615 15.672 12.556 15.526 12.438 15.408C12.3207 15.29 12.1747 15.231 12 15.231C11.8253 15.231 11.6793 15.29 11.562 15.408C11.444 15.526 11.385 15.672 11.385 15.846C11.385 16.0207 11.444 16.167 11.562 16.285C11.6793 16.403 11.8253 16.462 12 16.462ZM11.5 13.154H12.5V7.154H11.5V13.154ZM12.003 21C10.759 21 9.589 20.764 8.493 20.292C7.39767 19.8193 6.44467 19.178 5.634 18.368C4.82333 17.5587 4.18167 16.6067 3.709 15.512C3.23633 14.4173 3 13.2477 3 12.003C3 10.759 3.236 9.589 3.708 8.493C4.18067 7.39767 4.822 6.44467 5.632 5.634C6.44133 4.82333 7.39333 4.18167 8.488 3.709C9.58267 3.23633 10.7523 3 11.997 3C13.241 3 14.411 3.236 15.507 3.708C16.6023 4.18067 17.5553 4.822 18.366 5.632C19.1767 6.44133 19.8183 7.39333 20.291 8.488C20.7637 9.58267 21 10.7523 21 11.997C21 13.241 20.764 14.411 20.292 15.507C19.8193 16.6023 19.178 17.5553 18.368 18.366C17.5587 19.1767 16.6067 19.8183 15.512 20.291C14.4173 20.7637 13.2477 21 12.003 21Z" fill="currentColor"/>
  </svg>
  `,reset:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.08918 7.41366C5.20086 5.49505 6.97192 4.04582 9.07259 3.33583C11.1733 2.62584 13.4604 2.70347 15.5081 3.55427C17.5558 4.40507 19.2245 5.97105 20.2035 7.96063C21.1825 9.95021 21.4051 12.2278 20.8299 14.3693C20.2546 16.5108 18.9207 18.3702 17.0765 19.6014C15.2323 20.8326 13.0035 21.3516 10.8051 21.0618C8.60669 20.772 6.58854 19.6931 5.1264 18.026C3.66427 16.359 2.85781 14.2174 2.85718 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M8.57143 7.42812H4V2.85669" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,editImage:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M16.7989 9.0001C16.7989 9.47749 16.6093 9.93532 16.2717 10.2729C15.9341 10.6105 15.4763 10.8001 14.9989 10.8001C14.5215 10.8001 14.0637 10.6105 13.7261 10.2729C13.3885 9.93532 13.1989 9.47749 13.1989 9.0001C13.1989 8.52271 13.3885 8.06487 13.7261 7.72731C14.0637 7.38974 14.5215 7.2001 14.9989 7.2001C15.4763 7.2001 15.9341 7.38974 16.2717 7.72731C16.6093 8.06487 16.7989 8.52271 16.7989 9.0001ZM15.5989 9.0001C15.5989 8.84097 15.5357 8.68836 15.4232 8.57583C15.3106 8.46331 15.158 8.4001 14.9989 8.4001C14.8398 8.4001 14.6872 8.46331 14.5746 8.57583C14.4621 8.68836 14.3989 8.84097 14.3989 9.0001C14.3989 9.15923 14.4621 9.31184 14.5746 9.42436C14.6872 9.53688 14.8398 9.6001 14.9989 9.6001C15.158 9.6001 15.3106 9.53688 15.4232 9.42436C15.5357 9.31184 15.5989 9.15923 15.5989 9.0001ZM3.6001 7.2001C3.6001 6.24532 3.97938 5.32964 4.65451 4.65451C5.32964 3.97938 6.24532 3.6001 7.2001 3.6001H16.7989C17.7537 3.6001 18.6694 3.97938 19.3445 4.65451C20.0196 5.32964 20.3989 6.24532 20.3989 7.2001V10.8025C19.9856 10.8213 19.5791 10.9144 19.1989 11.0773V7.2001C19.1989 6.56358 18.946 5.95313 18.496 5.50304C18.0459 5.05295 17.4354 4.8001 16.7989 4.8001H7.1989C6.56238 4.8001 5.95193 5.05295 5.50184 5.50304C5.05175 5.95313 4.7989 6.56358 4.7989 7.2001V16.7989C4.7989 17.2453 4.9225 17.6641 5.1349 18.0229L10.7377 12.5173C11.0743 12.1868 11.5272 12.0016 11.9989 12.0016C12.4706 12.0016 12.9235 12.1868 13.2601 12.5173L15.3541 14.5753L14.5057 15.4237L12.4201 13.3729C12.3079 13.2626 12.1568 13.2008 11.9995 13.2008C11.8422 13.2008 11.6911 13.2626 11.5789 13.3729L5.9857 18.8689C6.35359 19.0859 6.77296 19.2003 7.2001 19.2001H11.3689C11.3497 19.2601 11.3329 19.3237 11.3173 19.3861L11.0641 20.4001H7.2001C6.24532 20.4001 5.32964 20.0208 4.65451 19.3457C3.97938 18.6706 3.6001 17.7549 3.6001 16.8001V7.2001ZM13.1749 18.4513L18.9697 12.6553C19.3908 12.2346 19.9617 11.9983 20.5569 11.9985C21.1522 11.9988 21.723 12.2354 22.1437 12.6565C22.5644 13.0776 22.8007 13.6485 22.8005 14.2437C22.8002 14.839 22.5636 15.4098 22.1425 15.8305L16.3477 21.6241C16.0101 21.9619 15.587 22.2016 15.1237 22.3177L13.3261 22.7677C13.1473 22.8121 12.9601 22.8095 12.7826 22.7601C12.6051 22.7107 12.4435 22.6163 12.3133 22.486C12.1831 22.3557 12.0888 22.1939 12.0396 22.0164C11.9904 21.8389 11.988 21.6516 12.0325 21.4729L12.4813 19.6753C12.5977 19.2121 12.8365 18.7885 13.1749 18.4513Z" fill="currentColor"/>
  </svg>
  `,video:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M9.1001 12V10.52C9.1001 8.60999 10.4501 7.83999 12.1001 8.78999L13.3801 9.52999L14.6601 10.27C16.3101 11.22 16.3101 12.78 14.6601 13.73L13.3801 14.47L12.1001 15.21C10.4501 16.16 9.1001 15.38 9.1001 13.48V12Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  `,fit:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5" />
</svg>
`,ltr:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M21 18L17 14V17H5V19H17V22M9 10V15H11V4H13V15H15V4H17V2H9C7.93913 2 6.92172 2.42143 6.17157 3.17157C5.42143 3.92172 5 4.93913 5 6C5 7.06087 5.42143 8.07828 6.17157 8.82843C6.92172 9.57857 7.93913 10 9 10Z" fill="currentColor"/>
</svg>
`,rtl:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 17V14L4 18L8 22V19H20V17M10 10V15H12V4H14V15H16V4H18V2H10C8.93913 2 7.92172 2.42143 7.17157 3.17157C6.42143 3.92172 6 4.93913 6 6C6 7.06087 6.42143 8.07828 7.17157 8.82843C7.92172 9.57857 8.93913 10 10 10Z" fill="currentColor"/>
</svg>
`,table:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2.25 5.625C2.25 4.72989 2.60558 3.87145 3.23851 3.23851C3.87145 2.60558 4.72989 2.25 5.625 2.25H18.375C19.2701 2.25 20.1285 2.60558 20.7615 3.23851C21.3944 3.87145 21.75 4.72989 21.75 5.625V18.375C21.75 19.2701 21.3944 20.1285 20.7615 20.7615C20.1285 21.3944 19.2701 21.75 18.375 21.75H5.625C4.72989 21.75 3.87145 21.3944 3.23851 20.7615C2.60558 20.1285 2.25 19.2701 2.25 18.375V5.625ZM5.625 3.75C5.12772 3.75 4.65081 3.94754 4.29917 4.29917C3.94754 4.65081 3.75 5.12772 3.75 5.625V11.25H11.25V3.75H5.625ZM12.75 3.75V11.25H20.25V5.625C20.25 5.12772 20.0525 4.65081 19.7008 4.29917C19.3492 3.94754 18.8723 3.75 18.375 3.75H12.75ZM11.25 12.75H3.75V18.375C3.75 18.8723 3.94754 19.3492 4.29917 19.7008C4.65081 20.0525 5.12772 20.25 5.625 20.25H11.25V12.75ZM12.75 20.25H18.375C18.8723 20.25 19.3492 20.0525 19.7008 19.7008C20.0525 19.3492 20.25 18.8723 20.25 18.375V12.75H12.75V20.25Z" fill="currentColor"/>
</svg>`,"caret-down":`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor">
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
</svg>

`},Oo={namespace:"CrimsonEditor",onError:console.error,nodes:[Zt,Rt,se],theme:{text:{bold:"CrimsonEditorTheme__textBold",code:"CrimsonEditorTheme__textCode",italic:"CrimsonEditorTheme__textItalic",strikethrough:"CrimsonEditorTheme__textStrikethrough",subscript:"CrimsonEditorTheme__textSubscript",superscript:"CrimsonEditorTheme__textSuperscript",underline:"CrimsonEditorTheme__textUnderline",underlineStrikethrough:"CrimsonEditorTheme__textUnderlineStrikethrough"},list:{listitem:"CrimsonEditorTheme__listItem",listitemChecked:"CrimsonEditorTheme__listItemChecked",listitemUnchecked:"CrimsonEditorTheme__listItemUnchecked",nested:{listitem:"CrimsonEditorTheme__nestedListItem"},olDepth:["CrimsonEditorTheme__ol1","CrimsonEditorTheme__ol2","CrimsonEditorTheme__ol3","CrimsonEditorTheme__ol4","CrimsonEditorTheme__ol5"],ul:"CrimsonEditorTheme__ul"},paragraph:"CrimsonEditorTheme__paragraph"}};function Jl(n,t){const e=n.getRangeAt(0);let r;if(n.anchorNode===t){let o=t;for(;o.firstElementChild!=null;)o=o.firstElementChild;r=o.getBoundingClientRect()}else r=e.getBoundingClientRect();return r}const Ht="CrimsonEditorTheme",ql={bullet:"unordered",number:"ordered",check:"check"},Fn={toolbar:{formating:["bold","italic","underline"],lists:["unordered","ordered","check"]}};class Xl{constructor(t,e){wt(this,"input"),wt(this,"options"),wt(this,"editorElement",this.createElement("div")),wt(this,"editorWorkSpace",this.createElement("div")),wt(this,"lexicalEditor"),wt(this,"buttons",{}),wt(this,"toolbar",this.createElement("div")),wt(this,"EditorToolbarActions",{clearformat:()=>{this.lexicalEditor.update(()=>{const r=P();if(k(r)){const o=r.anchor,i=r.focus,s=r.getNodes();if(o.key===i.key&&o.offset===i.offset)return;s.forEach((l,a)=>{if(S(l)){let c=l;a===0&&o.offset!==0&&(c=c.splitText(o.offset)[1]||c),a===s.length-1&&(c=c.splitText(i.offset)[0]||c),c.__style!==""&&c.setStyle(""),c.__format!==0&&(c.setFormat(0),Ki(c).setFormat("")),l=c}})}})}}),this.options={...Fn,...e},this.input=t,this.readOnly=e.readOnly,this.init()}init(){this.editorElement.className=Ht,this.editorElement.classList.add(this.options.mode==="light"?"light":"dark"),this.input.insertAdjacentElement("afterend",this.editorElement),this.input.style.display="none",this.createEditorWorkSpace(),this.initLexical(),this.createToolbar(),this.appendStyleSheet(),this.attachEditorChangeEvent(),this.initWindowEvents()}createElement(t){return document.createElement(t)}createToolbarButton(t,e,r){const o=this.createElement("button");return o.className=`${Ht}__toolbar-button`,o.innerHTML=$l[t],o.title=t,o.setAttribute("data-action",t),r&&o.setAttribute("data-category",r),o.setAttribute("aria-label",t),o.style.border="none",o.style.cursor="pointer",o.style.padding="4px",o.style.borderRadius="4px",o.style.display="inline-flex",o.style.position="relative",o.style.transition="background-color 300ms ease-out",o.style.color="inherit",o.type="button",e&&o.addEventListener("click",e),o}createToolbar(){var t,e,r,o;this.toolbar.className=`${Ht}__toolbar`,this.toolbar.style.display="flex",this.toolbar.style.alignItems="center",this.toolbar.style.gap="1rem",this.toolbar.style.flexWrap="wrap",this.toolbar.style.color=this.options.mode==="light"?"white":"black";const i=this.options.toolbar;(e=(t=i.formating)==null?void 0:t.filter(l=>Fn.toolbar.formating.includes(l)))==null||e.forEach(l=>{let a;switch(l){case"clearformat":a=this.createToolbarButton(l,()=>this.EditorToolbarActions.clearformat());break;default:a=this.createToolbarButton(l,()=>this.lexicalEditor.dispatchCommand(_t,l))}a&&(this.toolbar.appendChild(a),this.buttons[l]=a)});const s={unordered:wo,ordered:ko,check:bo};(o=(r=i.lists)==null?void 0:r.filter(l=>Fn.toolbar.lists.includes(l)))==null||o.forEach(l=>{let a=this.createToolbarButton(l,c=>{c.currentTarget.classList.contains("active")?this.lexicalEditor.dispatchCommand(To,void 0):this.lexicalEditor.dispatchCommand(s[l],void 0)},"list");this.toolbar.append(a),this.buttons[l]=a}),this.editorElement.prepend(this.toolbar)}createEditorWorkSpace(){this.editorWorkSpace.className=`${Ht}__editor-work-space`,this.editorWorkSpace.contentEditable=!0,this.editorWorkSpace.style.border="1px solid black",this.editorWorkSpace.style.minHeight="400px",this.editorWorkSpace.style.padding="20px",this.editorWorkSpace.style.overflow="auto",this.editorWorkSpace.style.color=this.options.mode==="light"?"white":"black",this.editorElement.appendChild(this.editorWorkSpace)}initLexical(){this.lexicalEditor=hl(Oo),this.lexicalEditor.setRootElement(this.editorWorkSpace),this.lexicalEditor.update(()=>{const t=new DOMParser().parseFromString(this.input.value,"text/html"),e=ji(this.lexicalEditor,t);J().select(),Hi(e)}),Ul(this.lexicalEditor),this.lexicalEditor.registerUpdateListener(({editorState:t})=>{t.read(()=>{const e=Ui(this.lexicalEditor);this.input.value=e})}),this.registerEditorCommands(),this.registerRootEventListers()}registerEditorCommands(){this.lexicalEditor.registerCommand(wo,()=>(On(this.lexicalEditor,"bullet"),!0),he),this.lexicalEditor.registerCommand(ko,()=>(On(this.lexicalEditor,"number"),!0),he),this.lexicalEditor.registerCommand(bo,()=>(On(this.lexicalEditor,"check"),!0),he),this.lexicalEditor.registerCommand(To,()=>(El(this.lexicalEditor),!0),he),this.lexicalEditor.registerCommand(we,t=>{const e=P();if(!k(e))return!1;const r=e.anchor.getNode(),o=Se(r,W);return o&&o.getTextContent().trim()===""?(this.lexicalEditor.update(()=>{const i=Gn(o,Rt);if(i){const s=nt();if(i.getChildren().length>1){const l=nt();i.insertAfter(l),l.select(),o.remove(),setTimeout(()=>{this.lexicalEditor.update(()=>{console.log(i.getNextSiblings())})},0)}else i.replace(s),s.select();i.getChildrenSize()===0&&i.remove()}}),!0):!1},he)}registerRootEventListers(){this.lexicalEditor.registerRootListener(t=>{t.addEventListener("click",e=>{const r=window.getSelection(),o=this.lexicalEditor.getRootElement();r.type!=="None"&&Jl(r,o)})})}appendStyleSheet(){const t=document.createElement("style");t.innerHTML=`
      .CrimsonEditorTheme {
        font-family: inherit;
        display:flex;
        flex-direction:column;
        gap:24px;
      }

      .CrimsonEditorTheme.light .${Ht}__toolbar *{
        color:white !important;
      }

      .CrimsonEditorTheme .${Ht}__toolbar .select-dropdown-wrapper *{
        color:black !important;
      }

      .CrimsonEditorTheme .${Ht}__toolbar *:not(svg, path, button){
        color:black !important;
      }

      .CrimsonEditorTheme__textBold {
        font-weight: bold;
      }

      .CrimsonEditorTheme__editor-work-space.rtl *{
        direction: rtl !important;
      }
  
      .CrimsonEditorTheme__textCode {
        font-family: monospace;
      }
  
      .CrimsonEditorTheme__textItalic {
        font-style: italic;
      }
  
      .CrimsonEditorTheme__textStrikethrough {
        text-decoration: line-through;
      }
  
      .CrimsonEditorTheme__textUnderline {
        text-decoration: underline;
      }
  
      .CrimsonEditorTheme__textUnderlineStrikethrough {
        text-decoration: underline line-through;
      }
  
      .CrimsonEditorTheme__listItemChecked,
      .CrimsonEditorTheme__listItemUnchecked {
        position: relative;
        margin-left: 8px;
        margin-right: 8px;
        padding-left: 24px;
        padding-right: 24px;
        list-style-type: none;
        outline: none;
      }
  
      .CrimsonEditorTheme__listItemUnchecked:before, .CrimsonEditorTheme__listItemChecked:before {
        content: "";
        width: 16px;
        height: 16px;
        left: 0;
        top:2px;
        cursor: pointer;
        display: block;
        background-size: cover;
        position: absolute;
      }
  
      .CrimsonEditorTheme__listItemUnchecked:before {
        border: 1px solid #999;
        border-radius: 2px;
      }
  
      .CrimsonEditorTheme__listItemChecked:before {
        border: 1px solid rgb(61,135,245);
        border-radius: 2px;
        background-color: #3d87f5;
        background-repeat: no-repeat;
      }
  
      .CrimsonEditorTheme__listItemChecked:after {
        content: "";
        cursor: pointer;
        border-color: #fff;
        border-style: solid;
        position: absolute;
        display: block;
        top: 6px;
        width: 3px;
        left: 7px;
        right: 7px;
        height: 6px;
        transform: rotate(45deg);
        border-width: 0 2px 2px 0;
      }
  
      .CrimsonEditorTheme__listItemChecked > span{
        text-decoration: line-through;
      }
  
      .CrimsonEditorTheme__toolbar-button{
        background-color: transparent
      }
  
      .CrimsonEditorTheme__toolbar-button.active{
        background-color: rgba(195,195,195,0.5)
      }
  
      .select-dropdown-wrapper::-webkit-scrollbar{
        width:10px;
      }
  
      .select-dropdown-wrapper::-webkit-scrollbar-thumb{
        width:10px;
        background-color: #eeeeee;
        border-radius: 10px
      }
  
      .color-picker{
        position:absolute !important;
        top: 110% !important;
        left: 20% !important;
      }
  
      .CrimsonEditorTheme__link{
        display:inline-block
      }
  
      .CrimsonEditorTheme__link:has(span.float-left){
        float:left
      }
  
      .CrimsonEditorTheme__link:has(span.float-right){
        float:right
      }
  
      .CrimsonEditorTheme__paragraph:has(span.float-center){
        text-align:center
      }
}
    `,this.editorElement.prepend(t)}attachEditorChangeEvent(){const t=[this.buttons.unordered,this.buttons.ordered,this.buttons.check].filter(Boolean),e=this,r=this.options.toolbar;this.lexicalEditor.registerUpdateListener(function({editorState:s}){s.read(function(){var l,a;const c=P();c&&((l=r.formating)==null||l.forEach(u=>{o(c,u)}),(a=r.align)==null||a.forEach(u=>{updateAlignmentFormatButtons(c,u)}),i(c))})});function o(s,l){k(s)&&e.buttons[l].classList.toggle("active",s.hasFormat(l))}function i(s){if(!k(s))return;const l=s.anchor.getNode();let a=l.getKey()==="root"?l:Se(l,f=>{const d=f.getParent();return d!==null&&Ct(d)});a===null&&(a=l.getTopLevelElementOrThrow());const c=Gn(l,Rt),u=c?c.getListType():(a==null?void 0:a.getListType)&&a.getListType();t.forEach(f=>{f.dataset.action===ql[u]?f.classList.add("active"):f.classList.remove("active")})}}initWindowEvents(){if(this.readOnly)return;this.editorElement;const{list:t,link:e}=Oo.theme;window.addEventListener("click",r=>{this.editorElement.contains(r.target)&&r.target.classList.contains(t.listitem)&&(r.target.classList.contains(t.listitemUnchecked)?r.target.classList.replace(t.listitemUnchecked,t.listitemChecked):r.target.classList.replace(t.listitemChecked,t.listitemUnchecked))})}getLexicalKeyFromDOMElement(t){const e=Object.entries(t);let r="";for(let o=0;o<e.length;o++)if(e[o][0].startsWith("__lexicalKey")){r=e[o][1];break}return r}}window.CrimsonEditor=Xl;
